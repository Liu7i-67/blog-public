{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///E:/qbb/github/blog-public/src/lib/markdown-renderer.ts"],"sourcesContent":["import { marked } from 'marked'\r\nimport type { Tokens } from 'marked'\r\nimport { codeToHtml } from 'shiki'\r\n\r\nexport type TocItem = { id: string; text: string; level: number }\r\n\r\nexport interface MarkdownRenderResult {\r\n\thtml: string\r\n\ttoc: TocItem[]\r\n}\r\n\r\nexport function slugify(text: string): string {\r\n\treturn text\r\n\t\t.toLowerCase()\r\n\t\t.replace(/[^a-z0-9\\u4e00-\\u9fa5\\s-]/g, '')\r\n\t\t.trim()\r\n\t\t.replace(/\\s+/g, '-')\r\n}\r\n\r\nexport async function renderMarkdown(markdown: string): Promise<MarkdownRenderResult> {\r\n\t// Parse TOC from markdown\r\n\tconst toc: TocItem[] = []\r\n\tfor (const line of markdown.split('\\n')) {\r\n\t\tconst m = /^(#{1,3})\\s+(.+)$/.exec(line.trim())\r\n\t\tif (m) {\r\n\t\t\tconst level = m[1].length\r\n\t\t\tconst text = m[2].trim()\r\n\t\t\tconst id = slugify(text)\r\n\t\t\ttoc.push({ id, text, level })\r\n\t\t}\r\n\t}\r\n\r\n\t// Pre-process code blocks with Shiki\r\n\tconst codeBlockMap = new Map<string, { html: string; original: string }>()\r\n\tconst tokens = marked.lexer(markdown)\r\n\r\n\tfor (const token of tokens) {\r\n\t\tif (token.type === 'code') {\r\n\t\t\tconst codeToken = token as Tokens.Code\r\n\t\t\tconst originalCode = codeToken.text\r\n\t\t\ttry {\r\n\t\t\t\tconst html = await codeToHtml(originalCode, {\r\n\t\t\t\t\tlang: codeToken.lang || 'text',\r\n\t\t\t\t\ttheme: 'one-light'\r\n\t\t\t\t})\r\n\t\t\t\tconst key = `__SHIKI_CODE_${codeBlockMap.size}__`\r\n\t\t\t\tcodeBlockMap.set(key, { html, original: originalCode })\r\n\t\t\t\tcodeToken.text = key\r\n\t\t\t} catch {\r\n\t\t\t\t// Keep original if highlighting fails\r\n\t\t\t\tconst key = `__SHIKI_CODE_${codeBlockMap.size}__`\r\n\t\t\t\tcodeBlockMap.set(key, { html: '', original: originalCode })\r\n\t\t\t\tcodeToken.text = key\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// Render HTML with heading ids\r\n\tconst renderer = new marked.Renderer()\r\n\r\n\trenderer.heading = (token: Tokens.Heading) => {\r\n\t\tconst id = slugify(token.text || '')\r\n\t\treturn `<h${token.depth} id=\"${id}\">${token.text}</h${token.depth}>`\r\n\t}\r\n\r\n\trenderer.code = (token: Tokens.Code) => {\r\n\t\t// Check if this code block was pre-processed\r\n\t\tconst codeData = codeBlockMap.get(token.text)\r\n\t\tif (codeData) {\r\n\t\t\t// Add data-code attribute with original code for copy functionality\r\n\t\t\t// Escape HTML entities for attribute value\r\n\t\t\tconst escapedCode = codeData.original\r\n\t\t\t\t.replace(/&/g, '&amp;')\r\n\t\t\t\t.replace(/\"/g, '&quot;')\r\n\t\t\t\t.replace(/'/g, '&#39;')\r\n\t\t\t\t.replace(/</g, '&lt;')\r\n\t\t\t\t.replace(/>/g, '&gt;')\r\n\t\t\tif (codeData.html) {\r\n\t\t\t\t// Shiki highlighted code\r\n\t\t\t\treturn `<pre data-code=\"${escapedCode}\">${codeData.html}</pre>`\r\n\t\t\t}\r\n\t\t\t// Fallback for failed highlighting\r\n\t\t\treturn `<pre data-code=\"${escapedCode}\"><code>${codeData.original}</code></pre>`\r\n\t\t}\r\n\t\t// Fallback to default (inline code, not code block)\r\n\t\treturn `<code>${token.text}</code>`\r\n\t}\r\n\r\n\trenderer.listitem = (token: Tokens.ListItem) => {\r\n\t\t// Render inline markdown inside list items (e.g. links, emphasis)\r\n\t\tconst inner = token.tokens ? (marked.parser(token.tokens) as string) : token.text\r\n\r\n\t\tif (token.task) {\r\n\t\t\tconst checkbox = token.checked ? '<input type=\"checkbox\" checked disabled />' : '<input type=\"checkbox\" disabled />'\r\n\t\t\treturn `<li class=\"task-list-item\">${checkbox} ${inner}</li>\\n`\r\n\t\t}\r\n\r\n\t\treturn `<li>${inner}</li>\\n`\r\n\t}\r\n\r\n\tmarked.use({\r\n\t\trenderer\r\n\t})\r\n\tconst html = (marked.parser(tokens) as string) || ''\r\n\r\n\treturn { html, toc }\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 110, "column": 0}, "map": {"version":3,"sources":["E:/qbb/github/blog-public/src/components/dialog-modal.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useEffect, useState, type ReactNode } from 'react'\r\nimport { createPortal } from 'react-dom'\r\nimport { AnimatePresence, motion } from 'motion/react'\r\nimport { cn } from '@/lib/utils'\r\n\r\ninterface DialogModalProps {\r\n\topen: boolean\r\n\tonClose: () => void\r\n\tchildren: ReactNode\r\n\tclassName?: string\r\n\toverlayClassName?: string\r\n\tdisableCloseOnOverlay?: boolean\r\n\tlockScroll?: boolean\r\n\tcloseOnEsc?: boolean\r\n}\r\n\r\nexport function DialogModal({ open, onClose, children, className, disableCloseOnOverlay = false, lockScroll = true, closeOnEsc = true }: DialogModalProps) {\r\n\tconst [mounted, setMounted] = useState(false)\r\n\r\n\tuseEffect(() => {\r\n\t\tsetMounted(true)\r\n\t}, [])\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!lockScroll || !open) return\r\n\t\tconst previous = document.body.style.overflow\r\n\t\tdocument.body.style.overflow = 'hidden'\r\n\t\treturn () => {\r\n\t\t\tdocument.body.style.overflow = previous\r\n\t\t}\r\n\t}, [lockScroll, open])\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!closeOnEsc || !open) return\r\n\t\tconst handler = (event: KeyboardEvent) => {\r\n\t\t\tif (event.key === 'Escape') {\r\n\t\t\t\tonClose()\r\n\t\t\t}\r\n\t\t}\r\n\t\twindow.addEventListener('keydown', handler)\r\n\t\treturn () => {\r\n\t\t\twindow.removeEventListener('keydown', handler)\r\n\t\t}\r\n\t}, [closeOnEsc, onClose, open])\r\n\r\n\tif (!mounted) return null\r\n\r\n\treturn createPortal(\r\n\t\t<AnimatePresence>\r\n\t\t\t{open && (\r\n\t\t\t\t<motion.div\r\n\t\t\t\t\tinitial={{ opacity: 0 }}\r\n\t\t\t\t\tanimate={{ opacity: 1 }}\r\n\t\t\t\t\texit={{ opacity: 0 }}\r\n\t\t\t\t\tclassName={'fixed inset-0 z-50 flex items-center justify-center bg-card p-4 backdrop-blur-xl'}\r\n\t\t\t\t\tonClick={disableCloseOnOverlay ? undefined : onClose}>\r\n\t\t\t\t\t<motion.div\r\n\t\t\t\t\t\tinitial={{ opacity: 0, scale: 0.8, y: 20 }}\r\n\t\t\t\t\t\tanimate={{ opacity: 1, scale: 1, y: 0 }}\r\n\t\t\t\t\t\texit={{ opacity: 0, scale: 0.8, y: 20 }}\r\n\t\t\t\t\t\tclassName={cn('static', className)}\r\n\t\t\t\t\t\tonClick={e => e.stopPropagation()}>\r\n\t\t\t\t\t\t{children}\r\n\t\t\t\t\t</motion.div>\r\n\t\t\t\t</motion.div>\r\n\t\t\t)}\r\n\t\t</AnimatePresence>,\r\n\t\tdocument.body\r\n\t)\r\n}\r\n"],"names":["c","_c","useEffect","useState","ReactNode","createPortal","AnimatePresence","motion","cn","DialogModalProps","open","onClose","children","className","overlayClassName","disableCloseOnOverlay","lockScroll","closeOnEsc","DialogModal","t0","$","$i","Symbol","for","t1","t2","t3","undefined","mounted","setMounted","t4","t5","DialogModal[useEffect()]","t6","t7","previous","document","body","style","overflow","t8","t9","handler","event","key","window","addEventListener","removeEventListener","t10","opacity","scale","y","_DialogModalMotionDivOnClick","t11","e","stopPropagation"],"mappings":";;;;;AAAY,SAAAA,CAAA,IAAAC,EAAA;AAEZ,SAASC,SAAS,EAAEC,QAAQ,EAAE,KAAKC,SAAS,QAAQ,OAAO;AAC3D,SAASC,YAAY,QAAQ,WAAW;AACxC,SAASC,eAAe,EAAEC,MAAM,QAAQ,cAAc;;AACtD,SAASC,EAAE,QAAQ,aAAa;;;AALhC,YAAY;;;;;;AAkBL,qBAAAW,EAAA;;IAAA,MAAAC,CAAA,OAAAnB,+RAAA,EAAA;IAAA,IAAAmB,CAAA,CAAA,EAAA,KAAA,oEAAA;QAAA,IAAA,IAAAC,EAAA,GAAA,GAAAA,EAAA,GAAA,IAAAA,EAAA,IAAA,EAAA;YAAAD,CAAA,CAAAC,EAAA,CAAA,GAAAC,MAAA,CAAAC,GAAA,CAAA;QAAA;QAAAH,CAAA,CAAA,EAAA,GAAA;IAAA;IAAqB,MAAA,EAAAV,IAAA,EAAAC,OAAA,EAAAC,QAAA,EAAAC,SAAA,EAAAE,qBAAA,EAAAS,EAAA,EAAAR,UAAA,EAAAS,EAAA,EAAAR,UAAA,EAAAS,EAAAA,EAAA,GAAAP,EAA6H;IAAvF,MAAAJ,qBAAA,GAAAS,EAA6B,KAA7BG,SAA6B,GAA7B,KAA6B,GAA7BH,EAA6B;IAAE,MAAAR,UAAA,GAAAS,EAAiB,KAAjBE,SAAiB,GAAjB,IAAiB,GAAjBF,EAAiB;IAAE,MAAAR,UAAA,GAAAS,EAAiB,KAAjBC,SAAiB,GAAjB,IAAiB,GAAjBD,EAAiB;IACpI,MAAA,CAAAE,OAAA,EAAAC,UAAA,CAAA,OAA8B1B,wRAAQ,EAAC,KAAK,CAAC;IAAA,IAAA2B,EAAA;IAAA,IAAAC,EAAA;IAAA,IAAAX,CAAA,CAAA,EAAA,KAAAE,MAAA,CAAAC,GAAA,CAAA,8BAAA;QAEnCO,EAAA,GAAA,CAAA;YAAA,4BAAAE,CAAA;gBACTH,UAAU,CAAC,IAAI,CAAC;YAAA;SAAA,CAAA,CAAA,2BAChB;QAAEE,EAAA,GAAA,EAAE;QAAAX,CAAA,CAAA,EAAA,GAAAU,EAAA;QAAAV,CAAA,CAAA,EAAA,GAAAW,EAAA;IAAA,OAAA;QAAAD,EAAA,GAAAV,CAAA,CAAA,EAAA;QAAAW,EAAA,GAAAX,CAAA,CAAA,EAAA;IAAA;QAFLlB,yRAAS,EAAC4B,EAET,EAAEC,EAAE,CAAC;IAAA,IAAAE,EAAA;IAAA,IAAAC,EAAA;IAAA,IAAAd,CAAA,CAAA,EAAA,KAAAJ,UAAA,IAAAI,CAAA,CAAA,EAAA,KAAAV,IAAA,EAAA;QAEIuB,EAAA,GAAA,CAAA;YAAA,4BAAAD,CAAA;gBACT,IAAI,CAAChB,UAAmB,IAApB,CAAgBN,IAAI,EAAA;oBAAA;gBAAA;gBACxB,MAAAyB,QAAA,GAAiBC,QAAQ,CAAAC,IAAK,CAAAC,KAAM,CAAAC,QAAS;gBAC7CH,QAAQ,CAAAC,IAAK,CAAAC,KAAM,CAAAC,QAAA,GAAY,QAAH;gBAAA,OACrB;oBACNH,QAAQ,CAAAC,IAAK,CAAAC,KAAM,CAAAC,QAAA,GAAYJ,QAAH;gBAAA,CAC5B;YAAA;SAAA,CAAA,CAAA,2BACD;QAAED,EAAA,GAAA;YAAClB,UAAU;YAAEN,IAAI;SAAC;QAAAU,CAAA,CAAA,EAAA,GAAAJ,UAAA;QAAAI,CAAA,CAAA,EAAA,GAAAV,IAAA;QAAAU,CAAA,CAAA,EAAA,GAAAa,EAAA;QAAAb,CAAA,CAAA,EAAA,GAAAc,EAAA;IAAA,OAAA;QAAAD,EAAA,GAAAb,CAAA,CAAA,EAAA;QAAAc,EAAA,GAAAd,CAAA,CAAA,EAAA;IAAA;IAPrBlB,6RAAS,EAAC+B,EAOT,EAAEC,EAAkB,CAAC;IAAA,IAAAM,EAAA;IAAA,IAAAC,EAAA;IAAA,IAAArB,CAAA,CAAA,EAAA,KAAAH,UAAA,IAAAG,CAAA,CAAA,EAAA,KAAAT,OAAA,IAAAS,CAAA,CAAA,EAAA,KAAAV,IAAA,EAAA;QAEZ8B,EAAA,GAAA,CAAA;YAAA,4BAAAR,CAAA;gBACT,IAAI,CAACf,UAAmB,IAApB,CAAgBP,IAAI,EAAA;oBAAA;gBAAA;gBACxB,MAAAgC,OAAA,GAAgB;oBAAA,uCAAAC,KAAA;wBACf,IAAIA,KAAK,CAAAC,GAAI,KAAK,QAAQ,EAAA;4BACzBjC,OAAO,CAAC,CAAC;wBAAA;oBACT;gBAAA,CAAA,CAAA,qCACD;gBACDkC,MAAM,CAAAC,gBAAiB,CAAC,SAAS,EAAEJ,OAAO,CAAC;gBAAA,OACpC;oBACNG,MAAM,CAAAE,mBAAoB,CAAC,SAAS,EAAEL,OAAO,CAAC;gBAAA,CAC9C;YAAA;QAAA,EAAA,CAAA,2BACD;QAAED,EAAA,GAAA;YAACxB,UAAU;YAAEN,OAAO;YAAED,IAAI;SAAC;QAAAU,CAAA,CAAA,EAAA,GAAAH,UAAA;QAAAG,CAAA,CAAA,EAAA,GAAAT,OAAA;QAAAS,CAAA,CAAA,EAAA,GAAAV,IAAA;QAAAU,CAAA,CAAA,GAAA,GAAAoB,EAAA;QAAApB,CAAA,CAAA,GAAA,GAAAqB,EAAA;IAAA,OAAA;QAAAD,EAAA,GAAApB,CAAA,CAAA,GAAA;QAAAqB,EAAA,GAAArB,CAAA,CAAA,GAAA;IAAA;IAX9BlB,6RAAS,EAACsC,EAWT,EAAEC,EAA2B,CAAC;IAE/B,IAAI,CAACb,OAAO,EAAA;QAAA,OAAS,IAAI;IAAA;IAAA,IAAAoB,GAAA;IAAA,IAAA5B,CAAA,CAAA,GAAA,KAAAR,QAAA,IAAAQ,CAAA,CAAA,GAAA,KAAAP,SAAA,IAAAO,CAAA,CAAA,GAAA,KAAAL,qBAAA,IAAAK,CAAA,CAAA,GAAA,KAAAT,OAAA,IAAAS,CAAA,CAAA,GAAA,KAAAV,IAAA,EAAA;QAItBsC,GAAA,GAAAtC,IAgBA,kBAfA,4SAAA,6SAAA,CAAA,GAAA;YACU,OAAc,CAAd,CAAA;gBAAAuC,OAAA,EAAW;YAAE,EAAC;YACd,OAAc,CAAd,CAAA;gBAAAA,OAAA,EAAW;YAAE,EAAC;YACjB,IAAc,CAAd,CAAA;gBAAAA,OAAA,EAAW;YAAE,EAAC;YACT,SAAkF,EAAlF,kFAAkF;YACpF,OAA2C,CAA3C,CAAAlC,qBAAqB,GAArBY,SAA2C,GAA3ChB,OAA0C,CAAC;oCACpD,4SAAA,6SAAA,CAAA,GAAA;gBACU,OAAiC,CAAjC,CAAA;oBAAAsC,OAAA,EAAW,CAAC;oBAAAC,KAAA,EAAS,GAAG;oBAAAC,CAAA,EAAK;gBAAG,EAAC;gBACjC,OAA8B,CAA9B,CAAA;oBAAAF,OAAA,EAAW,CAAC;oBAAAC,KAAA,EAAS,CAAC;oBAAAC,CAAA,EAAK;gBAAE,EAAC;gBACjC,IAAiC,CAAjC,CAAA;oBAAAF,OAAA,EAAW,CAAC;oBAAAC,KAAA,EAAS,GAAG;oBAAAC,CAAA,EAAK;gBAAG,EAAC;gBAC5B,SAAuB,CAAvB,KAAA3C,4HAAE,EAAC,QAAQ,EAAEK,SAAS,EAAC;gBACzB,OAAwB,CAAxB,CAAAuC,4BAAuB,CAAC,CAChCxC;0BAAAA,QAAO,CACT,aACD,aACA;;;;;;;;;;;QAAAQ,CAAA,CAAA,GAAA,GAAAR,QAAA;QAAAQ,CAAA,CAAA,GAAA,GAAAP,SAAA;QAAAO,CAAA,CAAA,GAAA,GAAAL,qBAAA;QAAAK,CAAA,CAAA,GAAA,GAAAT,OAAA;QAAAS,CAAA,CAAA,GAAA,GAAAV,IAAA;QAAAU,CAAA,CAAA,GAAA,GAAA4B,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAA5B,CAAA,CAAA,GAAA;IAAA;IAAA,IAAAiC,GAAA;IAAA,IAAAjC,CAAA,CAAA,GAAA,KAAA4B,GAAA,EAAA;QAlBIK,GAAA,qBAAAhD,mSAAY,gBAClB,4SAAC,qTAAe,CACd;sBAAA2C,GAgBD,CACD,EAlBC,eAAe,CAkBE;;;;;kBAClBZ,QAAQ,CAAAC,IACT,CAAC;QAAAjB,CAAA,CAAA,GAAA,GAAA4B,GAAA;QAAA5B,CAAA,CAAA,GAAA,GAAAiC,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAAjC,CAAA,CAAA,GAAA;IAAA;IAAA,OArBMiC,GAqBN;AAAA;;KApDKnC;AAAA,SAAAkC,6BAAAE,CAAA;IAAA,OA6CaA,CAAC,CAAAC,eAAgB,CAAC,CAAC;AAAA","ignoreList":[],"debugId":null}},
    {"offset": {"line": 308, "column": 0}, "map": {"version":3,"sources":["E:/qbb/github/blog-public/src/components/markdown-image.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useState } from 'react'\r\nimport { DialogModal } from '@/components/dialog-modal'\r\n\r\ntype MarkdownImageProps = {\r\n\tsrc: string\r\n\talt?: string\r\n\ttitle?: string\r\n}\r\n\r\nexport function MarkdownImage({ src, alt = '', title = '' }: MarkdownImageProps) {\r\n\tconst [display, setDisplay] = useState(false)\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<img src={src} alt={alt} title={title} loading='lazy' onClick={() => setDisplay(true)} className='cursor-pointer transition-opacity hover:opacity-80' />\r\n\t\t\t<DialogModal open={display} onClose={() => setDisplay(false)} className='max-w-none bg-transparent p-0'>\r\n\t\t\t\t<img src={src} alt={alt} className='max-h-[90vh] max-w-full rounded-2xl object-contain' />\r\n\t\t\t</DialogModal>\r\n\t\t</>\r\n\t)\r\n}\r\n"],"names":["c","_c","useState","DialogModal","MarkdownImageProps","src","alt","title","MarkdownImage","t0","$","$i","Symbol","for","t1","t2","undefined","display","setDisplay","t3","MarkdownImage[<img>.onClick]","t4","t5","MarkdownImage[<DialogModal>.onClose]","t6","t7","t8"],"mappings":"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","ignoreList":[],"debugId":null}},
    {"offset": {"line": 436, "column": 0}, "map": {"version":3,"sources":["E:/qbb/github/blog-public/src/components/code-block.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useState } from 'react'\r\nimport { Copy, Check } from 'lucide-react'\r\n\r\ntype CodeBlockProps = {\r\n\tchildren: React.ReactNode\r\n\tcode: string\r\n}\r\n\r\nexport function CodeBlock({ children, code }: CodeBlockProps) {\r\n\tconst [copied, setCopied] = useState(false)\r\n\r\n\tconst handleCopy = async () => {\r\n\t\ttry {\r\n\t\t\tawait navigator.clipboard.writeText(code)\r\n\t\t\tsetCopied(true)\r\n\t\t\tsetTimeout(() => setCopied(false), 2000)\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error('Failed to copy code:', error)\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className='code-block-wrapper'>\r\n\t\t\t<button\r\n\t\t\t\ttype='button'\r\n\t\t\t\tonClick={handleCopy}\r\n\t\t\t\tclassName='code-block-copy-btn'\r\n\t\t\t\taria-label='Copy code'\r\n\t\t\t>\r\n\t\t\t\t{copied ? <Check size={16} /> : <Copy size={16} />}\r\n\t\t\t</button>\r\n\t\t\t{children}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\n"],"names":["c","_c","useState","Copy","Check","CodeBlockProps","children","React","ReactNode","code","CodeBlock","t0","$","$i","Symbol","for","copied","setCopied","t1","CodeBlock[handleCopy]","navigator","clipboard","writeText","setTimeout","CodeBlock[handleCopy > setTimeout()]","t2","error","console","handleCopy","t3","t4"],"mappings":"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","ignoreList":[],"debugId":null}},
    {"offset": {"line": 556, "column": 0}, "map": {"version":3,"sources":["E:/qbb/github/blog-public/src/hooks/use-markdown-render.tsx"],"sourcesContent":["import { useEffect, useState, type ReactElement } from 'react'\r\nimport parse, { type HTMLReactParserOptions, Element, type DOMNode } from 'html-react-parser'\r\nimport { renderMarkdown, type TocItem } from '@/lib/markdown-renderer'\r\nimport { MarkdownImage } from '@/components/markdown-image'\r\nimport { CodeBlock } from '@/components/code-block'\r\n\r\ntype MarkdownRenderResult = {\r\n\tcontent: ReactElement | null\r\n\ttoc: TocItem[]\r\n\tloading: boolean\r\n}\r\n\r\nexport function useMarkdownRender(markdown: string): MarkdownRenderResult {\r\n\tconst [content, setContent] = useState<ReactElement | null>(null)\r\n\tconst [toc, setToc] = useState<TocItem[]>([])\r\n\tconst [loading, setLoading] = useState<boolean>(true)\r\n\r\n\tuseEffect(() => {\r\n\t\tlet cancelled = false\r\n\r\n\t\tasync function render() {\r\n\t\t\tsetLoading(true)\r\n\t\t\ttry {\r\n\t\t\t\tconst { html, toc } = await renderMarkdown(markdown)\r\n\t\t\t\tif (!cancelled) {\r\n\t\t\t\t\t// Extract pre elements and replace with placeholders before parsing\r\n\t\t\t\t\tconst codeBlocks: Array<{ placeholder: string; code: string; preHtml: string }> = []\r\n\t\t\t\t\tlet processedHtml = html.replace(/<pre\\s+data-code=\"([^\"]*)\"([^>]*)>([\\s\\S]*?)<\\/pre>/g, (match, codeAttr, attrs, content) => {\r\n\t\t\t\t\t\tconst placeholder = `__CODE_BLOCK_${codeBlocks.length}__`\r\n\t\t\t\t\t\t// Decode HTML entities in code attribute\r\n\t\t\t\t\t\tconst code = codeAttr\r\n\t\t\t\t\t\t\t.replace(/&quot;/g, '\"')\r\n\t\t\t\t\t\t\t.replace(/&#39;/g, \"'\")\r\n\t\t\t\t\t\t\t.replace(/&lt;/g, '<')\r\n\t\t\t\t\t\t\t.replace(/&gt;/g, '>')\r\n\t\t\t\t\t\t\t.replace(/&amp;/g, '&')\r\n\t\t\t\t\t\tcodeBlocks.push({\r\n\t\t\t\t\t\t\tplaceholder,\r\n\t\t\t\t\t\t\tcode,\r\n\t\t\t\t\t\t\tpreHtml: `${content}`\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\treturn placeholder\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\t\t// Parse HTML and replace img elements and code block placeholders\r\n\t\t\t\t\tconst options: HTMLReactParserOptions = {\r\n\t\t\t\t\t\treplace(domNode: DOMNode) {\r\n\t\t\t\t\t\t\tif (domNode instanceof Element && domNode.name === 'img') {\r\n\t\t\t\t\t\t\t\tconst { src, alt, title } = domNode.attribs\r\n\t\t\t\t\t\t\t\treturn <MarkdownImage src={src} alt={alt} title={title} />\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t// Handle code block placeholders in text nodes\r\n\t\t\t\t\t\t\tif (domNode.type === 'text' && domNode.data) {\r\n\t\t\t\t\t\t\t\tconst text = domNode.data\r\n\t\t\t\t\t\t\t\tfor (const block of codeBlocks) {\r\n\t\t\t\t\t\t\t\t\tif (text.includes(block.placeholder)) {\r\n\t\t\t\t\t\t\t\t\t\tconst parts = text.split(block.placeholder)\r\n\t\t\t\t\t\t\t\t\t\tconst preElement = parse(block.preHtml) as ReactElement\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{parts[0] && <>{parts[0]}</>}\r\n\t\t\t\t\t\t\t\t\t\t\t\t<CodeBlock code={block.code}>{preElement}</CodeBlock>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{parts[1] && <>{parts[1]}</>}\r\n\t\t\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconst reactContent = parse(processedHtml, options) as ReactElement\r\n\t\t\t\t\tsetContent(reactContent)\r\n\t\t\t\t\tsetToc(toc)\r\n\t\t\t\t}\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.error('Markdown render error:', error)\r\n\t\t\t\tif (!cancelled) {\r\n\t\t\t\t\tsetContent(null)\r\n\t\t\t\t\tsetToc([])\r\n\t\t\t\t}\r\n\t\t\t} finally {\r\n\t\t\t\tif (!cancelled) {\r\n\t\t\t\t\tsetLoading(false)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\trender()\r\n\r\n\t\treturn () => {\r\n\t\t\tcancelled = true\r\n\t\t}\r\n\t}, [markdown])\r\n\r\n\treturn { content, toc, loading }\r\n}\r\n"],"names":["useEffect","useState","ReactElement","parse","HTMLReactParserOptions","Element","DOMNode","renderMarkdown","TocItem","MarkdownImage","CodeBlock","MarkdownRenderResult","content","toc","loading","useMarkdownRender","markdown","setContent","setToc","setLoading","cancelled","render","html","codeBlocks","Array","placeholder","code","preHtml","processedHtml","replace","match","codeAttr","attrs","length","push","options","domNode","name","src","alt","title","attribs","type","data","text","block","includes","parts","split","preElement","reactContent","error","console"],"mappings":";;;;;AAAA,SAASA,SAAS,EAAEC,QAAQ,EAAE,KAAKC,YAAY,QAAQ,OAAO;AAC9D,OAAOC,KAAK,IAAI,KAAKC,sBAAsB,EAAEC,OAAO,EAAE,KAAKC,OAAO,QAAQ,mBAAmB;;AAC7F,SAASC,cAAc,EAAE,KAAKC,OAAO,QAAQ,yBAAyB;AACtE,SAASC,aAAa,QAAQ,6BAA6B;AAC3D,SAASC,SAAS,QAAQ,yBAAyB;;;;;;;;AAQ5C,2BAA2BM,QAAQ,AAAQ,CAAC,CAAP,CAASL,oBAAoB,CAAC;;IACzE,MAAM,CAACC,OAAO,EAAEK,UAAU,CAAC,OAAGhB,wRAAQ,CAACC,CAAqB,IAAI,CAAC,MAAd,GAAG,IAAI,CAAC;IAC3D,MAAM,CAACW,GAAG,EAAEK,MAAM,CAAC,OAAGjB,wRAAQ,CAACO,CAAW,EAAE,CAAC,GAAP,EAAE,CAAC;IACzC,MAAM,CAACM,OAAO,EAAEK,UAAU,CAAC,OAAGlB,wRAAQ,CAAC,CAAS,IAAI,CAAC,CAAP,CAAC;QAE/CD,yRAAS;uCAAC,MAAM;YACf,IAAIoB,SAAS,GAAG,KAAK;YAErB,eAAeC,MAAMA,CAAA,EAAG;gBACvBF,UAAU,CAAC,IAAI,CAAC;gBAChB,IAAI;oBACH,MAAM,EAAEG,IAAI,EAAET,GAAG,EAAHA,KAAAA,EAAK,GAAG,UAAMN,uJAAc,EAACS,QAAQ,CAAC;oBACpD,IAAI,CAACI,SAAS,EAAE;wBACf,oEAAA;wBACA,MAAMG,UAAU,EAAEC,CAAgE,EAAE,EAA7D,CAAC;wBACxB,IAAII,aAAa,GAAGN,IAAI,CAACO,OAAO,CAAC,sDAAsD;gFAAE,CAACC,KAAK,EAAEC,QAAQ,EAAEC,KAAK,EAAEpB,SAAO,KAAK;gCAC7H,MAAMa,WAAW,GAAG,CAAA,aAAA,EAAgBF,UAAU,CAACU,MAAM,CAAA,EAAA,CAAI;gCACzD,yCAAA;gCACA,MAAMP,IAAI,GAAGK,QAAQ,CACnBF,OAAO,CAAC,SAAS,EAAE,GAAG,CAAC,CACvBA,OAAO,CAAC,QAAQ,EAAE,GAAG,CAAC,CACtBA,OAAO,CAAC,OAAO,EAAE,GAAG,CAAC,CACrBA,OAAO,CAAC,OAAO,EAAE,GAAG,CAAC,CACrBA,OAAO,CAAC,QAAQ,EAAE,GAAG,CAAC;gCACxBN,UAAU,CAACW,IAAI,CAAC;oCACfT,WAAW;oCACXC,IAAI;oCACJC,OAAO,EAAE,GAAGf,SAAO,EAAA;gCACpB,CAAC,CAAC;gCACF,OAAOa,WAAW;4BACnB,CAAC,CAAC;;wBAEF,kEAAA;wBACA,MAAMU,OAAO,EAAE/B,CAAyB,qBAAH;4BACpCyB,OAAOA,EAACO,OAAO,AAAS,EAAP9B,AAAS;gCACzB,IAAI8B,OAAO,YAAY/B,kSAAO,IAAI+B,OAAO,CAACC,IAAI,KAAK,KAAK,EAAE;oCACzD,MAAM,EAAEC,GAAG,EAAEC,GAAG,EAAEC,KAAAA,EAAO,GAAGJ,OAAO,CAACK,OAAO;oCAC3C,qBAAO,4SAAC,2JAAa;wCAAC,GAAG,CAAC,CAACH,GAAG,CAAC;wCAAC,GAAG,CAAC,CAACC,GAAG,CAAC;wCAAC,KAAK,CAAC,CAACC,KAAK,CAAC,GAAG;;;;;;gCAC3D;gCACA,+CAAA;gCACA,IAAIJ,OAAO,CAACM,IAAI,KAAK,MAAM,IAAIN,OAAO,CAACO,IAAI,EAAE;oCAC5C,MAAMC,IAAI,GAAGR,OAAO,CAACO,IAAI;oCACzB,KAAK,MAAME,KAAK,IAAItB,UAAU,CAAE;wCAC/B,IAAIqB,IAAI,CAACE,QAAQ,CAACD,KAAK,CAACpB,WAAW,CAAC,EAAE;4CACrC,MAAMsB,KAAK,GAAGH,IAAI,CAACI,KAAK,CAACH,KAAK,CAACpB,WAAW,CAAC;4CAC3C,MAAMwB,UAAU,GAAG9C,uTAAK,EAAC0C,KAAK,CAAClB,OAAO,CAAC,IAAIzB,YAAY;4CACvD,qBACC,EAAE;;oDACA6C,KAAK,CAAC,CAAC,CAAC,kBAAI,EAAE;kEAACA,KAAK,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC;;kEAC7B,4SAAC,mJAAS;wDAAC,IAAI,CAAC,CAACF,KAAK,CAACnB,IAAI,CAAC,CAAC;kEAACuB,UAAU,CAAC,EAAE,SAAS,CAAC;;;;;;oDACpDF,KAAK,CAAC,CAAC,CAAC,kBAAI,EAAE;kEAACA,KAAK,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC;;;;wCAGhC;oCACD;gCACD;4BACD;wBACD,CAAC;wBACD,MAAMG,YAAY,OAAG/C,mTAAK,EAACyB,aAAa,EAAEO,OAAO,CAAC,IAAIjC,YAAY;wBAClEe,UAAU,CAACiC,YAAY,CAAC;wBACxBhC,MAAM,CAACL,KAAG,CAAC;oBACZ;gBACD,CAAC,CAAC,OAAOsC,KAAK,EAAE;oBACfC,OAAO,CAACD,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;oBAC9C,IAAI,CAAC/B,SAAS,EAAE;wBACfH,UAAU,CAAC,IAAI,CAAC;wBAChBC,MAAM,CAAC,EAAE,CAAC;oBACX;gBACD,CAAC,QAAS;oBACT,IAAI,CAACE,SAAS,EAAE;wBACfD,UAAU,CAAC,KAAK,CAAC;oBAClB;gBACD;YACD;YAEAE,MAAM,CAAC,CAAC;YAER;+CAAO,MAAM;oBACZD,SAAS,GAAG,IAAI;gBACjB,CAAC;;QACF,CAAC;sCAAE;QAACJ,QAAQ;KAAC,CAAC;IAEd,OAAO;QAAEJ,OAAO;QAAEC,GAAG;QAAEC;IAAQ,CAAC;AACjC;GAnFgBC,iBAAiBA","ignoreList":[],"debugId":null}},
    {"offset": {"line": 687, "column": 0}, "map": {"version":3,"sources":["E:/qbb/github/blog-public/src/components/like-button.tsx"],"sourcesContent":["import { useCallback, useEffect, useState } from 'react'\r\nimport useSWR from 'swr'\r\nimport { motion, AnimatePresence } from 'motion/react'\r\nimport { Heart } from 'lucide-react'\r\nimport clsx from 'clsx'\r\nimport { cn } from '@/lib/utils'\r\nimport { toast } from 'sonner'\r\n\r\ntype LikeButtonProps = {\r\n\tslug?: string\r\n\tclassName?: string\r\n\tdelay?: number\r\n}\r\n\r\nconst ENDPOINT = 'https://blog-liker.yysuni1001.workers.dev/api/like'\r\n\r\nexport default function LikeButton({ slug = 'yysuni', delay, className }: LikeButtonProps) {\r\n\tconst [liked, setLiked] = useState(false)\r\n\tconst [show, setShow] = useState(false)\r\n\tconst [justLiked, setJustLiked] = useState(false)\r\n\tconst [particles, setParticles] = useState<Array<{ id: number; x: number; y: number }>>([])\r\n\r\n\tuseEffect(() => {\r\n\t\tsetTimeout(() => {\r\n\t\t\tsetShow(true)\r\n\t\t}, delay || 1000)\r\n\t}, [])\r\n\r\n\tuseEffect(() => {\r\n\t\tif (justLiked) {\r\n\t\t\tconst timer = setTimeout(() => setJustLiked(false), 600)\r\n\t\t\treturn () => clearTimeout(timer)\r\n\t\t}\r\n\t}, [justLiked])\r\n\r\n\tconst fetcher = useCallback(async (url: string): Promise<number | null> => {\r\n\t\tconst res = await fetch(url, { method: 'GET', cache: 'no-store' })\r\n\t\tif (!res.ok) return null\r\n\t\tconst data = await res.json().catch(() => ({}))\r\n\t\treturn typeof data?.count === 'number' ? data.count : null\r\n\t}, [])\r\n\r\n\tconst { data: fetchedCount, mutate } = useSWR(slug ? `${ENDPOINT}?slug=${encodeURIComponent(slug)}` : null, fetcher, {\r\n\t\trevalidateOnFocus: false,\r\n\t\tdedupingInterval: 1000 * 10\r\n\t})\r\n\r\n\tconst handleLike = useCallback(async () => {\r\n\t\tif (!slug) return\r\n\t\tsetLiked(true)\r\n\t\tsetJustLiked(true)\r\n\r\n\t\t// Create particle effects\r\n\t\tconst newParticles = Array.from({ length: 6 }, (_, i) => ({\r\n\t\t\tid: Date.now() + i,\r\n\t\t\tx: Math.random() * 60 - 30,\r\n\t\t\ty: Math.random() * 60 - 30\r\n\t\t}))\r\n\t\tsetParticles(newParticles)\r\n\r\n\t\t// Clear particles after animation\r\n\t\tsetTimeout(() => setParticles([]), 1000)\r\n\r\n\t\ttry {\r\n\t\t\tconst url = `${ENDPOINT}?slug=${encodeURIComponent(slug)}`\r\n\t\t\tconst res = await fetch(url, { method: 'POST' })\r\n\t\t\tconst data = await res.json().catch(() => ({}))\r\n\t\t\tif (data.reason == 'rate_limited') toast('Ë∞¢Ë∞¢Âï¶üòòÔºå‰ªäÂ§©Â∑≤Áªè‰∏çËÉΩÂÜçÁÇπËµûÂï¶üíï')\r\n\t\t\tconst value = typeof data?.count === 'number' ? data.count : (fetchedCount ?? 0) + 1\r\n\t\t\tawait mutate(value, { revalidate: false })\r\n\t\t} catch {\r\n\t\t\t// ignore\r\n\t\t}\r\n\t}, [slug, fetchedCount, mutate])\r\n\r\n\tconst count = typeof fetchedCount === 'number' ? fetchedCount : null\r\n\r\n\tif (show)\r\n\t\treturn (\r\n\t\t\t<motion.button\r\n\t\t\t\tinitial={{ opacity: 0, scale: 0.6 }}\r\n\t\t\t\tanimate={{ opacity: 1, scale: 1 }}\r\n\t\t\t\twhileHover={{ scale: 1.05 }}\r\n\t\t\t\twhileTap={{ scale: 0.95 }}\r\n\t\t\t\taria-label='Like this post'\r\n\t\t\t\tonClick={handleLike}\r\n\t\t\t\tclassName={clsx('card heartbeat-container relative overflow-visible rounded-full p-3', className)}>\r\n\t\t\t\t<AnimatePresence>\r\n\t\t\t\t\t{particles.map(particle => (\r\n\t\t\t\t\t\t<motion.div\r\n\t\t\t\t\t\t\tkey={particle.id}\r\n\t\t\t\t\t\t\tclassName='pointer-events-none absolute inset-0 flex items-center justify-center'\r\n\t\t\t\t\t\t\tinitial={{ opacity: 1, scale: 0, x: 0, y: 0 }}\r\n\t\t\t\t\t\t\tanimate={{\r\n\t\t\t\t\t\t\t\topacity: [1, 1, 0],\r\n\t\t\t\t\t\t\t\tscale: [0, 1.2, 0.8],\r\n\t\t\t\t\t\t\t\tx: particle.x,\r\n\t\t\t\t\t\t\t\ty: particle.y\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\texit={{ opacity: 0 }}\r\n\t\t\t\t\t\t\ttransition={{ duration: 0.8, ease: 'easeOut' }}>\r\n\t\t\t\t\t\t\t<Heart className='fill-rose-400 text-rose-400' size={12} />\r\n\t\t\t\t\t\t</motion.div>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</AnimatePresence>\r\n\r\n\t\t\t\t{typeof count === 'number' && (\r\n\t\t\t\t\t<motion.span\r\n\t\t\t\t\t\tinitial={{ scale: 0.4 }}\r\n\t\t\t\t\t\tanimate={{ scale: 1 }}\r\n\t\t\t\t\t\tclassName={cn(\r\n\t\t\t\t\t\t\t'absolute -top-2 left-9 min-w-6 rounded-full px-1.5 py-1 text-center text-xs text-white tabular-nums',\r\n\t\t\t\t\t\t\tliked ? 'bg-rose-400' : 'bg-gray-300'\r\n\t\t\t\t\t\t)}>\r\n\t\t\t\t\t\t{count}\r\n\t\t\t\t\t</motion.span>\r\n\t\t\t\t)}\r\n\t\t\t\t<motion.div animate={justLiked ? { scale: [1, 1.4, 1], rotate: [0, -10, 10, 0] } : {}} transition={{ duration: 0.6, ease: 'easeOut' }}>\r\n\t\t\t\t\t<Heart className={clsx('heartbeat', liked ? 'fill-rose-400 text-rose-400' : 'fill-rose-200 text-rose-200')} size={28} />\r\n\t\t\t\t</motion.div>\r\n\t\t\t</motion.button>\r\n\t\t)\r\n}\r\n"],"names":["useCallback","useEffect","useState","useSWR","motion","AnimatePresence","Heart","clsx","cn","toast","LikeButtonProps","slug","className","delay","ENDPOINT","LikeButton","liked","setLiked","show","setShow","justLiked","setJustLiked","particles","setParticles","Array","id","x","y","setTimeout","timer","clearTimeout","fetcher","url","Promise","res","fetch","method","cache","ok","data","json","catch","count","fetchedCount","mutate","encodeURIComponent","revalidateOnFocus","dedupingInterval","handleLike","newParticles","from","length","_","i","Date","now","Math","random","reason","value","revalidate","opacity","scale","map","particle","duration","ease","rotate"],"mappings":"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","ignoreList":[],"debugId":null}},
    {"offset": {"line": 933, "column": 0}, "map": {"version":3,"sources":["E:/qbb/github/blog-public/src/components/blog-toc.tsx"],"sourcesContent":["'use client'\r\n\r\nimport clsx from 'clsx'\r\nimport { motion } from 'motion/react'\r\nimport { useEffect, useMemo, useState } from 'react'\r\n\r\ntype TocItem = {\r\n\tid: string\r\n\ttext: string\r\n\tlevel: number\r\n}\r\n\r\ntype BlogTocProps = {\r\n\ttoc: TocItem[]\r\n\tdelay?: number\r\n}\r\n\r\nexport function BlogToc({ toc, delay = 0 }: BlogTocProps) {\r\n\tconst [activeIds, setActiveIds] = useState<Set<string>>(new Set())\r\n\tconst minActiveId = useMemo(() => {\r\n\t\treturn Array.from(activeIds).sort((a, b) => toc.findIndex(item => item.id === a) - toc.findIndex(item => item.id === b))[0]\r\n\t}, [activeIds, toc])\r\n\r\n\tuseEffect(() => {\r\n\t\tif (toc.length === 0) return\r\n\r\n\t\tconst observers = new Map<string, IntersectionObserver>()\r\n\r\n\t\t// Create observers for each heading\r\n\t\ttoc.forEach(item => {\r\n\t\t\tconst element = document.getElementById(item.id)\r\n\t\t\tif (!element) return\r\n\r\n\t\t\tconst observer = new IntersectionObserver(\r\n\t\t\t\tentries => {\r\n\t\t\t\t\tentries.forEach(entry => {\r\n\t\t\t\t\t\tsetActiveIds(prev => {\r\n\t\t\t\t\t\t\tconst newSet = new Set(prev)\r\n\t\t\t\t\t\t\tif (entry.isIntersecting) newSet.add(entry.target.id)\r\n\t\t\t\t\t\t\telse newSet.delete(entry.target.id)\r\n\r\n\t\t\t\t\t\t\treturn newSet\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t})\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\trootMargin: '-100px 0px -100px 0px',\r\n\t\t\t\t\tthreshold: 0\r\n\t\t\t\t}\r\n\t\t\t)\r\n\r\n\t\t\tobserver.observe(element)\r\n\t\t\tobservers.set(item.id, observer)\r\n\t\t})\r\n\r\n\t\treturn () => {\r\n\t\t\tobservers.forEach(observer => observer.disconnect())\r\n\t\t}\r\n\t}, [toc])\r\n\r\n\treturn (\r\n\t\t<motion.div\r\n\t\t\tinitial={{ opacity: 0, scale: 0.8 }}\r\n\t\t\tanimate={{ opacity: 1, scale: 1 }}\r\n\t\t\ttransition={{ delay }}\r\n\t\t\tclassName='bg-card w-full rounded-xl border p-3 text-sm'>\r\n\t\t\t<h2 className='text-secondary mb-2 font-medium'>ÁõÆÂΩï</h2>\r\n\t\t\t<div className='relative max-h-[300px] space-y-2 overflow-auto'>\r\n\t\t\t\t{toc.length === 0 && <div className='text-secondary'>ÊöÇÊó†</div>}\r\n\t\t\t\t{toc.map(item => (\r\n\t\t\t\t\t<a\r\n\t\t\t\t\t\tkey={item.id + item.level}\r\n\t\t\t\t\t\thref={`#${item.id}`}\r\n\t\t\t\t\t\tclassName={clsx('hover:text-brand relative block pl-3 transition-colors', item.id === minActiveId && 'text-brand')}\r\n\t\t\t\t\t\tstyle={{ paddingLeft: (item.level - 1) * 8 }}>\r\n\t\t\t\t\t\t{item.text}\r\n\t\t\t\t\t</a>\r\n\t\t\t\t))}\r\n\t\t\t</div>\r\n\t\t</motion.div>\r\n\t)\r\n}\r\n"],"names":["c","_c","clsx","motion","useEffect","useMemo","useState","TocItem","id","text","level","BlogTocProps","toc","delay","BlogToc","t0","$","$i","Symbol","for","t1","undefined","t2","Set","activeIds","setActiveIds","t3","t4","BlogToc[(anonymous)()]","a","b","findIndex","item","item_0","Array","from","sort","minActiveId","t5","BlogToc[useEffect()]","length","observers","Map","forEach","item_1","element","document","getElementById","observer","IntersectionObserver","entries","entry","prev","newSet","isIntersecting","add","target","delete","rootMargin","threshold","observe","set","_BlogTocUseEffectAnonymousObserversForEach","t6","t7","opacity","scale","t8","t9","t10","t11","t12","item_2","paddingLeft","map","t13","observer_0","disconnect"],"mappings":"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","ignoreList":[],"debugId":null}},
    {"offset": {"line": 1190, "column": 0}, "map": {"version":3,"sources":["E:/qbb/github/blog-public/src/components/blog-sidebar.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useEffect, useState } from 'react'\r\nimport { motion, useScroll, useSpring, useTransform } from 'motion/react'\r\nimport { ANIMATION_DELAY, INIT_DELAY } from '@/consts'\r\nimport LikeButton from '@/components/like-button'\r\nimport { BlogToc } from '@/components/blog-toc'\r\nimport { ScrollTopButton } from '@/components/scroll-top-button'\r\n\r\ntype TocItem = {\r\n\tid: string\r\n\ttext: string\r\n\tlevel: number\r\n}\r\n\r\ntype BlogSidebarProps = {\r\n\tcover?: string\r\n\tsummary?: string\r\n\ttoc: TocItem[]\r\n\tslug?: string\r\n}\r\nconst offset = 72\r\n\r\nexport function BlogSidebar({ cover, summary, toc, slug }: BlogSidebarProps) {\r\n\tconst [maxOffset, setMaxOffset] = useState(0)\r\n\tconst { scrollY } = useScroll()\r\n\r\n\tuseEffect(() => {\r\n\t\tif (typeof window === 'undefined') {\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tconst updateMaxOffset = () => {\r\n\t\t\tconst maxScrollable = document.documentElement.scrollHeight - window.innerHeight\r\n\r\n\t\t\tconst nextMaxOffset = Math.max(0, maxScrollable - offset)\r\n\r\n\t\t\tsetMaxOffset(nextMaxOffset)\r\n\t\t}\r\n\r\n\t\tconst timer = setTimeout(() => {\r\n\t\t\tupdateMaxOffset()\r\n\t\t}, 5000)\r\n\r\n\t\tupdateMaxOffset()\r\n\t\twindow.addEventListener('resize', updateMaxOffset)\r\n\r\n\t\treturn () => {\r\n\t\t\twindow.removeEventListener('resize', updateMaxOffset)\r\n\t\t\tclearTimeout(timer)\r\n\t\t}\r\n\t}, [])\r\n\r\n\tconst adjustedScrollY = useTransform(scrollY, value => {\r\n\t\tconst adjusted = Math.max(0, value - offset)\r\n\t\treturn Math.min(adjusted, maxOffset)\r\n\t})\r\n\tconst sidebarY = useSpring(adjustedScrollY, {\r\n\t\tstiffness: 100,\r\n\t\tdamping: 15,\r\n\t\tmass: 0.6,\r\n\t\trestDelta: 0.5\r\n\t})\r\n\r\n\treturn (\r\n\t\t<motion.div className='relative flex w-[200px] shrink-0 flex-col items-start gap-4 self-start max-sm:hidden' style={{ y: sidebarY }}>\r\n\t\t\t{cover && (\r\n\t\t\t\t<motion.div\r\n\t\t\t\t\tinitial={{ opacity: 0, scale: 0.8 }}\r\n\t\t\t\t\tanimate={{ opacity: 1, scale: 1 }}\r\n\t\t\t\t\ttransition={{ delay: INIT_DELAY + ANIMATION_DELAY * 1 }}\r\n\t\t\t\t\tclassName='bg-card w-full rounded-xl p-3'>\r\n\t\t\t\t\t<img src={cover} alt='cover' className='h-auto w-full rounded-xl border object-cover' />\r\n\t\t\t\t</motion.div>\r\n\t\t\t)}\r\n\r\n\t\t\t{summary && (\r\n\t\t\t\t<motion.div\r\n\t\t\t\t\tinitial={{ opacity: 0, scale: 0.8 }}\r\n\t\t\t\t\tanimate={{ opacity: 1, scale: 1 }}\r\n\t\t\t\t\ttransition={{ delay: INIT_DELAY + ANIMATION_DELAY * 2 }}\r\n\t\t\t\t\tclassName='bg-card w-full rounded-xl border p-3 text-sm'>\r\n\t\t\t\t\t<h2 className='text-secondary mb-2 font-medium'>ÊëòË¶Å</h2>\r\n\t\t\t\t\t<div className='text-secondary cursor-text'>{summary}</div>\r\n\t\t\t\t</motion.div>\r\n\t\t\t)}\r\n\r\n\t\t\t<BlogToc toc={toc} delay={INIT_DELAY + ANIMATION_DELAY * 3} />\r\n\r\n\t\t\t<LikeButton slug={slug} delay={(INIT_DELAY + ANIMATION_DELAY * 4) * 1000} />\r\n\r\n\t\t\t<ScrollTopButton delay={INIT_DELAY + ANIMATION_DELAY * 5} />\r\n\t\t</motion.div>\r\n\t)\r\n}\r\n"],"names":["c","_c","useEffect","useState","motion","useScroll","useSpring","useTransform","ANIMATION_DELAY","INIT_DELAY","LikeButton","BlogToc","ScrollTopButton","TocItem","id","text","level","BlogSidebarProps","cover","summary","toc","slug","offset","BlogSidebar","t0","$","$i","Symbol","for","maxOffset","setMaxOffset","scrollY","t1","t2","BlogSidebar[useEffect()]","window","updateMaxOffset","BlogSidebar[useEffect() > updateMaxOffset]","maxScrollable","document","documentElement","scrollHeight","innerHeight","nextMaxOffset","Math","max","timer","setTimeout","BlogSidebar[useEffect() > setTimeout()]","addEventListener","removeEventListener","clearTimeout","t3","value","adjusted","min","adjustedScrollY","t4","stiffness","damping","mass","restDelta","sidebarY","t5","y","t6","opacity","scale","delay","t7","t8","t9","t10","t11"],"mappings":"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","ignoreList":[],"debugId":null}},
    {"offset": {"line": 1465, "column": 0}, "map": {"version":3,"sources":["E:/qbb/github/blog-public/src/components/blog-preview.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { motion } from 'motion/react'\r\nimport { INIT_DELAY } from '@/consts'\r\nimport { useMarkdownRender } from '@/hooks/use-markdown-render'\r\nimport { useSize } from '@/hooks/use-size'\r\nimport { BlogSidebar } from '@/components/blog-sidebar'\r\n\r\ntype BlogPreviewProps = {\r\n\tmarkdown: string\r\n\ttitle: string\r\n\ttags: string[]\r\n\tdate: string\r\n\tsummary?: string\r\n\tcover?: string\r\n\tslug?: string\r\n}\r\n\r\nexport function BlogPreview({ markdown, title, tags, date, summary, cover, slug }: BlogPreviewProps) {\r\n\tconst { maxSM: isMobile } = useSize()\r\n\tconst { content, toc, loading } = useMarkdownRender(markdown)\r\n\r\n\tif (loading) {\r\n\t\treturn <div className='text-secondary flex h-full items-center justify-center text-sm'>Ê∏≤Êüì‰∏≠...</div>\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className='mx-auto flex max-w-[1140px] justify-center gap-6 px-6 pt-28 pb-12 max-sm:px-0'>\r\n\t\t\t<motion.article\r\n\t\t\t\tinitial={{ opacity: 0 }}\r\n\t\t\t\tanimate={{ opacity: 1 }}\r\n\t\t\t\ttransition={{ delay: INIT_DELAY }}\r\n\t\t\t\tclassName='card bg-article static flex-1 overflow-auto rounded-xl p-8'>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div className='text-center text-2xl font-semibold'>{title}</div>\r\n\r\n\t\t\t\t\t<div className='text-secondary mt-4 flex flex-wrap items-center justify-center gap-3 px-8 text-center text-sm'>\r\n\t\t\t\t\t\t{tags.map(t => (\r\n\t\t\t\t\t\t\t<span key={t}>#{t}</span>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className='text-secondary mt-3 text-center text-sm'>{date}</div>\r\n\t\t\t\t\t<div className='prose mt-6 max-w-none cursor-text'>{content}</div>\r\n\t\t\t\t</div>\r\n\t\t\t</motion.article>\r\n\r\n\t\t\t{!isMobile && <BlogSidebar cover={cover} summary={summary} toc={toc} slug={slug} />}\r\n\t\t</div>\r\n\t)\r\n}\r\n"],"names":["c","_c","motion","INIT_DELAY","useMarkdownRender","useSize","BlogSidebar","BlogPreviewProps","markdown","title","tags","date","summary","cover","slug","BlogPreview","t0","$","$i","Symbol","for","maxSM","isMobile","content","toc","loading","t1","t2","t3","opacity","delay","t4","t5","map","_BlogPreviewTagsMap","t6","t7","t8","t9","t10","t11","t"],"mappings":"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","ignoreList":[],"debugId":null}},
    {"offset": {"line": 1705, "column": 0}, "map": {"version":3,"sources":["file:///E:/qbb/github/blog-public/src/lib/load-blog.ts"],"sourcesContent":["export type BlogConfig = {\r\n\ttitle?: string\r\n\ttags?: string[]\r\n\tdate?: string\r\n\tsummary?: string\r\n\tcover?: string\r\n}\r\n\r\nexport type LoadedBlog = {\r\n\tslug: string\r\n\tconfig: BlogConfig\r\n\tmarkdown: string\r\n\tcover?: string\r\n}\r\n\r\n/**\r\n * Load blog data from public/blogs/{slug}\r\n * Used by both view page and edit page\r\n */\r\nexport async function loadBlog(slug: string): Promise<LoadedBlog> {\r\n\tif (!slug) {\r\n\t\tthrow new Error('Slug is required')\r\n\t}\r\n\r\n\t// Load config.json\r\n\tlet config: BlogConfig = {}\r\n\tconst configRes = await fetch(`/blogs/${encodeURIComponent(slug)}/config.json`)\r\n\tif (configRes.ok) {\r\n\t\ttry {\r\n\t\t\tconfig = await configRes.json()\r\n\t\t} catch {\r\n\t\t\tconfig = {}\r\n\t\t}\r\n\t}\r\n\r\n\t// Load index.md\r\n\tconst mdRes = await fetch(`/blogs/${encodeURIComponent(slug)}/index.md`)\r\n\tif (!mdRes.ok) {\r\n\t\tthrow new Error('Blog not found')\r\n\t}\r\n\tconst markdown = await mdRes.text()\r\n\r\n\treturn {\r\n\t\tslug,\r\n\t\tconfig,\r\n\t\tmarkdown,\r\n\t\tcover: config.cover\r\n\t}\r\n}\r\n"],"names":[],"mappings":";;;;AAmBO,eAAe,SAAS,IAAY;IAC1C,IAAI,CAAC,MAAM;QACV,MAAM,IAAI,MAAM;IACjB;IAEA,mBAAmB;IACnB,IAAI,SAAqB,CAAC;IAC1B,MAAM,YAAY,MAAM,MAAM,CAAC,OAAO,EAAE,mBAAmB,MAAM,YAAY,CAAC;IAC9E,IAAI,UAAU,EAAE,EAAE;QACjB,IAAI;YACH,SAAS,MAAM,UAAU,IAAI;QAC9B,EAAE,OAAM;YACP,SAAS,CAAC;QACX;IACD;IAEA,gBAAgB;IAChB,MAAM,QAAQ,MAAM,MAAM,CAAC,OAAO,EAAE,mBAAmB,MAAM,SAAS,CAAC;IACvE,IAAI,CAAC,MAAM,EAAE,EAAE;QACd,MAAM,IAAI,MAAM;IACjB;IACA,MAAM,WAAW,MAAM,MAAM,IAAI;IAEjC,OAAO;QACN;QACA;QACA;QACA,OAAO,OAAO,KAAK;IACpB;AACD","debugId":null}},
    {"offset": {"line": 1743, "column": 0}, "map": {"version":3,"sources":["file:///E:/qbb/github/blog-public/src/hooks/use-read-articles.ts"],"sourcesContent":["import { create } from 'zustand'\r\nimport { persist } from 'zustand/middleware'\r\n\r\n// Use object hash for faster lookup - O(1) time complexity\r\ntype ReadArticlesHash = Record<string, boolean>\r\n\r\ninterface ReadArticlesStore {\r\n\treadArticles: ReadArticlesHash\r\n\tmarkAsRead: (slug: string) => void\r\n\tisRead: (slug: string) => boolean\r\n\tclearAll: () => void\r\n}\r\n\r\nexport const useReadArticles = create<ReadArticlesStore>()(\r\n\tpersist(\r\n\t\t(set, get) => ({\r\n\t\t\treadArticles: {},\r\n\t\t\tmarkAsRead: (slug: string) => {\r\n\t\t\t\tset(state => ({\r\n\t\t\t\t\treadArticles: {\r\n\t\t\t\t\t\t...state.readArticles,\r\n\t\t\t\t\t\t[slug]: true\r\n\t\t\t\t\t}\r\n\t\t\t\t}))\r\n\t\t\t},\r\n\t\t\tisRead: (slug: string) => {\r\n\t\t\t\treturn get().readArticles[slug] === true\r\n\t\t\t},\r\n\t\t\tclearAll: () => {\r\n\t\t\t\tset({ readArticles: {} })\r\n\t\t\t}\r\n\t\t}),\r\n\t\t{\r\n\t\t\tname: 'blog-read-articles'\r\n\t\t}\r\n\t)\r\n)\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAYO,MAAM,kBAAkB,IAAA,iQAAM,IACpC,IAAA,uQAAO,EACN,CAAC,KAAK,MAAQ,CAAC;QACd,cAAc,CAAC;QACf,YAAY,CAAC;YACZ,IAAI,CAAA,QAAS,CAAC;oBACb,cAAc;wBACb,GAAG,MAAM,YAAY;wBACrB,CAAC,KAAK,EAAE;oBACT;gBACD,CAAC;QACF;QACA,QAAQ,CAAC;YACR,OAAO,MAAM,YAAY,CAAC,KAAK,KAAK;QACrC;QACA,UAAU;YACT,IAAI;gBAAE,cAAc,CAAC;YAAE;QACxB;IACD,CAAC,GACD;IACC,MAAM;AACP","debugId":null}},
    {"offset": {"line": 1782, "column": 0}, "map": {"version":3,"sources":["file:///E:/qbb/github/blog-public/src/components/liquid-grass/displacement-1.png.mjs%20%28structured%20image%20object%20with%20data%20url%29"],"sourcesContent":["import src from \"IMAGE\";\nexport default { src, width: 210, height: 150, blurWidth: 8, blurHeight: 6, blurDataURL: \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAGCAYAAAD+Bd/7AAAAV0lEQVR42hXKMRHDMAwAQIMwEW2loQsSMRGSnGh0K5FgaN7Db7+e7/r/GJoiCTbruQWGpkiCfZ/QAkNTJMHuE0pgaIok2HXCJTA0RRLs64SPwNAUSbB5AZljYAGuuBcwAAAAAElFTkSuQmCC\"};\n"],"names":[],"mappings":";;;;AAAA;;uCACe;IAAE,KAAA,8KAAG;IAAE,OAAO;IAAK,QAAQ;IAAK,WAAW;IAAG,YAAY;IAAG,aAAa;AAAwN","debugId":null}},
    {"offset": {"line": 1806, "column": 0}, "map": {"version":3,"sources":["file:///E:/qbb/github/blog-public/src/components/liquid-grass/displacement-2.png.mjs%20%28structured%20image%20object%20with%20data%20url%29"],"sourcesContent":["import src from \"IMAGE\";\nexport default { src, width: 420, height: 300, blurWidth: 8, blurHeight: 6, blurDataURL: \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAGCAYAAAD+Bd/7AAAAYElEQVR42n2OsQrAIBBD878V6eBSOUGo3ORU2++9RqRDQRwCIS+QQBVWH9jZYPkaSvSBWSTDXWGlEOS/hJkjQ5vAT770giwK0icCJyYlYebIoJEnN570BPtQog/M4gF7AWZBX9i0zuLQAAAAAElFTkSuQmCC\"};\n"],"names":[],"mappings":";;;;AAAA;;uCACe;IAAE,KAAA,8KAAG;IAAE,OAAO;IAAK,QAAQ;IAAK,WAAW;IAAG,YAAY;IAAG,aAAa;AAAoO","debugId":null}},
    {"offset": {"line": 1830, "column": 0}, "map": {"version":3,"sources":["file:///E:/qbb/github/blog-public/src/components/liquid-grass/border.png.mjs%20%28structured%20image%20object%20with%20data%20url%29"],"sourcesContent":["import src from \"IMAGE\";\nexport default { src, width: 420, height: 300, blurWidth: 8, blurHeight: 6, blurDataURL: \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAGCAYAAAD+Bd/7AAAAUUlEQVR42nVOQQrAMAjTtqviQPT/n53p2M0FIiJJDI0xWFVXcX80M81Mx07MTB1gdPeb5py9oiAi6x0/OGbEIK4TnPcoEhGOYpW2wbpdKA7jAxPBAr9F8GTFAAAAAElFTkSuQmCC\"};\n"],"names":[],"mappings":";;;;AAAA;;uCACe;IAAE,KAAA,mKAAG;IAAE,OAAO;IAAK,QAAQ;IAAK,WAAW;IAAG,YAAY;IAAG,aAAa;AAAgN","debugId":null}},
    {"offset": {"line": 1851, "column": 0}, "map": {"version":3,"sources":["E:/qbb/github/blog-public/src/components/liquid-grass/index.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { createPortal } from 'react-dom'\r\nimport { motion } from 'motion/react'\r\nimport displacement1 from './displacement-1.png'\r\nimport displacement2 from './displacement-2.png'\r\nimport borderImg from './border.png'\r\nimport { useEffect, useRef, useState } from 'react'\r\n\r\nconst width = 210\r\nconst height = 150\r\n\r\nexport default function LiquidGrass() {\r\n\tconst bodyRef = useRef(document.body)\r\n\tconst [show, setShow] = useState(false)\r\n\r\n\tuseEffect(() => {\r\n\t\tsetTimeout(() => {\r\n\t\t\tsetShow(true)\r\n\t\t}, 1000)\r\n\t}, [])\r\n\r\n\tif (!show) return null\r\n\r\n\treturn createPortal(\r\n\t\t<motion.div\r\n\t\t\tinitial={{ opacity: 0 }}\r\n\t\t\tanimate={{ opacity: 1 }}\r\n\t\t\tdrag\r\n\t\t\tdragConstraints={bodyRef}\r\n\t\t\tstyle={{ width, height }}\r\n\t\t\tclassName='fixed top-16 right-1/2 z-90 select-none'\r\n\t\t\twhileTap={{\r\n\t\t\t\tscale: 1.1\r\n\t\t\t}}>\r\n\t\t\t<svg colorInterpolationFilters='sRGB' style={{ display: 'none' }}>\r\n\t\t\t\t<defs>\r\n\t\t\t\t\t<filter id='magnifying-glass-filter'>\r\n\t\t\t\t\t\t<feImage href={displacement1.src} x='0' y='0' width={width} height={height} result='magnifying_displacement_map' />\r\n\t\t\t\t\t\t<feDisplacementMap\r\n\t\t\t\t\t\t\tin='SourceGraphic'\r\n\t\t\t\t\t\t\tin2='magnifying_displacement_map'\r\n\t\t\t\t\t\t\tscale='24'\r\n\t\t\t\t\t\t\txChannelSelector='R'\r\n\t\t\t\t\t\t\tyChannelSelector='G'\r\n\t\t\t\t\t\t\tresult='magnified_source'\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<feGaussianBlur in='magnified_source' stdDeviation='0' result='blurred_source' />\r\n\t\t\t\t\t\t<feImage href={displacement2.src} x='0' y='0' width={width} height={height} result='displacement_map' />\r\n\t\t\t\t\t\t<feDisplacementMap in='blurred_source' in2='displacement_map' scale='80' xChannelSelector='R' yChannelSelector='G' result='displaced' />\r\n\t\t\t\t\t\t<feColorMatrix in='displaced' type='saturate' result='displaced_saturated' values='9'></feColorMatrix>\r\n\t\t\t\t\t\t<feImage href={borderImg.src} x='0' y='0' width={width} height={height} result='specular_layer'></feImage>\r\n\t\t\t\t\t\t<feComposite in='displaced_saturated' in2='specular_layer' operator='in' result='specular_saturated'></feComposite>\r\n\t\t\t\t\t\t<feComponentTransfer in='specular_layer' result='specular_faded'>\r\n\t\t\t\t\t\t\t<feFuncA type='linear' slope='0.5'></feFuncA>\r\n\t\t\t\t\t\t</feComponentTransfer>\r\n\t\t\t\t\t\t<feBlend in='specular_saturated' in2='displaced' mode='normal' result='withSaturation'></feBlend>\r\n\t\t\t\t\t\t<feBlend in='specular_faded' in2='withSaturation' mode='normal'></feBlend>\r\n\t\t\t\t\t</filter>\r\n\t\t\t\t</defs>\r\n\t\t\t</svg>\r\n\r\n\t\t\t<div\r\n\t\t\t\tclassName='absolute inset-0 rounded-full'\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tbackdropFilter: 'url(#magnifying-glass-filter)',\r\n\t\t\t\t\tboxShadow: 'rgba(0, 0, 0, 0.05) 0px 4px 9px, rgba(0, 0, 0, 0.05) 0px 2px 24px inset, rgba(255, 255, 255, 0.2) 0px -2px 24px inset'\r\n\t\t\t\t}}></div>\r\n\t\t</motion.div>,\r\n\t\tdocument.body\r\n\t)\r\n}\r\n"],"names":["c","_c","createPortal","motion","displacement1","displacement2","borderImg","useEffect","useRef","useState","width","height","LiquidGrass","$","$i","Symbol","for","bodyRef","document","body","show","setShow","t0","t1","LiquidGrass[useEffect()]","setTimeout","LiquidGrass[useEffect() > setTimeout()]","t2","t3","opacity","t4","t5","scale","t6","display","t10","t11","t12","t13","t14","t7","t8","t9","src","t15","t16","backdropFilter","boxShadow"],"mappings":";;;;;AAAY,SAAAA,CAAA,IAAAC,EAAA;AAEZ,SAASC,YAAY,QAAQ,WAAW;AACxC,SAASC,MAAM,QAAQ,cAAc;AACrC,OAAOC,aAAa,MAAM,sBAAsB;AAChD,OAAOC,aAAa,MAAM,sBAAsB;AAChD,OAAOC,SAAS,MAAM,cAAc;AACpC,SAASC,SAAS,EAAEC,MAAM,EAAEC,QAAQ,QAAQ,OAAO;;;AAPnD,YAAY;;;;;;;;AASZ,MAAMC,KAAK,GAAG,GAAG;AACjB,MAAMC,MAAM,GAAG,GAAG;AAEH;;IAAA,MAAAE,CAAA,OAAAZ,+RAAA,EAAA;IAAA,IAAAY,CAAA,CAAA,EAAA,KAAA,oEAAA;QAAA,IAAA,IAAAC,EAAA,GAAA,GAAAA,EAAA,GAAA,IAAAA,EAAA,IAAA,EAAA;YAAAD,CAAA,CAAAC,EAAA,CAAA,GAAAC,MAAA,CAAAC,GAAA,CAAA;QAAA;QAAAH,CAAA,CAAA,EAAA,GAAA;IAAA;IACd,MAAAI,OAAA,OAAgBT,sRAAM,EAACU,QAAQ,CAAAC,IAAK,CAAC;IACrC,MAAA,CAAAC,IAAA,EAAAC,OAAA,CAAA,OAAwBZ,wRAAQ,EAAC,KAAK,CAAC;IAAA,IAAAa,EAAA;IAAA,IAAAC,EAAA;IAAA,IAAAV,CAAA,CAAA,EAAA,KAAAE,MAAA,CAAAC,GAAA,CAAA,8BAAA;QAE7BM,EAAA,GAAA,CAAA;YAAA,4BAAAE,CAAA;gBACTC,UAAU,CAAC;oBAAA,2CAAAC,CAAA;wBACVL,OAAO,CAAC,IAAI,CAAC;oBAAA;gBAAA,CAAA,CAAA,0CACb,EAAE,IAAI,CAAC;YAAA;SAAA,CAAA,CAAA,2BACR;QAAEE,EAAA,GAAA,EAAE;QAAAV,CAAA,CAAA,EAAA,GAAAS,EAAA;QAAAT,CAAA,CAAA,EAAA,GAAAU,EAAA;IAAA,OAAA;QAAAD,EAAA,GAAAT,CAAA,CAAA,EAAA;QAAAU,EAAA,GAAAV,CAAA,CAAA,EAAA;IAAA;QAJLN,yRAAS,EAACe,EAIT,EAAEC,EAAE,CAAC;IAEN,IAAI,CAACH,IAAI,EAAA;QAAA,OAAS,IAAI;IAAA;IAAA,IAAAO,EAAA;IAAA,IAAAC,EAAA;IAAA,IAAAf,CAAA,CAAA,EAAA,KAAAE,MAAA,CAAAC,GAAA,CAAA,8BAAA;QAIXW,EAAA,GAAA;YAAAE,OAAA,EAAW;QAAE,CAAC;QACdD,EAAA,GAAA;YAAAC,OAAA,EAAW;QAAE,CAAC;QAAAhB,CAAA,CAAA,EAAA,GAAAc,EAAA;QAAAd,CAAA,CAAA,EAAA,GAAAe,EAAA;IAAA,OAAA;QAAAD,EAAA,GAAAd,CAAA,CAAA,EAAA;QAAAe,EAAA,GAAAf,CAAA,CAAA,EAAA;IAAA;IAAA,IAAAiB,EAAA;IAAA,IAAAjB,CAAA,CAAA,EAAA,KAAAE,MAAA,CAAAC,GAAA,CAAA,8BAAA;QAGhBc,EAAA,GAAA;YAAApB,KAAA;YAAAC;QAAgB,CAAC;QAAAE,CAAA,CAAA,EAAA,GAAAiB,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAjB,CAAA,CAAA,EAAA;IAAA;IAAA,IAAAkB,EAAA;IAAA,IAAAlB,CAAA,CAAA,EAAA,KAAAE,MAAA,CAAAC,GAAA,CAAA,8BAAA;QAEde,EAAA,GAAA;YAAAC,KAAA,EACF;QACR,CAAC;QAAAnB,CAAA,CAAA,EAAA,GAAAkB,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAlB,CAAA,CAAA,EAAA;IAAA;IAAA,IAAAoB,EAAA;IAAA,IAAApB,CAAA,CAAA,EAAA,KAAAE,MAAA,CAAAC,GAAA,CAAA,8BAAA;QAC4CiB,EAAA,GAAA;YAAAC,OAAA,EAAW;QAAO,CAAC;QAAArB,CAAA,CAAA,EAAA,GAAAoB,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAApB,CAAA,CAAA,EAAA;IAAA;IAAA,IAAAsB,GAAA;IAAA,IAAAC,GAAA;IAAA,IAAAC,GAAA;IAAA,IAAAC,GAAA;IAAA,IAAAC,GAAA;IAAA,IAAAC,EAAA;IAAA,IAAAC,EAAA;IAAA,IAAAC,EAAA;IAAA,IAAA7B,CAAA,CAAA,EAAA,KAAAE,MAAA,CAAAC,GAAA,CAAA,8BAAA;QAG7DwB,EAAA,iBAAA,4SAAA,OAAmH;YAApG,IAAiB,CAAjB,CAAApC,kYAAa,CAAAuC,GAAG,CAAC;YAAI,CAAG,EAAH,GAAG;YAAG,CAAG,EAAH,GAAG;YAAQjC,KAAK,CAALA,CAAAA,KAAI,CAAC;YAAUC,MAAM,CAANA,CAAAA,MAAK,CAAC;YAAS,MAA6B,EAA7B,6BAA6B,GAAG;;;;;;QACnH8B,EAAA,iBAAA,4SAAA,iBAOE;YANE,EAAe,EAAf,eAAe;YACd,GAA6B,EAA7B,6BAA6B;YAC3B,KAAI,EAAJ,IAAI;YACO,gBAAG,EAAH,GAAG;YACH,gBAAG,EAAH,GAAG;YACb,MAAkB,EAAlB,kBAAkB,GACxB;;;;;;QACFC,EAAA,iBAAA,4SAAA,cAAiF;YAA9D,EAAkB,EAAlB,kBAAkB;YAAc,YAAG,EAAH,GAAG;YAAQ,MAAgB,EAAhB,gBAAgB,GAAG;;;;;;QACjFP,GAAA,iBAAA,4SAAA,OAAwG;YAAzF,IAAiB,CAAjB,CAAA9B,kYAAa,CAAAsC,GAAG,CAAC;YAAI,CAAG,EAAH,GAAG;YAAG,CAAG,EAAH,GAAG;YAAQjC,KAAK,CAALA,CAAAA,KAAI,CAAC;YAAUC,MAAM,CAANA,CAAAA,MAAK,CAAC;YAAS,MAAkB,EAAlB,kBAAkB,GAAG;;;;;;QACxGyB,GAAA,iBAAA,4SAAA,iBAAwI;YAAlH,EAAgB,EAAhB,gBAAgB;YAAK,GAAkB,EAAlB,kBAAkB;YAAO,KAAI,EAAJ,IAAI;YAAkB,gBAAG,EAAH,GAAG;YAAkB,gBAAG,EAAH,GAAG;YAAQ,MAAW,EAAX,WAAW,GAAG;;;;;;QACxIC,GAAA,iBAAA,4SAAA,aAAsG;YAApF,EAAW,EAAX,WAAW;YAAM,IAAU,EAAV,UAAU;YAAQ,MAAqB,EAArB,qBAAqB;YAAQ,MAAG,EAAH,GAAG,GAAiB;;;;;;QACtGC,GAAA,iBAAA,4SAAA,OAA0G;YAA3F,IAAa,CAAb,CAAAhC,4WAAS,CAAAqC,GAAG,CAAC;YAAI,CAAG,EAAH,GAAG;YAAG,CAAG,EAAH,GAAG;YAAQjC,KAAK,CAALA,CAAAA,KAAI,CAAC;YAAUC,MAAM,CAANA,CAAAA,MAAK,CAAC;YAAS,MAAgB,EAAhB,gBAAgB,GAAW;;;;;;QAC1G4B,GAAA,iBAAA,4SAAA,WAAmH;YAAnG,EAAqB,EAArB,qBAAqB;YAAK,GAAgB,EAAhB,gBAAgB;YAAU,QAAI,EAAJ,IAAI;YAAQ,MAAoB,EAApB,oBAAoB,GAAe;;;;;;QAAA1B,CAAA,CAAA,EAAA,GAAAsB,GAAA;QAAAtB,CAAA,CAAA,EAAA,GAAAuB,GAAA;QAAAvB,CAAA,CAAA,GAAA,GAAAwB,GAAA;QAAAxB,CAAA,CAAA,GAAA,GAAAyB,GAAA;QAAAzB,CAAA,CAAA,GAAA,GAAA0B,GAAA;QAAA1B,CAAA,CAAA,GAAA,GAAA2B,EAAA;QAAA3B,CAAA,CAAA,GAAA,GAAA4B,EAAA;QAAA5B,CAAA,CAAA,GAAA,GAAA6B,EAAA;IAAA,OAAA;QAAAP,GAAA,GAAAtB,CAAA,CAAA,EAAA;QAAAuB,GAAA,GAAAvB,CAAA,CAAA,EAAA;QAAAwB,GAAA,GAAAxB,CAAA,CAAA,GAAA;QAAAyB,GAAA,GAAAzB,CAAA,CAAA,GAAA;QAAA0B,GAAA,GAAA1B,CAAA,CAAA,GAAA;QAAA2B,EAAA,GAAA3B,CAAA,CAAA,GAAA;QAAA4B,EAAA,GAAA5B,CAAA,CAAA,GAAA;QAAA6B,EAAA,GAAA7B,CAAA,CAAA,GAAA;IAAA;IAAA,IAAA+B,GAAA;IAAA,IAAA/B,CAAA,CAAA,GAAA,KAAAE,MAAA,CAAAC,GAAA,CAAA,8BAAA;QAjBtH4B,GAAA,iBAAA,4SAAA,GAyBM;YAzByB,yBAAM,EAAN,MAAM;YAAQ,KAAmB,CAAnB,CAAAX,EAAkB,CAAC;oCAC/D,4SAAA,IAuBO;wCAtBN,4SAAA,MAqBS;oBArBE,EAAyB,EAAzB,yBAAyB,CACnC;;wBAAAO,EAAkH,CAClH;wBAAAC,EAOC,CACD;wBAAAC,EAAgF,CAChF;wBAAAP,GAAuG,CACvG;wBAAAC,GAAuI,CACvI;wBAAAC,GAAqG,CACrG;wBAAAC,GAAyG,CACzG;wBAAAC,GAAkH;sCAClH,4SAAA,mBAEsB;4BAFE,EAAgB,EAAhB,gBAAgB;4BAAQ,MAAgB,EAAhB,gBAAgB;sCAC/D,0TAAA,OAA6C;gCAA/B,IAAQ,EAAR,QAAQ;gCAAO,KAAK,EAAL,KAAK,GACnC,EAFA,mBAEsB;;;;;;;;;;;sCACtB,4SAAA,OAAiG;4BAArF,EAAoB,EAApB,oBAAoB;4BAAK,GAAW,EAAX,WAAW;4BAAM,IAAQ,EAAR,QAAQ;4BAAQ,MAAgB,EAAhB,gBAAgB;;;;;;sCACtF,4SAAA,OAA0E;4BAA9D,EAAgB,EAAhB,gBAAgB;4BAAK,GAAgB,EAAhB,gBAAgB;4BAAM,IAAQ,EAAR,QAAQ,GAChE,EArBA,MAqBS,CACV,EAvBA,IAuBO,CACR,EAzBA,GAyBM;;;;;;;;;;;;;;;;;;;;;;QAAA1B,CAAA,CAAA,GAAA,GAAA+B,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAA/B,CAAA,CAAA,GAAA;IAAA;IAAA,IAAAgC,GAAA;IAAA,IAAAhC,CAAA,CAAA,GAAA,KAAAE,MAAA,CAAAC,GAAA,CAAA,8BAAA;QApCD6B,GAAA,qBAAA3C,mSAAY,gBAClB,4SAAA,6SAAA,CAAA,GAAA;YACU,OAAc,CAAd,CAAAyB,EAAa,CAAC;YACd,OAAc,CAAd,CAAAC,EAAa,CAAC;YACvB,IAAI,CAAJ,CAAA,IAAG,CAAC;YACaX,eAAO,CAAPA,CAAAA,OAAM,CAAC;YACjB,KAAiB,CAAjB,CAAAa,EAAgB,CAAC;YACd,SAAyC,EAAzC,yCAAyC;YACzC,QAET,CAFS,CAAAC,EAEV,CAAC,CACD;;gBAAAa,GAyBK;8BAEL,4SAAA,GAKU;oBAJC,SAA+B,EAA/B,+BAA+B;oBAClC,KAGN,CAHM,CAAA;wBAAAE,cAAA,EACU,+BAA+B;wBAAAC,SAAA,EACpC;oBACZ,EAAC,GACH,aAAa;;;;;;;;;;;kBACb7B,QAAQ,CAAAC,IACT,CAAC;QAAAN,CAAA,CAAA,GAAA,GAAAgC,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAAhC,CAAA,CAAA,GAAA;IAAA;IAAA,OA9CMgC,GA8CN;AAAA;;KA1DajC,YAAA","ignoreList":[],"debugId":null}},
    {"offset": {"line": 2186, "column": 0}, "map": {"version":3,"sources":["E:/qbb/github/blog-public/src/app/blog/[id]/page.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useEffect, useMemo, useState } from 'react'\r\nimport { useParams, useRouter } from 'next/navigation'\r\nimport dayjs from 'dayjs'\r\nimport { motion } from 'motion/react'\r\nimport { BlogPreview } from '@/components/blog-preview'\r\nimport { loadBlog, type BlogConfig } from '@/lib/load-blog'\r\nimport { useReadArticles } from '@/hooks/use-read-articles'\r\nimport LiquidGrass from '@/components/liquid-grass'\r\n\r\nexport default function Page() {\r\n\tconst params = useParams() as { id?: string | string[] }\r\n\tconst slug = Array.isArray(params?.id) ? params.id[0] : params?.id || ''\r\n\tconst router = useRouter()\r\n\tconst { markAsRead } = useReadArticles()\r\n\r\n\tconst [blog, setBlog] = useState<{ config: BlogConfig; markdown: string; cover?: string } | null>(null)\r\n\tconst [error, setError] = useState<string | null>(null)\r\n\tconst [loading, setLoading] = useState<boolean>(true)\r\n\r\n\tuseEffect(() => {\r\n\t\tlet cancelled = false\r\n\t\tasync function run() {\r\n\t\t\tif (!slug) return\r\n\t\t\ttry {\r\n\t\t\t\tsetLoading(true)\r\n\t\t\t\tconst blogData = await loadBlog(slug)\r\n\r\n\t\t\t\tif (!cancelled) {\r\n\t\t\t\t\tsetBlog(blogData)\r\n\t\t\t\t\tsetError(null)\r\n\t\t\t\t\tmarkAsRead(slug)\r\n\t\t\t\t}\r\n\t\t\t} catch (e: any) {\r\n\t\t\t\tif (!cancelled) setError(e?.message || 'Âä†ËΩΩÂ§±Ë¥•')\r\n\t\t\t} finally {\r\n\t\t\t\tif (!cancelled) setLoading(false)\r\n\t\t\t}\r\n\t\t}\r\n\t\trun()\r\n\t\treturn () => {\r\n\t\t\tcancelled = true\r\n\t\t}\r\n\t}, [slug, markAsRead])\r\n\r\n\tconst title = useMemo(() => (blog?.config.title ? blog.config.title : slug), [blog?.config.title, slug])\r\n\tconst date = useMemo(() => dayjs(blog?.config.date).format('YYYYÂπ¥ MÊúà DÊó•'), [blog?.config.date])\r\n\tconst tags = blog?.config.tags || []\r\n\r\n\tconst handleEdit = () => {\r\n\t\trouter.push(`/write/${slug}`)\r\n\t}\r\n\r\n\tif (!slug) {\r\n\t\treturn <div className='text-secondary flex h-full items-center justify-center text-sm'>Êó†ÊïàÁöÑÈìæÊé•</div>\r\n\t}\r\n\r\n\tif (loading) {\r\n\t\treturn <div className='text-secondary flex h-full items-center justify-center text-sm'>Âä†ËΩΩ‰∏≠...</div>\r\n\t}\r\n\r\n\tif (error) {\r\n\t\treturn <div className='flex h-full items-center justify-center text-sm text-red-500'>{error}</div>\r\n\t}\r\n\r\n\tif (!blog) {\r\n\t\treturn <div className='text-secondary flex h-full items-center justify-center text-sm'>ÊñáÁ´†‰∏çÂ≠òÂú®</div>\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<BlogPreview\r\n\t\t\t\tmarkdown={blog.markdown}\r\n\t\t\t\ttitle={title}\r\n\t\t\t\ttags={tags}\r\n\t\t\t\tdate={date}\r\n\t\t\t\tsummary={blog.config.summary}\r\n\t\t\t\tcover={blog.cover ? `${origin}${blog.cover}` : undefined}\r\n\t\t\t\tslug={slug}\r\n\t\t\t/>\r\n\r\n\t\t\t<motion.button\r\n\t\t\t\tinitial={{ opacity: 0, scale: 0.6 }}\r\n\t\t\t\tanimate={{ opacity: 1, scale: 1 }}\r\n\t\t\t\twhileHover={{ scale: 1.05 }}\r\n\t\t\t\twhileTap={{ scale: 0.95 }}\r\n\t\t\t\tonClick={handleEdit}\r\n\t\t\t\tclassName='absolute top-4 right-6 rounded-xl border bg-white/60 px-6 py-2 text-sm backdrop-blur-sm transition-colors hover:bg-white/80 max-sm:hidden'>\r\n\t\t\t\tÁºñËæë\r\n\t\t\t</motion.button>\r\n\r\n\t\t\t{slug === 'liquid-grass' && <LiquidGrass />}\r\n\t\t</>\r\n\t)\r\n}\r\n"],"names":["useEffect","useMemo","useState","useParams","useRouter","dayjs","motion","BlogPreview","loadBlog","BlogConfig","useReadArticles","LiquidGrass","Page","params","id","slug","Array","isArray","router","markAsRead","blog","setBlog","config","markdown","cover","error","setError","loading","setLoading","cancelled","run","blogData","e","message","title","date","format","tags","handleEdit","push","summary","origin","undefined","opacity","scale"],"mappings":"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","ignoreList":[],"debugId":null}}]
}