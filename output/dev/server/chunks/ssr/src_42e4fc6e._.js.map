{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///E:/qbb/github/blog-public/src/app/%28home%29/hi-card.tsx"],"sourcesContent":["import { useCenterStore } from '@/hooks/use-center'\r\nimport Card from '@/components/card'\r\nimport { useConfigStore } from './stores/config-store'\r\n\r\nexport default function HiCard() {\r\n\tconst center = useCenterStore()\r\n\tconst { cardStyles } = useConfigStore()\r\n\tconst styles = cardStyles.hiCard\r\n\r\n\tconst x = styles.offsetX !== null ? center.x + styles.offsetX : center.x\r\n\tconst y = styles.offsetY !== null ? center.y + styles.offsetY : center.y\r\n\r\n\treturn (\r\n\t\t<Card order={styles.order} width={styles.width} height={styles.height} x={x} y={y} className='-translate-1/2 text-center max-sm:static max-sm:translate-0'>\r\n\t\t\t<img src='/images/avatar.png' className='mx-auto rounded-full' style={{ width: 120, height: 120, boxShadow: ' 0 16px 32px -5px #E2D9CE' }} />\r\n\t\t\t<h1 className='font-averia mt-3 text-2xl'>\r\n\t\t\t\t<span className='text-linear text-[32px]'>柒书</span> <br /> 活到老，玩到老\r\n\t\t\t</h1>\r\n\t\t</Card>\r\n\t)\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;;;;;AAEe,SAAS;IACvB,MAAM,SAAS,IAAA,+IAAc;IAC7B,MAAM,EAAE,UAAU,EAAE,GAAG,IAAA,qKAAc;IACrC,MAAM,SAAS,WAAW,MAAM;IAEhC,MAAM,IAAI,OAAO,OAAO,KAAK,OAAO,OAAO,CAAC,GAAG,OAAO,OAAO,GAAG,OAAO,CAAC;IACxE,MAAM,IAAI,OAAO,OAAO,KAAK,OAAO,OAAO,CAAC,GAAG,OAAO,OAAO,GAAG,OAAO,CAAC;IAExE,qBACC,6VAAC,qIAAI;QAAC,OAAO,OAAO,KAAK;QAAE,OAAO,OAAO,KAAK;QAAE,QAAQ,OAAO,MAAM;QAAE,GAAG;QAAG,GAAG;QAAG,WAAU;;0BAC5F,6VAAC;gBAAI,KAAI;gBAAqB,WAAU;gBAAuB,OAAO;oBAAE,OAAO;oBAAK,QAAQ;oBAAK,WAAW;gBAA4B;;;;;;0BACxI,6VAAC;gBAAG,WAAU;;kCACb,6VAAC;wBAAK,WAAU;kCAA0B;;;;;;oBAAS;kCAAC,6VAAC;;;;;oBAAK;;;;;;;;;;;;;AAI9D","debugId":null}},
    {"offset": {"line": 78, "column": 0}, "map": {"version":3,"sources":["file:///E:/qbb/github/blog-public/src/app/%28home%29/art-card.tsx"],"sourcesContent":["import Card from '@/components/card'\r\nimport { useCenterStore } from '@/hooks/use-center'\r\nimport { useConfigStore } from './stores/config-store'\r\nimport { CARD_SPACING } from '@/consts'\r\nimport { useRouter } from 'next/navigation'\r\n\r\nexport default function ArtCard() {\r\n\tconst center = useCenterStore()\r\n\tconst { cardStyles, siteContent } = useConfigStore()\r\n\tconst router = useRouter()\r\n\tconst styles = cardStyles.artCard\r\n\tconst hiCardStyles = cardStyles.hiCard\r\n\r\n\tconst x = styles.offsetX !== null ? center.x + styles.offsetX : center.x\r\n\tconst y = styles.offsetY !== null ? center.y + styles.offsetY : center.y - hiCardStyles.height / 2 - styles.height / 2 - CARD_SPACING\r\n\r\n\tconst artImages = siteContent.artImages ?? []\r\n\tconst currentId = siteContent.currentArtImageId\r\n\tconst currentArt = (currentId ? artImages.find(item => item.id === currentId) : undefined) ?? artImages[0]\r\n\tconst artUrl = currentArt?.url || '/images/art/cat.png'\r\n\r\n\treturn (\r\n\t\t<Card className='-translate-1/2 p-2 max-sm:static max-sm:translate-0' order={styles.order} width={styles.width} height={styles.height} x={x} y={y}>\r\n\t\t\t<img onClick={() => router.push('/pictures')} src={artUrl} alt='wall art' className='h-full w-full rounded-[32px] object-cover' />\r\n\t\t</Card>\r\n\t)\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;;;;;;;AAEe,SAAS;IACvB,MAAM,SAAS,IAAA,+IAAc;IAC7B,MAAM,EAAE,UAAU,EAAE,WAAW,EAAE,GAAG,IAAA,qKAAc;IAClD,MAAM,SAAS,IAAA,8PAAS;IACxB,MAAM,SAAS,WAAW,OAAO;IACjC,MAAM,eAAe,WAAW,MAAM;IAEtC,MAAM,IAAI,OAAO,OAAO,KAAK,OAAO,OAAO,CAAC,GAAG,OAAO,OAAO,GAAG,OAAO,CAAC;IACxE,MAAM,IAAI,OAAO,OAAO,KAAK,OAAO,OAAO,CAAC,GAAG,OAAO,OAAO,GAAG,OAAO,CAAC,GAAG,aAAa,MAAM,GAAG,IAAI,OAAO,MAAM,GAAG,IAAI,6HAAY;IAErI,MAAM,YAAY,YAAY,SAAS,IAAI,EAAE;IAC7C,MAAM,YAAY,YAAY,iBAAiB;IAC/C,MAAM,aAAa,CAAC,YAAY,UAAU,IAAI,CAAC,CAAA,OAAQ,KAAK,EAAE,KAAK,aAAa,SAAS,KAAK,SAAS,CAAC,EAAE;IAC1G,MAAM,SAAS,YAAY,OAAO;IAElC,qBACC,6VAAC,qIAAI;QAAC,WAAU;QAAsD,OAAO,OAAO,KAAK;QAAE,OAAO,OAAO,KAAK;QAAE,QAAQ,OAAO,MAAM;QAAE,GAAG;QAAG,GAAG;kBAC/I,cAAA,6VAAC;YAAI,SAAS,IAAM,OAAO,IAAI,CAAC;YAAc,KAAK;YAAQ,KAAI;YAAW,WAAU;;;;;;;;;;;AAGvF","debugId":null}},
    {"offset": {"line": 133, "column": 0}, "map": {"version":3,"sources":["file:///E:/qbb/github/blog-public/src/app/%28home%29/clock-card.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useState, useEffect } from 'react'\r\nimport Card from '@/components/card'\r\nimport { useCenterStore } from '@/hooks/use-center'\r\nimport { useConfigStore } from './stores/config-store'\r\nimport { CARD_SPACING } from '@/consts'\r\n\r\nexport default function ClockCard() {\r\n\tconst center = useCenterStore()\r\n\tconst { cardStyles } = useConfigStore()\r\n\tconst [time, setTime] = useState(new Date())\r\n\tconst styles = cardStyles.clockCard\r\n\tconst hiCardStyles = cardStyles.hiCard\r\n\r\n\tuseEffect(() => {\r\n\t\tconst timer = setInterval(() => {\r\n\t\t\tsetTime(new Date())\r\n\t\t}, 5000)\r\n\r\n\t\treturn () => clearInterval(timer)\r\n\t}, [])\r\n\r\n\tconst hours = time.getHours().toString().padStart(2, '0')\r\n\tconst minutes = time.getMinutes().toString().padStart(2, '0')\r\n\r\n\tconst x = styles.offsetX !== null ? center.x + styles.offsetX : center.x + CARD_SPACING + hiCardStyles.width / 2\r\n\tconst y = styles.offsetY !== null ? center.y + styles.offsetY : center.y - styles.offset - styles.height\r\n\r\n\treturn (\r\n\t\t<Card order={styles.order} width={styles.width} height={styles.height} x={x} y={y} className='p-2'>\r\n\t\t\t<div className='bg-secondary/20 flex h-full w-full items-center justify-center gap-1.5 rounded-4xl'>\r\n\t\t\t\t<SevenSegmentDigit value={parseInt(hours[0])} />\r\n\t\t\t\t<SevenSegmentDigit value={parseInt(hours[1])} />\r\n\t\t\t\t<Colon />\r\n\t\t\t\t<SevenSegmentDigit value={parseInt(minutes[0])} />\r\n\t\t\t\t<SevenSegmentDigit value={parseInt(minutes[1])} />\r\n\t\t\t</div>\r\n\t\t</Card>\r\n\t)\r\n}\r\n\r\ninterface SevenSegmentDigitProps {\r\n\tvalue: number\r\n\tclassName?: string\r\n}\r\n\r\nfunction SevenSegmentDigit({ value, className }: SevenSegmentDigitProps) {\r\n\tconst segmentMap = {\r\n\t\t0: [true, true, true, true, true, true, false],\r\n\t\t1: [false, true, true, false, false, false, false],\r\n\t\t2: [true, true, false, true, true, false, true],\r\n\t\t3: [true, true, true, true, false, false, true],\r\n\t\t4: [false, true, true, false, false, true, true],\r\n\t\t5: [true, false, true, true, false, true, true],\r\n\t\t6: [true, false, true, true, true, true, true],\r\n\t\t7: [true, true, true, false, false, false, false],\r\n\t\t8: [true, true, true, true, true, true, true],\r\n\t\t9: [true, true, true, true, false, true, true]\r\n\t}\r\n\r\n\tconst segments = segmentMap[value as keyof typeof segmentMap] || segmentMap[0]\r\n\tconst activeColor = 'var(--color-primary)'\r\n\tconst inactiveColor = 'rgba(0, 0, 0, 0.05)'\r\n\r\n\treturn (\r\n\t\t<svg width='29' height='52' viewBox='0 0 29 52' fill='none' xmlns='http://www.w3.org/2000/svg' className={className}>\r\n\t\t\t<path\r\n\t\t\t\td='M4.20248 3.49482C2.82797 2.27303 3.69218 0 5.53121 0H22.6867C24.5522 0 25.4019 2.32821 23.975 3.52982L23.5791 3.86316C23.2186 4.16681 22.7623 4.33333 22.2909 4.33333H5.90621C5.41638 4.33333 4.94359 4.15358 4.57748 3.82815L4.20248 3.49482Z'\r\n\t\t\t\tfill={segments[0] ? activeColor : inactiveColor}\r\n\t\t\t/>\r\n\t\t\t<path\r\n\t\t\t\td='M3.85122 24.13C4.16644 23.936 4.5293 23.8333 4.89942 23.8333H23.3022C23.6503 23.8333 23.9923 23.9242 24.2945 24.0969L24.5862 24.2635C25.9298 25.0313 25.9298 26.9687 24.5862 27.7365L24.2945 27.9032C23.9923 28.0758 23.6503 28.1667 23.3022 28.1667H4.89942C4.5293 28.1667 4.16644 28.064 3.85122 27.87L3.58039 27.7033C2.31131 26.9224 2.31132 25.0777 3.58039 24.2967L3.85122 24.13Z'\r\n\t\t\t\tfill={segments[6] ? activeColor : inactiveColor}\r\n\t\t\t/>\r\n\t\t\t<path\r\n\t\t\t\td='M3.06 23.5458C1.7279 24.3784 -8.31295e-08 23.4207 -1.47217e-07 21.8498L-8.06095e-07 5.69981C-8.77526e-07 3.94893 2.09055 3.04323 3.36788 4.24073L3.70121 4.55323C4.10452 4.93133 4.33333 5.45949 4.33333 6.01231L4.33333 21.6415C4.33333 22.3311 3.97809 22.972 3.39333 23.3375L3.06 23.5458Z'\r\n\t\t\t\tfill={segments[5] ? activeColor : inactiveColor}\r\n\t\t\t/>\r\n\t\t\t<path\r\n\t\t\t\td='M24.8497 4.25654C26.1428 3.12502 28.1667 4.04338 28.1667 5.76169L28.1667 21.8498C28.1667 23.4207 26.4388 24.3784 25.1067 23.5458L24.7734 23.3375C24.1886 22.972 23.8334 22.3311 23.8334 21.6415L23.8334 6.05336C23.8334 5.47663 24.0823 4.92798 24.5163 4.54821L24.8497 4.25654Z'\r\n\t\t\t\tfill={segments[1] ? activeColor : inactiveColor}\r\n\t\t\t/>\r\n\t\t\t<path\r\n\t\t\t\td='M23.9259 48.6321C25.1234 49.9094 24.2177 52 22.4669 52L5.69978 52C3.9489 52 3.04321 49.9094 4.24071 48.6321L4.55321 48.2988C4.9313 47.8955 5.45947 47.6667 6.01228 47.6667L22.1544 47.6667C22.7072 47.6667 23.2353 47.8955 23.6134 48.2988L23.9259 48.6321Z'\r\n\t\t\t\tfill={segments[3] ? activeColor : inactiveColor}\r\n\t\t\t/>\r\n\t\t\t<path\r\n\t\t\t\td='M25.1862 28.489C26.5194 27.7391 28.1667 28.7025 28.1667 30.2322L28.1667 46.6299C28.1667 48.4117 26.0124 49.3041 24.7525 48.0441L24.4191 47.7108C24.0441 47.3357 23.8334 46.827 23.8334 46.2966L23.8334 30.4197C23.8334 29.6971 24.2231 29.0308 24.8528 28.6765L25.1862 28.489Z'\r\n\t\t\t\tfill={segments[2] ? activeColor : inactiveColor}\r\n\t\t\t/>\r\n\t\t\t<path\r\n\t\t\t\td='M3.4564 47.7859C2.21509 49.1048 4.23823e-07 48.2263 6.6133e-07 46.4152L2.79423e-06 30.1501C3.00022e-06 28.5793 1.72791 27.6216 3.06 28.4541L3.39333 28.6625C3.9781 29.028 4.33334 29.6689 4.33334 30.3585L4.33333 46.061C4.33333 46.5705 4.13891 47.0607 3.78973 47.4317L3.4564 47.7859Z'\r\n\t\t\t\tfill={segments[4] ? activeColor : inactiveColor}\r\n\t\t\t/>\r\n\t\t</svg>\r\n\t)\r\n}\r\n\r\nfunction Colon({ className }: { className?: string }) {\r\n\treturn (\r\n\t\t<div className={`flex flex-col justify-center gap-2 ${className}`}>\r\n\t\t\t<div className='bg-primary h-1.5 w-1.5' />\r\n\t\t\t<div className='bg-primary h-1.5 w-1.5' />\r\n\t\t</div>\r\n\t)\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 417, "column": 0}, "map": {"version":3,"sources":["file:///E:/qbb/github/blog-public/src/app/%28home%29/calendar-card.tsx"],"sourcesContent":["import Card from '@/components/card'\r\nimport { useCenterStore } from '@/hooks/use-center'\r\nimport { useConfigStore } from './stores/config-store'\r\nimport { CARD_SPACING } from '@/consts'\r\nimport dayjs from 'dayjs'\r\nimport 'dayjs/locale/zh-cn'\r\nimport { cn } from '@/lib/utils'\r\n\r\ndayjs.locale('zh-cn')\r\n\r\nexport default function CalendarCard() {\r\n\tconst center = useCenterStore()\r\n\tconst { cardStyles } = useConfigStore()\r\n\tconst now = dayjs()\r\n\tconst currentDate = now.date()\r\n\tconst firstDayOfMonth = now.startOf('month')\r\n\tconst firstDayWeekday = (firstDayOfMonth.day() + 6) % 7\r\n\tconst daysInMonth = now.daysInMonth()\r\n\tconst currentWeekday = (now.day() + 6) % 7\r\n\tconst styles = cardStyles.calendarCard\r\n\tconst hiCardStyles = cardStyles.hiCard\r\n\tconst clockCardStyles = cardStyles.clockCard\r\n\r\n\tconst x = styles.offsetX !== null ? center.x + styles.offsetX : center.x + CARD_SPACING + hiCardStyles.width / 2\r\n\tconst y = styles.offsetY !== null ? center.y + styles.offsetY : center.y - clockCardStyles.offset + CARD_SPACING\r\n\r\n\treturn (\r\n\t\t<Card order={styles.order} width={styles.width} height={styles.height} x={x} y={y}>\r\n\t\t\t<h3 className='text-secondary text-sm'>\r\n\t\t\t\t{now.format('YYYY/M/D')} {now.format('ddd')}\r\n\t\t\t</h3>\r\n\t\t\t<ul className='text-secondary mt-3 grid h-[206px] grid-cols-7 gap-2 text-sm'>\r\n\t\t\t\t{new Array(7).fill(0).map((_, index) => {\r\n\t\t\t\t\tconst isCurrentWeekday = index === currentWeekday\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<li key={index} className={cn('flex items-center justify-center font-medium', isCurrentWeekday && 'text-brand')}>\r\n\t\t\t\t\t\t\t{dates[index]}\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t)\r\n\t\t\t\t})}\r\n\r\n\t\t\t\t{new Array(firstDayWeekday).fill(0).map((_, index) => (\r\n\t\t\t\t\t<li key={`empty-${index}`} />\r\n\t\t\t\t))}\r\n\r\n\t\t\t\t{new Array(daysInMonth).fill(0).map((_, index) => {\r\n\t\t\t\t\tconst day = index + 1\r\n\t\t\t\t\tconst isToday = day === currentDate\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<li key={day} className={cn('flex items-center justify-center rounded-lg', isToday && 'bg-linear border font-medium')}>\r\n\t\t\t\t\t\t\t{day}\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t)\r\n\t\t\t\t})}\r\n\t\t\t</ul>\r\n\t\t</Card>\r\n\t)\r\n}\r\n\r\nconst dates = ['一', '二', '三', '四', '五', '六', '日']\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;AAEA,oMAAK,CAAC,MAAM,CAAC;AAEE,SAAS;IACvB,MAAM,SAAS,IAAA,+IAAc;IAC7B,MAAM,EAAE,UAAU,EAAE,GAAG,IAAA,qKAAc;IACrC,MAAM,MAAM,IAAA,oMAAK;IACjB,MAAM,cAAc,IAAI,IAAI;IAC5B,MAAM,kBAAkB,IAAI,OAAO,CAAC;IACpC,MAAM,kBAAkB,CAAC,gBAAgB,GAAG,KAAK,CAAC,IAAI;IACtD,MAAM,cAAc,IAAI,WAAW;IACnC,MAAM,iBAAiB,CAAC,IAAI,GAAG,KAAK,CAAC,IAAI;IACzC,MAAM,SAAS,WAAW,YAAY;IACtC,MAAM,eAAe,WAAW,MAAM;IACtC,MAAM,kBAAkB,WAAW,SAAS;IAE5C,MAAM,IAAI,OAAO,OAAO,KAAK,OAAO,OAAO,CAAC,GAAG,OAAO,OAAO,GAAG,OAAO,CAAC,GAAG,6HAAY,GAAG,aAAa,KAAK,GAAG;IAC/G,MAAM,IAAI,OAAO,OAAO,KAAK,OAAO,OAAO,CAAC,GAAG,OAAO,OAAO,GAAG,OAAO,CAAC,GAAG,gBAAgB,MAAM,GAAG,6HAAY;IAEhH,qBACC,6VAAC,qIAAI;QAAC,OAAO,OAAO,KAAK;QAAE,OAAO,OAAO,KAAK;QAAE,QAAQ,OAAO,MAAM;QAAE,GAAG;QAAG,GAAG;;0BAC/E,6VAAC;gBAAG,WAAU;;oBACZ,IAAI,MAAM,CAAC;oBAAY;oBAAE,IAAI,MAAM,CAAC;;;;;;;0BAEtC,6VAAC;gBAAG,WAAU;;oBACZ,IAAI,MAAM,GAAG,IAAI,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG;wBAC7B,MAAM,mBAAmB,UAAU;wBACnC,qBACC,6VAAC;4BAAe,WAAW,IAAA,yHAAE,EAAC,gDAAgD,oBAAoB;sCAChG,KAAK,CAAC,MAAM;2BADL;;;;;oBAIX;oBAEC,IAAI,MAAM,iBAAiB,IAAI,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,sBAC3C,6VAAC,UAAQ,CAAC,MAAM,EAAE,OAAO;;;;;oBAGzB,IAAI,MAAM,aAAa,IAAI,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG;wBACvC,MAAM,MAAM,QAAQ;wBACpB,MAAM,UAAU,QAAQ;wBACxB,qBACC,6VAAC;4BAAa,WAAW,IAAA,yHAAE,EAAC,+CAA+C,WAAW;sCACpF;2BADO;;;;;oBAIX;;;;;;;;;;;;;AAIJ;AAEA,MAAM,QAAQ;IAAC;IAAK;IAAK;IAAK;IAAK;IAAK;IAAK;CAAI","debugId":null}},
    {"offset": {"line": 528, "column": 0}, "map": {"version":3,"sources":["file:///E:/qbb/github/blog-public/src/svgs/music.svg.js"],"sourcesContent":["var _path, _path2, _defs;\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport * as React from \"react\";\nvar SvgMusic = function SvgMusic(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 32,\n    height: 32,\n    fill: \"none\"\n  }, props), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"url(#music_svg__a)\",\n    fillOpacity: 0.8,\n    d: \"m16.787 25.18 2.484-19.74s1.513 3.444 3.96 5.029c1.542.988 3.598.857 4.272 1.814.448.648.057 2.763-.107 3.567-.004.031.04.052.06.024.357-.859 1.359-3.38.954-4.24-.544-1.127-2.835-1.478-4.321-2.537-1.888-1.327-3.475-5.668-4.287-6.518-.248-.249-.632-.297-.848-.309-.847-.075-1.62.497-1.726 1.34L14.55 24.899z\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"url(#music_svg__b)\",\n    fillOpacity: 0.8,\n    d: \"M2.997 23.414a4.4 4.4 0 0 0 .267 2.119c.264.694.698 1.35 1.276 1.928a7.3 7.3 0 0 0 2.09 1.445 8.7 8.7 0 0 0 2.589.74 8.7 8.7 0 0 0 2.69-.076 7.3 7.3 0 0 0 2.385-.881 5.55 5.55 0 0 0 1.714-1.552 4.4 4.4 0 0 0 .783-1.987c.179-1.423-.376-2.879-1.543-4.047-1.167-1.17-2.85-1.955-4.68-2.185-1.828-.23-3.654.114-5.074.957s-2.318 2.116-2.497 3.54\"\n  })), _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"music_svg__a\",\n    x1: 18.646,\n    x2: 31.951,\n    y1: 9.253,\n    y2: 16.32,\n    gradientUnits: \"userSpaceOnUse\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"var(--color-brand)\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 1,\n    stopColor: \"var(--color-brand-secondary)\"\n  })), /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"music_svg__b\",\n    x1: 5.634,\n    x2: 14.351,\n    y1: 21.599,\n    y2: 31.855,\n    gradientUnits: \"userSpaceOnUse\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"var(--color-brand)\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 1,\n    stopColor: \"var(--color-brand-secondary)\"\n  })))));\n};\nexport default SvgMusic;"],"names":[],"mappings":";;;;AAEA;AAFA,IAAI,OAAO,QAAQ;AACnB,SAAS;IAAa,OAAO,WAAW,uCAAgB,OAAO,MAAM,CAAC,IAAI,KAAK,yBAAmK,SAAS,KAAK,CAAC,MAAM;AAAY;;AAEnR,IAAI,WAAW,SAAS,SAAS,KAAK;IACpC,OAAO,WAAW,GAAE,qUAAmB,CAAC,OAAO,SAAS;QACtD,OAAO;QACP,OAAO;QACP,QAAQ;QACR,MAAM;IACR,GAAG,QAAQ,SAAS,CAAC,QAAQ,WAAW,GAAE,qUAAmB,CAAC,QAAQ;QACpE,MAAM;QACN,aAAa;QACb,GAAG;IACL,EAAE,GAAG,UAAU,CAAC,SAAS,WAAW,GAAE,qUAAmB,CAAC,QAAQ;QAChE,MAAM;QACN,aAAa;QACb,GAAG;IACL,EAAE,GAAG,SAAS,CAAC,QAAQ,WAAW,GAAE,qUAAmB,CAAC,QAAQ,MAAM,WAAW,GAAE,qUAAmB,CAAC,kBAAkB;QACvH,IAAI;QACJ,IAAI;QACJ,IAAI;QACJ,IAAI;QACJ,IAAI;QACJ,eAAe;IACjB,GAAG,WAAW,GAAE,qUAAmB,CAAC,QAAQ;QAC1C,WAAW;IACb,IAAI,WAAW,GAAE,qUAAmB,CAAC,QAAQ;QAC3C,QAAQ;QACR,WAAW;IACb,KAAK,WAAW,GAAE,qUAAmB,CAAC,kBAAkB;QACtD,IAAI;QACJ,IAAI;QACJ,IAAI;QACJ,IAAI;QACJ,IAAI;QACJ,eAAe;IACjB,GAAG,WAAW,GAAE,qUAAmB,CAAC,QAAQ;QAC1C,WAAW;IACb,IAAI,WAAW,GAAE,qUAAmB,CAAC,QAAQ;QAC3C,QAAQ;QACR,WAAW;IACb,IAAI;AACN;uCACe","debugId":null}},
    {"offset": {"line": 583, "column": 0}, "map": {"version":3,"sources":["file:///E:/qbb/github/blog-public/src/svgs/play.svg.js"],"sourcesContent":["var _path, _defs;\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport * as React from \"react\";\nvar SvgPlay = function SvgPlay(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 15,\n    height: 16,\n    fill: \"none\"\n  }, props), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"url(#play_svg__a)\",\n    fillOpacity: 0.8,\n    d: \"M13.154 4.84c2.461 1.404 2.461 4.916 0 6.32l-7.616 4.346C3.077 16.91 0 15.155 0 12.346V3.654C0 .845 3.077-.91 5.538.495z\"\n  })), _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"play_svg__a\",\n    x1: 2.579,\n    x2: 16.198,\n    y1: 4.848,\n    y2: 13.938,\n    gradientUnits: \"userSpaceOnUse\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"var(--color-brand)\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 1,\n    stopColor: \"var(--color-brand-secondary)\"\n  })))));\n};\nexport default SvgPlay;"],"names":[],"mappings":";;;;AAEA;AAFA,IAAI,OAAO;AACX,SAAS;IAAa,OAAO,WAAW,uCAAgB,OAAO,MAAM,CAAC,IAAI,KAAK,yBAAmK,SAAS,KAAK,CAAC,MAAM;AAAY;;AAEnR,IAAI,UAAU,SAAS,QAAQ,KAAK;IAClC,OAAO,WAAW,GAAE,qUAAmB,CAAC,OAAO,SAAS;QACtD,OAAO;QACP,OAAO;QACP,QAAQ;QACR,MAAM;IACR,GAAG,QAAQ,SAAS,CAAC,QAAQ,WAAW,GAAE,qUAAmB,CAAC,QAAQ;QACpE,MAAM;QACN,aAAa;QACb,GAAG;IACL,EAAE,GAAG,SAAS,CAAC,QAAQ,WAAW,GAAE,qUAAmB,CAAC,QAAQ,MAAM,WAAW,GAAE,qUAAmB,CAAC,kBAAkB;QACvH,IAAI;QACJ,IAAI;QACJ,IAAI;QACJ,IAAI;QACJ,IAAI;QACJ,eAAe;IACjB,GAAG,WAAW,GAAE,qUAAmB,CAAC,QAAQ;QAC1C,WAAW;IACb,IAAI,WAAW,GAAE,qUAAmB,CAAC,QAAQ;QAC3C,QAAQ;QACR,WAAW;IACb,IAAI;AACN;uCACe","debugId":null}},
    {"offset": {"line": 622, "column": 0}, "map": {"version":3,"sources":["file:///E:/qbb/github/blog-public/src/app/%28home%29/music-card.tsx"],"sourcesContent":["import Card from '@/components/card'\r\nimport { useCenterStore } from '@/hooks/use-center'\r\nimport { useConfigStore } from './stores/config-store'\r\nimport { CARD_SPACING } from '@/consts'\r\nimport MusicSVG from '@/svgs/music.svg'\r\nimport PlaySVG from '@/svgs/play.svg'\r\n\r\nexport default function MusicCard() {\r\n\tconst center = useCenterStore()\r\n\tconst { cardStyles } = useConfigStore()\r\n\tconst styles = cardStyles.musicCard\r\n\tconst hiCardStyles = cardStyles.hiCard\r\n\tconst clockCardStyles = cardStyles.clockCard\r\n\tconst calendarCardStyles = cardStyles.calendarCard\r\n\r\n\tconst x = styles.offsetX !== null ? center.x + styles.offsetX : center.x + CARD_SPACING + hiCardStyles.width / 2 - styles.offset\r\n\tconst y = styles.offsetY !== null ? center.y + styles.offsetY : center.y - clockCardStyles.offset + CARD_SPACING + calendarCardStyles.height + CARD_SPACING\r\n\r\n\treturn (\r\n\t\t<Card order={styles.order} width={styles.width} height={styles.height} x={x} y={y} className='flex items-center gap-3'>\r\n\t\t\t<MusicSVG className='h-8 w-8' />\r\n\r\n\t\t\t<div className='flex-1'>\r\n\t\t\t\t<div className='text-secondary text-sm'>随机音乐</div>\r\n\r\n\t\t\t\t<div className='mt-1 h-2 rounded-full bg-white/60'>\r\n\t\t\t\t\t<div className='bg-linear h-full w-1/2 rounded-full' />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<button className='flex h-10 w-10 items-center justify-center rounded-full bg-white'>\r\n\t\t\t\t<PlaySVG className='text-brand ml-1 h-4 w-4' />\r\n\t\t\t</button>\r\n\t\t</Card>\r\n\t)\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AAEe,SAAS;IACvB,MAAM,SAAS,IAAA,+IAAc;IAC7B,MAAM,EAAE,UAAU,EAAE,GAAG,IAAA,qKAAc;IACrC,MAAM,SAAS,WAAW,SAAS;IACnC,MAAM,eAAe,WAAW,MAAM;IACtC,MAAM,kBAAkB,WAAW,SAAS;IAC5C,MAAM,qBAAqB,WAAW,YAAY;IAElD,MAAM,IAAI,OAAO,OAAO,KAAK,OAAO,OAAO,CAAC,GAAG,OAAO,OAAO,GAAG,OAAO,CAAC,GAAG,6HAAY,GAAG,aAAa,KAAK,GAAG,IAAI,OAAO,MAAM;IAChI,MAAM,IAAI,OAAO,OAAO,KAAK,OAAO,OAAO,CAAC,GAAG,OAAO,OAAO,GAAG,OAAO,CAAC,GAAG,gBAAgB,MAAM,GAAG,6HAAY,GAAG,mBAAmB,MAAM,GAAG,6HAAY;IAE3J,qBACC,6VAAC,qIAAI;QAAC,OAAO,OAAO,KAAK;QAAE,OAAO,OAAO,KAAK;QAAE,QAAQ,OAAO,MAAM;QAAE,GAAG;QAAG,GAAG;QAAG,WAAU;;0BAC5F,6VAAC,sIAAQ;gBAAC,WAAU;;;;;;0BAEpB,6VAAC;gBAAI,WAAU;;kCACd,6VAAC;wBAAI,WAAU;kCAAyB;;;;;;kCAExC,6VAAC;wBAAI,WAAU;kCACd,cAAA,6VAAC;4BAAI,WAAU;;;;;;;;;;;;;;;;;0BAIjB,6VAAC;gBAAO,WAAU;0BACjB,cAAA,6VAAC,qIAAO;oBAAC,WAAU;;;;;;;;;;;;;;;;;AAIvB","debugId":null}},
    {"offset": {"line": 720, "column": 0}, "map": {"version":3,"sources":["file:///E:/qbb/github/blog-public/src/svgs/github.svg.js"],"sourcesContent":["var _g, _defs;\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport * as React from \"react\";\nvar SvgGithub = function SvgGithub(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 32,\n    height: 31,\n    fill: \"none\"\n  }, props), _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    filter: \"url(#github_svg__a)\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#fff\",\n    fillRule: \"evenodd\",\n    d: \"M15.996 2a12.13 12.13 0 0 0-7.774 2.813 11.74 11.74 0 0 0-4.067 7.09 11.62 11.62 0 0 0 1.576 7.991 11.97 11.97 0 0 0 6.47 5.084c.596.11.82-.255.82-.566s-.012-1.21-.016-2.194c-3.338.712-4.043-1.392-4.043-1.392-.545-1.367-1.332-1.727-1.332-1.727-1.089-.73.082-.716.082-.716 1.206.084 1.84 1.216 1.84 1.216 1.069 1.802 2.808 1.281 3.491.977.107-.764.42-1.283.763-1.578-2.666-.297-5.468-1.308-5.468-5.826a4.52 4.52 0 0 1 1.236-3.165c-.124-.297-.535-1.496.117-3.124 0 0 1.007-.316 3.3 1.209a11.6 11.6 0 0 1 6.01 0c2.29-1.525 3.296-1.209 3.296-1.209.654 1.625.243 2.823.12 3.124a4.5 4.5 0 0 1 1.237 3.169c0 4.527-2.807 5.525-5.478 5.816.43.367.813 1.084.813 2.185 0 1.578-.014 2.847-.014 3.235 0 .315.216.681.824.566a11.97 11.97 0 0 0 6.47-5.085 11.62 11.62 0 0 0 1.576-7.991 11.74 11.74 0 0 0-4.07-7.091A12.13 12.13 0 0 0 16 2z\",\n    clipRule: \"evenodd\"\n  }))), _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"filter\", {\n    id: \"github_svg__a\",\n    width: 32,\n    height: 31,\n    x: 0,\n    y: 0,\n    colorInterpolationFilters: \"sRGB\",\n    filterUnits: \"userSpaceOnUse\"\n  }, /*#__PURE__*/React.createElement(\"feFlood\", {\n    floodOpacity: 0,\n    result: \"BackgroundImageFix\"\n  }), /*#__PURE__*/React.createElement(\"feColorMatrix\", {\n    \"in\": \"SourceAlpha\",\n    result: \"hardAlpha\",\n    values: \"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"\n  }), /*#__PURE__*/React.createElement(\"feOffset\", {\n    dy: 2\n  }), /*#__PURE__*/React.createElement(\"feGaussianBlur\", {\n    stdDeviation: 2\n  }), /*#__PURE__*/React.createElement(\"feComposite\", {\n    in2: \"hardAlpha\",\n    operator: \"out\"\n  }), /*#__PURE__*/React.createElement(\"feColorMatrix\", {\n    values: \"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.25 0\"\n  }), /*#__PURE__*/React.createElement(\"feBlend\", {\n    in2: \"BackgroundImageFix\",\n    result: \"effect1_dropShadow_40_25\"\n  }), /*#__PURE__*/React.createElement(\"feBlend\", {\n    \"in\": \"SourceGraphic\",\n    in2: \"effect1_dropShadow_40_25\",\n    result: \"shape\"\n  })))));\n};\nexport default SvgGithub;"],"names":[],"mappings":";;;;AAEA;AAFA,IAAI,IAAI;AACR,SAAS;IAAa,OAAO,WAAW,uCAAgB,OAAO,MAAM,CAAC,IAAI,KAAK,yBAAmK,SAAS,KAAK,CAAC,MAAM;AAAY;;AAEnR,IAAI,YAAY,SAAS,UAAU,KAAK;IACtC,OAAO,WAAW,GAAE,qUAAmB,CAAC,OAAO,SAAS;QACtD,OAAO;QACP,OAAO;QACP,QAAQ;QACR,MAAM;IACR,GAAG,QAAQ,MAAM,CAAC,KAAK,WAAW,GAAE,qUAAmB,CAAC,KAAK;QAC3D,QAAQ;IACV,GAAG,WAAW,GAAE,qUAAmB,CAAC,QAAQ;QAC1C,MAAM;QACN,UAAU;QACV,GAAG;QACH,UAAU;IACZ,GAAG,GAAG,SAAS,CAAC,QAAQ,WAAW,GAAE,qUAAmB,CAAC,QAAQ,MAAM,WAAW,GAAE,qUAAmB,CAAC,UAAU;QAChH,IAAI;QACJ,OAAO;QACP,QAAQ;QACR,GAAG;QACH,GAAG;QACH,2BAA2B;QAC3B,aAAa;IACf,GAAG,WAAW,GAAE,qUAAmB,CAAC,WAAW;QAC7C,cAAc;QACd,QAAQ;IACV,IAAI,WAAW,GAAE,qUAAmB,CAAC,iBAAiB;QACpD,MAAM;QACN,QAAQ;QACR,QAAQ;IACV,IAAI,WAAW,GAAE,qUAAmB,CAAC,YAAY;QAC/C,IAAI;IACN,IAAI,WAAW,GAAE,qUAAmB,CAAC,kBAAkB;QACrD,cAAc;IAChB,IAAI,WAAW,GAAE,qUAAmB,CAAC,eAAe;QAClD,KAAK;QACL,UAAU;IACZ,IAAI,WAAW,GAAE,qUAAmB,CAAC,iBAAiB;QACpD,QAAQ;IACV,IAAI,WAAW,GAAE,qUAAmB,CAAC,WAAW;QAC9C,KAAK;QACL,QAAQ;IACV,IAAI,WAAW,GAAE,qUAAmB,CAAC,WAAW;QAC9C,MAAM;QACN,KAAK;QACL,QAAQ;IACV,IAAI;AACN;uCACe","debugId":null}},
    {"offset": {"line": 781, "column": 0}, "map": {"version":3,"sources":["file:///E:/qbb/github/blog-public/src/svgs/juejin.svg.js"],"sourcesContent":["var _path, _path2;\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport * as React from \"react\";\nvar SvgJuejin = function SvgJuejin(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\"\n  }, props), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#1E80FF\",\n    d: \"M10.903 3.792c-.538.425-1.039.823-1.111.885l-.137.11.257.202c.14.113.278.222.305.246.028.024.422.336.871.696l.82.652.123-.093c.068-.051.545-.432 1.063-.843.514-.412.967-.768 1-.789.039-.024.066-.051.066-.065 0-.01-.226-.202-.504-.418-.281-.22-.531-.418-.559-.442-.374-.306-1.166-.916-1.19-.916-.013.004-.466.35-1.004.775m5.468 4.227c-4.477 3.542-4.443 3.515-4.525 3.463-.072-.044-.271-.199-1.502-1.172-.213-.168-.435-.347-.5-.395-.066-.051-.206-.16-.313-.246-.11-.086-.25-.196-.312-.247-.308-.24-1.666-1.313-2.393-1.886a1.7 1.7 0 0 0-.284-.199c-.017 0-.257.182-.532.401-.274.223-.531.429-.569.456-.041.028-.12.093-.175.144a.4.4 0 0 1-.127.096c-.072 0-.017.072.151.206.096.075.206.161.237.189l.463.363.713.562c.452.357.747.593 2.996 2.37 1.122.884 2.082 1.635 2.13 1.666.085.058.092.058.174-.007q.19-.147.378-.298l.411-.326a695 695 0 0 0 1.917-1.512c.027-.024.291-.23.582-.46.292-.23.888-.696 1.32-1.038l1.447-1.139c.364-.284.652-.528.645-.545a51 51 0 0 0-1.406-1.131c-.017-.01-.435.298-.926.685\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#1E80FF\",\n    d: \"M1.358 11.469c-.357.288-.669.548-.696.576-.055.051-.127-.01 1.875 1.566l1.351 1.067c.243.192.85.672 1.354 1.066l1.235.974c.048.04.538.425 1.086.857.546.432 1.739 1.371 2.647 2.088.912.716 1.667 1.306 1.684 1.313s.175-.103.35-.243c.51-.398 2.115-1.663 2.379-1.872.134-.107.302-.24.374-.295.072-.059.15-.12.171-.137.02-.021.278-.223.57-.453.486-.377 1.384-1.083 1.508-1.186.027-.024.12-.096.205-.161a157.07 157.07 0 0 1 .909-.72c.682-.535.99-.779 2.074-1.632.405-.32.761-.597.789-.621.058-.048.737-.583 1.046-.826.113-.086.212-.168.222-.179.01-.013.141-.113.292-.23.15-.112.308-.24.353-.277l.079-.069-.233-.181c-.127-.103-.24-.192-.25-.203-.028-.03-.525-.432-.707-.569a1 1 0 0 1-.178-.157c-.031-.072-.158.003-.686.421l-.641.504c-.038.035-.247.196-.463.367a19 19 0 0 0-.411.326c-.01.01-.155.127-.326.257-.168.13-.357.274-.415.322-.116.096-.127.103-.476.38-.13.104-.264.207-.292.23-.027.025-.476.378-.994.782-.518.408-.974.768-1.012.8-.037.033-.339.27-.668.527-.33.257-.957.751-1.396 1.097-.435.347-.99.782-1.23.97l-.68.535-.243.196-.103-.072c-.054-.041-.11-.082-.12-.093a5 5 0 0 0-.24-.188c-.277-.216-.339-.264-.39-.309a2 2 0 0 0-.175-.137c-.076-.058-.144-.11-.155-.12-.01-.01-.16-.134-.339-.274a18 18 0 0 1-.377-.295c-.031-.028-.401-.319-.826-.652-.422-.332-.823-.648-.892-.699-.134-.11-.785-.624-2.931-2.314-.81-.638-1.704-1.344-1.989-1.567-1.166-.926-1.292-1.022-1.334-1.018-.02 0-.329.24-.685.528\"\n  })));\n};\nexport default SvgJuejin;"],"names":[],"mappings":";;;;AAEA;AAFA,IAAI,OAAO;AACX,SAAS;IAAa,OAAO,WAAW,uCAAgB,OAAO,MAAM,CAAC,IAAI,KAAK,yBAAmK,SAAS,KAAK,CAAC,MAAM;AAAY;;AAEnR,IAAI,YAAY,SAAS,UAAU,KAAK;IACtC,OAAO,WAAW,GAAE,qUAAmB,CAAC,OAAO,SAAS;QACtD,OAAO;QACP,MAAM;QACN,SAAS;IACX,GAAG,QAAQ,SAAS,CAAC,QAAQ,WAAW,GAAE,qUAAmB,CAAC,QAAQ;QACpE,MAAM;QACN,GAAG;IACL,EAAE,GAAG,UAAU,CAAC,SAAS,WAAW,GAAE,qUAAmB,CAAC,QAAQ;QAChE,MAAM;QACN,GAAG;IACL,EAAE;AACJ;uCACe","debugId":null}},
    {"offset": {"line": 809, "column": 0}, "map": {"version":3,"sources":["file:///E:/qbb/github/blog-public/src/svgs/email.svg.js"],"sourcesContent":["var _g, _g2, _defs;\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport * as React from \"react\";\nvar SvgEmail = function SvgEmail(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 32,\n    height: 32,\n    fill: \"none\"\n  }, props), _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    filter: \"url(#email_svg__a)\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#fff\",\n    fillOpacity: 0.6,\n    d: \"M4 12.319V20.6c0 2.582 2.063 4.75 4.766 4.993 4.812.434 9.657.434 14.468 0 2.704-.243 4.766-2.41 4.766-4.993v-8.282c0-2.583-2.062-4.75-4.765-4.994a80.6 80.6 0 0 0-14.47 0C6.064 7.57 4 9.735 4 12.32\",\n    shapeRendering: \"crispEdges\"\n  }))), _g2 || (_g2 = /*#__PURE__*/React.createElement(\"g\", {\n    filter: \"url(#email_svg__b)\",\n    shapeRendering: \"crispEdges\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#fff\",\n    fillOpacity: 0.4,\n    d: \"M26.608 9.806a.624.624 0 0 0-.003-.85 5.3 5.3 0 0 0-3.34-1.586 79.5 79.5 0 0 0-14.449 0 5.3 5.3 0 0 0-3.433 1.69.623.623 0 0 0 .026.853l6.828 6.904c1.827 1.846 4.815 1.923 6.896.167a81 81 0 0 0 7.475-7.178\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    stroke: \"#fff\",\n    d: \"M8.861 7.868a79 79 0 0 1 14.359 0h.001a4.8 4.8 0 0 1 3.025 1.435v.001a.1.1 0 0 1 .028.074.13.13 0 0 1-.035.09 80 80 0 0 1-7.429 7.134c-1.896 1.6-4.587 1.511-6.217-.137L5.764 9.562a.14.14 0 0 1-.039-.09.1.1 0 0 1 .025-.073v-.001a4.8 4.8 0 0 1 3.111-1.53Z\"\n  }))), _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"filter\", {\n    id: \"email_svg__a\",\n    width: 32,\n    height: 26.92,\n    x: 0,\n    y: 5,\n    colorInterpolationFilters: \"sRGB\",\n    filterUnits: \"userSpaceOnUse\"\n  }, /*#__PURE__*/React.createElement(\"feFlood\", {\n    floodOpacity: 0,\n    result: \"BackgroundImageFix\"\n  }), /*#__PURE__*/React.createElement(\"feColorMatrix\", {\n    \"in\": \"SourceAlpha\",\n    result: \"hardAlpha\",\n    values: \"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"\n  }), /*#__PURE__*/React.createElement(\"feOffset\", {\n    dy: 2\n  }), /*#__PURE__*/React.createElement(\"feGaussianBlur\", {\n    stdDeviation: 2\n  }), /*#__PURE__*/React.createElement(\"feComposite\", {\n    in2: \"hardAlpha\",\n    operator: \"out\"\n  }), /*#__PURE__*/React.createElement(\"feColorMatrix\", {\n    values: \"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.02 0\"\n  }), /*#__PURE__*/React.createElement(\"feBlend\", {\n    in2: \"BackgroundImageFix\",\n    result: \"effect1_dropShadow_111_159\"\n  }), /*#__PURE__*/React.createElement(\"feBlend\", {\n    \"in\": \"SourceGraphic\",\n    in2: \"effect1_dropShadow_111_159\",\n    result: \"shape\"\n  })), /*#__PURE__*/React.createElement(\"filter\", {\n    id: \"email_svg__b\",\n    width: 25.547,\n    height: 15.212,\n    x: 3.226,\n    y: 6.041,\n    colorInterpolationFilters: \"sRGB\",\n    filterUnits: \"userSpaceOnUse\"\n  }, /*#__PURE__*/React.createElement(\"feFlood\", {\n    floodOpacity: 0,\n    result: \"BackgroundImageFix\"\n  }), /*#__PURE__*/React.createElement(\"feColorMatrix\", {\n    \"in\": \"SourceAlpha\",\n    result: \"hardAlpha\",\n    values: \"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"\n  }), /*#__PURE__*/React.createElement(\"feOffset\", {\n    dy: 1\n  }), /*#__PURE__*/React.createElement(\"feGaussianBlur\", {\n    stdDeviation: 1\n  }), /*#__PURE__*/React.createElement(\"feComposite\", {\n    in2: \"hardAlpha\",\n    operator: \"out\"\n  }), /*#__PURE__*/React.createElement(\"feColorMatrix\", {\n    values: \"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.02 0\"\n  }), /*#__PURE__*/React.createElement(\"feBlend\", {\n    in2: \"BackgroundImageFix\",\n    result: \"effect1_dropShadow_111_159\"\n  }), /*#__PURE__*/React.createElement(\"feBlend\", {\n    \"in\": \"SourceGraphic\",\n    in2: \"effect1_dropShadow_111_159\",\n    result: \"shape\"\n  })))));\n};\nexport default SvgEmail;"],"names":[],"mappings":";;;;AAEA;AAFA,IAAI,IAAI,KAAK;AACb,SAAS;IAAa,OAAO,WAAW,uCAAgB,OAAO,MAAM,CAAC,IAAI,KAAK,yBAAmK,SAAS,KAAK,CAAC,MAAM;AAAY;;AAEnR,IAAI,WAAW,SAAS,SAAS,KAAK;IACpC,OAAO,WAAW,GAAE,qUAAmB,CAAC,OAAO,SAAS;QACtD,OAAO;QACP,OAAO;QACP,QAAQ;QACR,MAAM;IACR,GAAG,QAAQ,MAAM,CAAC,KAAK,WAAW,GAAE,qUAAmB,CAAC,KAAK;QAC3D,QAAQ;IACV,GAAG,WAAW,GAAE,qUAAmB,CAAC,QAAQ;QAC1C,MAAM;QACN,aAAa;QACb,GAAG;QACH,gBAAgB;IAClB,GAAG,GAAG,OAAO,CAAC,MAAM,WAAW,GAAE,qUAAmB,CAAC,KAAK;QACxD,QAAQ;QACR,gBAAgB;IAClB,GAAG,WAAW,GAAE,qUAAmB,CAAC,QAAQ;QAC1C,MAAM;QACN,aAAa;QACb,GAAG;IACL,IAAI,WAAW,GAAE,qUAAmB,CAAC,QAAQ;QAC3C,QAAQ;QACR,GAAG;IACL,GAAG,GAAG,SAAS,CAAC,QAAQ,WAAW,GAAE,qUAAmB,CAAC,QAAQ,MAAM,WAAW,GAAE,qUAAmB,CAAC,UAAU;QAChH,IAAI;QACJ,OAAO;QACP,QAAQ;QACR,GAAG;QACH,GAAG;QACH,2BAA2B;QAC3B,aAAa;IACf,GAAG,WAAW,GAAE,qUAAmB,CAAC,WAAW;QAC7C,cAAc;QACd,QAAQ;IACV,IAAI,WAAW,GAAE,qUAAmB,CAAC,iBAAiB;QACpD,MAAM;QACN,QAAQ;QACR,QAAQ;IACV,IAAI,WAAW,GAAE,qUAAmB,CAAC,YAAY;QAC/C,IAAI;IACN,IAAI,WAAW,GAAE,qUAAmB,CAAC,kBAAkB;QACrD,cAAc;IAChB,IAAI,WAAW,GAAE,qUAAmB,CAAC,eAAe;QAClD,KAAK;QACL,UAAU;IACZ,IAAI,WAAW,GAAE,qUAAmB,CAAC,iBAAiB;QACpD,QAAQ;IACV,IAAI,WAAW,GAAE,qUAAmB,CAAC,WAAW;QAC9C,KAAK;QACL,QAAQ;IACV,IAAI,WAAW,GAAE,qUAAmB,CAAC,WAAW;QAC9C,MAAM;QACN,KAAK;QACL,QAAQ;IACV,KAAK,WAAW,GAAE,qUAAmB,CAAC,UAAU;QAC9C,IAAI;QACJ,OAAO;QACP,QAAQ;QACR,GAAG;QACH,GAAG;QACH,2BAA2B;QAC3B,aAAa;IACf,GAAG,WAAW,GAAE,qUAAmB,CAAC,WAAW;QAC7C,cAAc;QACd,QAAQ;IACV,IAAI,WAAW,GAAE,qUAAmB,CAAC,iBAAiB;QACpD,MAAM;QACN,QAAQ;QACR,QAAQ;IACV,IAAI,WAAW,GAAE,qUAAmB,CAAC,YAAY;QAC/C,IAAI;IACN,IAAI,WAAW,GAAE,qUAAmB,CAAC,kBAAkB;QACrD,cAAc;IAChB,IAAI,WAAW,GAAE,qUAAmB,CAAC,eAAe;QAClD,KAAK;QACL,UAAU;IACZ,IAAI,WAAW,GAAE,qUAAmB,CAAC,iBAAiB;QACpD,QAAQ;IACV,IAAI,WAAW,GAAE,qUAAmB,CAAC,WAAW;QAC9C,KAAK;QACL,QAAQ;IACV,IAAI,WAAW,GAAE,qUAAmB,CAAC,WAAW;QAC9C,MAAM;QACN,KAAK;QACL,QAAQ;IACV,IAAI;AACN;uCACe","debugId":null}},
    {"offset": {"line": 911, "column": 0}, "map": {"version":3,"sources":["file:///E:/qbb/github/blog-public/src/app/%28home%29/social-buttons.tsx"],"sourcesContent":["import { useCenterStore } from '@/hooks/use-center'\r\nimport GithubSVG from '@/svgs/github.svg'\r\nimport { ANIMATION_DELAY, CARD_SPACING } from '@/consts'\r\nimport { useConfigStore } from './stores/config-store'\r\nimport JuejinSVG from '@/svgs/juejin.svg'\r\nimport EmailSVG from '@/svgs/email.svg'\r\nimport { motion } from 'motion/react'\r\nimport { useEffect, useState } from 'react'\r\nimport { toast } from 'sonner'\r\nimport { useSize } from '@/hooks/use-size'\r\n\r\nlet delay = 100\r\n\r\nexport default function SocialButtons() {\r\n\tconst center = useCenterStore()\r\n\tconst { cardStyles } = useConfigStore()\r\n\tconst { maxSM, init } = useSize()\r\n\tconst styles = cardStyles.socialButtons\r\n\tconst hiCardStyles = cardStyles.hiCard\r\n\tlet order = styles.order\r\n\tif (maxSM && init) {\r\n\t\torder = 0\r\n\t\tdelay = 0\r\n\t}\r\n\tconst [show, setShow] = useState(false)\r\n\tconst [secondaryShow, setSecondaryShow] = useState(false)\r\n\tconst [tertiaryShow, setTertiaryShow] = useState(false)\r\n\tuseEffect(() => {\r\n\t\tsetTimeout(() => setShow(true), order * ANIMATION_DELAY * 1000)\r\n\t\tsetTimeout(() => setSecondaryShow(true), order * ANIMATION_DELAY * 1000 + 1 * delay)\r\n\t\tsetTimeout(() => setTertiaryShow(true), order * ANIMATION_DELAY * 1000 + 2 * delay)\r\n\t}, [order])\r\n\r\n\tconst x = styles.offsetX !== null ? center.x + styles.offsetX : center.x + hiCardStyles.width / 2\r\n\tconst y = styles.offsetY !== null ? center.y + styles.offsetY : center.y + hiCardStyles.height / 2 + CARD_SPACING\r\n\r\n\tif (show)\r\n\t\treturn (\r\n\t\t\t<motion.div className='absolute max-sm:static' animate={{ left: x, top: y }} initial={{ left: x, top: y }}>\r\n\t\t\t\t<div className='absolute top-0 right-0 flex items-center gap-3 max-sm:static'>\r\n\t\t\t\t\t{tertiaryShow && (\r\n\t\t\t\t\t\t<motion.a\r\n\t\t\t\t\t\t\thref='https://github.com/Liu7i-67'\r\n\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\tinitial={{ opacity: 0, scale: 0.6 }}\r\n\t\t\t\t\t\t\tanimate={{ opacity: 1, scale: 1 }}\r\n\t\t\t\t\t\t\twhileHover={{ scale: 1.05 }}\r\n\t\t\t\t\t\t\twhileTap={{ scale: 0.95 }}\r\n\t\t\t\t\t\t\tclassName='font-averia flex items-center gap-2 rounded-xl border bg-[#070707] px-3 py-2 text-xl text-white'\r\n\t\t\t\t\t\t\tstyle={{ boxShadow: ' inset 0 0 12px rgba(255, 255, 255, 0.4)' }}>\r\n\t\t\t\t\t\t\t<GithubSVG />\r\n\t\t\t\t\t\t\tGithub\r\n\t\t\t\t\t\t</motion.a>\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t{secondaryShow && (\r\n\t\t\t\t\t\t<motion.a\r\n\t\t\t\t\t\t\thref='https://juejin.cn/user/2427311675422382'\r\n\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\tinitial={{ opacity: 0, scale: 0.6 }}\r\n\t\t\t\t\t\t\tanimate={{ opacity: 1, scale: 1 }}\r\n\t\t\t\t\t\t\twhileHover={{ scale: 1.05 }}\r\n\t\t\t\t\t\t\twhileTap={{ scale: 0.95 }}\r\n\t\t\t\t\t\t\tclassName='card relative flex items-center gap-2 rounded-xl px-3 py-2.5 font-medium whitespace-nowrap'>\r\n\t\t\t\t\t\t\t<JuejinSVG className='h-6 w-6' />\r\n\t\t\t\t\t\t\t稀土掘金\r\n\t\t\t\t\t\t</motion.a>\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t<motion.button\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tnavigator.clipboard.writeText('yysuni1001@gmail.com').then(() => {\r\n\t\t\t\t\t\t\t\ttoast.success('邮箱已复制到剪贴板')\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tinitial={{ opacity: 0, scale: 0.6 }}\r\n\t\t\t\t\t\tanimate={{ opacity: 1, scale: 1 }}\r\n\t\t\t\t\t\twhileHover={{ scale: 1.05 }}\r\n\t\t\t\t\t\twhileTap={{ scale: 0.95 }}\r\n\t\t\t\t\t\tclassName='card btn relative rounded-xl p-1.5'>\r\n\t\t\t\t\t\t<EmailSVG />\r\n\t\t\t\t\t</motion.button>\r\n\t\t\t\t</div>\r\n\t\t\t</motion.div>\r\n\t\t)\r\n\treturn null\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AAEA,IAAI,QAAQ;AAEG,SAAS;IACvB,MAAM,SAAS,IAAA,+IAAc;IAC7B,MAAM,EAAE,UAAU,EAAE,GAAG,IAAA,qKAAc;IACrC,MAAM,EAAE,KAAK,EAAE,IAAI,EAAE,GAAG,IAAA,sIAAO;IAC/B,MAAM,SAAS,WAAW,aAAa;IACvC,MAAM,eAAe,WAAW,MAAM;IACtC,IAAI,QAAQ,OAAO,KAAK;IACxB,IAAI,SAAS,MAAM;QAClB,QAAQ;QACR,QAAQ;IACT;IACA,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,gUAAQ,EAAC;IACjC,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,gUAAQ,EAAC;IACnD,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,gUAAQ,EAAC;IACjD,IAAA,iUAAS,EAAC;QACT,WAAW,IAAM,QAAQ,OAAO,QAAQ,gIAAe,GAAG;QAC1D,WAAW,IAAM,iBAAiB,OAAO,QAAQ,gIAAe,GAAG,OAAO,IAAI;QAC9E,WAAW,IAAM,gBAAgB,OAAO,QAAQ,gIAAe,GAAG,OAAO,IAAI;IAC9E,GAAG;QAAC;KAAM;IAEV,MAAM,IAAI,OAAO,OAAO,KAAK,OAAO,OAAO,CAAC,GAAG,OAAO,OAAO,GAAG,OAAO,CAAC,GAAG,aAAa,KAAK,GAAG;IAChG,MAAM,IAAI,OAAO,OAAO,KAAK,OAAO,OAAO,CAAC,GAAG,OAAO,OAAO,GAAG,OAAO,CAAC,GAAG,aAAa,MAAM,GAAG,IAAI,6HAAY;IAEjH,IAAI,MACH,qBACC,6VAAC,0SAAM,CAAC,GAAG;QAAC,WAAU;QAAyB,SAAS;YAAE,MAAM;YAAG,KAAK;QAAE;QAAG,SAAS;YAAE,MAAM;YAAG,KAAK;QAAE;kBACvG,cAAA,6VAAC;YAAI,WAAU;;gBACb,8BACA,6VAAC,0SAAM,CAAC,CAAC;oBACR,MAAK;oBACL,QAAO;oBACP,SAAS;wBAAE,SAAS;wBAAG,OAAO;oBAAI;oBAClC,SAAS;wBAAE,SAAS;wBAAG,OAAO;oBAAE;oBAChC,YAAY;wBAAE,OAAO;oBAAK;oBAC1B,UAAU;wBAAE,OAAO;oBAAK;oBACxB,WAAU;oBACV,OAAO;wBAAE,WAAW;oBAA2C;;sCAC/D,6VAAC,uIAAS;;;;;wBAAG;;;;;;;gBAKd,+BACA,6VAAC,0SAAM,CAAC,CAAC;oBACR,MAAK;oBACL,QAAO;oBACP,SAAS;wBAAE,SAAS;wBAAG,OAAO;oBAAI;oBAClC,SAAS;wBAAE,SAAS;wBAAG,OAAO;oBAAE;oBAChC,YAAY;wBAAE,OAAO;oBAAK;oBAC1B,UAAU;wBAAE,OAAO;oBAAK;oBACxB,WAAU;;sCACV,6VAAC,uIAAS;4BAAC,WAAU;;;;;;wBAAY;;;;;;;8BAKnC,6VAAC,0SAAM,CAAC,MAAM;oBACb,SAAS;wBACR,UAAU,SAAS,CAAC,SAAS,CAAC,wBAAwB,IAAI,CAAC;4BAC1D,iRAAK,CAAC,OAAO,CAAC;wBACf;oBACD;oBACA,SAAS;wBAAE,SAAS;wBAAG,OAAO;oBAAI;oBAClC,SAAS;wBAAE,SAAS;wBAAG,OAAO;oBAAE;oBAChC,YAAY;wBAAE,OAAO;oBAAK;oBAC1B,UAAU;wBAAE,OAAO;oBAAK;oBACxB,WAAU;8BACV,cAAA,6VAAC,sIAAQ;;;;;;;;;;;;;;;;;;;;;IAKd,OAAO;AACR","debugId":null}},
    {"offset": {"line": 1088, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/app/share/list.json"],"sourcesContent":["[{\"name\":\"iLoveIMG\",\"url\":\"https://www.iloveimg.com/zh-cn\",\"logo\":\"/images/share/7e91e93e3cdd586b.svg\",\"description\":\"免费图片处理网站，我经常用来压缩图片，压缩效果会比 Tinypng 更好。链式处理功能非常好用。\",\"tags\":[\"图片\"],\"stars\":4},{\"name\":\"TinyPNG\",\"url\":\"https://tinypng.com/\",\"logo\":\"https://tinypng.com/static/images/george-anim/large_george_x2.webp\",\"description\":\"国际上比较出名的压缩图片工具，过去的书本中知晓的这个网站，但是有图片大小限制，也有数量限制。挺好的压缩图片替代品。\",\"tags\":[\"图片\"],\"stars\":3},{\"name\":\"removebg\",\"url\":\"https://www.remove.bg/zh\",\"logo\":\"/images/share/859bfb2ef1c6a503.svg\",\"description\":\"AI 抠图工具，特点是界面简洁，效果比 windows 自带的去除背景会更好一些，缺点是有免费有导出大小限制\",\"tags\":[\"图片\",\"AI\"],\"stars\":3},{\"name\":\"Neumorphism\",\"url\":\"https://neumorphism.io/\",\"logo\":\"https://neumorphism.io/apple-touch-icon.png\",\"description\":\"Neumorphism 是一种极具鲜明特色的设计风格，总能给新人一种惊叹感。但是应用并不广泛，实际开发也会有很多不好的点。更多是做一个留念。\",\"tags\":[\"CSS\",\"Github\"],\"stars\":2},{\"name\":\"Nucleo\",\"url\":\"https://nucleoapp.com/app/?library=core\",\"logo\":\"/images/share/7e720f35557fa9de.svg\",\"description\":\"图标库，网站整体很干净。独特的是，它有一类像素风格的图标，很有意思。它的 icon 也很多，还有 grass 风格的。\",\"tags\":[\"Icons\"],\"stars\":3},{\"name\":\"Loadership\",\"url\":\"https://www.loadership.com/\",\"logo\":\"https://www.loadership.com/loadership_logo_round.svg\",\"description\":\"13种 Loader 样式，在线调整使用。在 AI 时代可能意义小很多了。\",\"tags\":[\"CSS\",\"Github\"],\"stars\":3},{\"name\":\"CSS Buttons\",\"url\":\"https://cssbuttons.io/\",\"logo\":\"/images/share/2b8118a3645967ee.svg\",\"description\":\"有不少按钮样式。跟 Neumorphism 有一些关系。\",\"tags\":[\"CSS\"],\"stars\":2},{\"name\":\"Uiverse\",\"url\":\"https://uiverse.io/\",\"logo\":\"/images/share/5e7b29cb1a84be80.png\",\"description\":\"不可错过的参考库，有很多交互效果，包括热门的 Button、Loader 设计，内容丰富，还在不断更新。\",\"tags\":[\"CSS\"],\"stars\":4},{\"name\":\"Magic UI\",\"url\":\"https://magicui.design/\",\"logo\":\"https://magicui.design/favicon.ico\",\"description\":\"shadcn/ui 伴生库，有很多实用设计。取用也很方便，可以自己复制独立的代码。\",\"tags\":[\"组件\",\"Github\"],\"stars\":4},{\"name\":\"Ai lman\",\"url\":\"https://aliimam.in/docs/backgrounds/shader-rgb\",\"logo\":\"https://aliimam.in/_next/image?url=%2Fai-logo-black.png&w=128&q=75\",\"description\":\"类 Magic UI，但是感觉差点意思。可作为看完 Magic 意犹未尽时闲看。\",\"tags\":[\"组件\"],\"stars\":3},{\"name\":\"Awwwards\",\"url\":\"https://www.awwwards.com/\",\"logo\":\"https://assets.awwwards.com/assets/images/favicon.svg\",\"description\":\"网站评选网站，你总能从这里发现惊艳的网站\",\"tags\":[\"网站集\"],\"stars\":3},{\"name\":\"CSS Design Awards\",\"url\":\"https://www.cssdesignawards.com/\",\"logo\":\"/images/share/aaae2bf4f74c8eb1.svg\",\"description\":\"网站评选网站，跟 Awwwards 类似，可以看到每期的优秀网站。观感上会好些。\",\"tags\":[\"网站集\"],\"stars\":3},{\"name\":\"404s.design\",\"logo\":\"/images/share/5c9a8b7deb717c5f.svg\",\"url\":\"https://www.404s.design/\",\"description\":\"收集 404 设计的网站，无聊的时候可以看下。\",\"tags\":[\"网站集\"],\"stars\":3},{\"name\":\"Igloo Inc.\",\"logo\":\"https://www.igloo.inc/assets/favicon32-af94112f.png\",\"url\":\"https://www.igloo.inc/\",\"description\":\"abeto 作品，非常酷炫\",\"tags\":[\"3D\"],\"stars\":4},{\"name\":\"abeto 官网\",\"logo\":\"https://abeto.co/assets/favicon32-11fb90a3.png\",\"url\":\"https://abeto.co/\",\"description\":\"无限绽开的花，飘荡的树叶，复古风格化\",\"tags\":[\"3D\"],\"stars\":4},{\"name\":\"Messenger\",\"logo\":\"https://messenger.abeto.co/assets/favicon32-BC0QIL61.png\",\"url\":\"https://messenger.abeto.co/\",\"description\":\"abeto 作品，卡通送信员在地球小镇上奔跑，联机在线，可换装\",\"tags\":[\"3D\"],\"stars\":4},{\"name\":\"Summer Afternoon\",\"logo\":\"https://summer-afternoon.vlucendo.com/assets/favicon32-e817b074.png\",\"url\":\"https://summer-afternoon.vlucendo.com/\",\"description\":\"夏日午后，小男孩在乡村公路上上游玩\",\"tags\":[\"3D\"],\"stars\":4},{\"name\":\"The Monolith Project\",\"logo\":\"https://themonolithproject.net/assets/images-next/nose_logo.webp\",\"url\":\"https://themonolithproject.net/\",\"description\":\"奇幻宇宙的动画演绎，像看电影一样。“跨越多星之际，一座沉默的巨石碑悄然苏醒。“巨石碑计划”：每一次触碰，皆可重写现实。”\",\"tags\":[\"3D\"],\"stars\":5},{\"name\":\"Making Software\",\"logo\":\"https://www.makingsoftware.com/favicon.ico\",\"url\":\"https://www.makingsoftware.com/\",\"description\":\"面向软件设计和开发人员的参考手册。样式很棒的学习网站。\",\"tags\":[\"学习\"],\"stars\":4},{\"name\":\"Ease 函数参考\",\"logo\":\"https://easings.net/96.8aa68ac4.png\",\"url\":\"https://easings.net/\",\"description\":\"当你在调整动画节奏时，这个 ease 表能帮助直观感受 ease 表现出的效果\",\"tags\":[\"Github\"],\"stars\":3},{\"name\":\"Isocons\",\"logo\":\"/images/share/97859f1c57799dd2.png\",\"url\":\"https://www.isocons.app/\",\"description\":\"3D icons 网站，酷酷的，免费。\",\"tags\":[\"Icons\"],\"stars\":3},{\"name\":\"Webp 转换压缩\",\"logo\":\"https://www.yysuni.com/images/avatar.png\",\"url\":\"https://www.yysuni.com/image-toolbox\",\"description\":\"无限压缩，快且方便，可以直接对比效果\",\"tags\":[\"图片\"],\"stars\":3}]"],"names":[],"mappings":"AAAA"}},
    {"offset": {"line": 1088, "column": 4280}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1092, "column": 0}, "map": {"version":3,"sources":["file:///E:/qbb/github/blog-public/src/app/%28home%29/share-card.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useEffect, useState } from 'react'\r\nimport Image from 'next/image'\r\nimport Card from '@/components/card'\r\nimport { useCenterStore } from '@/hooks/use-center'\r\nimport { useConfigStore } from './stores/config-store'\r\nimport { CARD_SPACING } from '@/consts'\r\nimport shareList from '@/app/share/list.json'\r\nimport Link from 'next/link'\r\n\r\ntype ShareItem = {\r\n\tname: string\r\n\turl: string\r\n\tlogo: string\r\n\tdescription: string\r\n\ttags: string[]\r\n\tstars: number\r\n}\r\n\r\nexport default function ShareCard() {\r\n\tconst center = useCenterStore()\r\n\tconst { cardStyles } = useConfigStore()\r\n\tconst [randomItem, setRandomItem] = useState<ShareItem | null>(null)\r\n\tconst styles = cardStyles.shareCard\r\n\tconst hiCardStyles = cardStyles.hiCard\r\n\tconst socialButtonsStyles = cardStyles.socialButtons\r\n\r\n\tuseEffect(() => {\r\n\t\tconst randomIndex = Math.floor(Math.random() * shareList.length)\r\n\t\tsetRandomItem(shareList[randomIndex])\r\n\t}, [])\r\n\r\n\tif (!randomItem) {\r\n\t\treturn null\r\n\t}\r\n\r\n\tconst x = styles.offsetX !== null ? center.x + styles.offsetX : center.x + hiCardStyles.width / 2 - socialButtonsStyles.width\r\n\tconst y = styles.offsetY !== null ? center.y + styles.offsetY : center.y + hiCardStyles.height / 2 + CARD_SPACING + socialButtonsStyles.height + CARD_SPACING\r\n\r\n\treturn (\r\n\t\t<Card order={styles.order} width={styles.width} x={x} y={y}>\r\n\t\t\t<h2 className='text-secondary text-sm'>随机推荐</h2>\r\n\r\n\t\t\t<Link href='/share' className='mt-2 block space-y-2'>\r\n\t\t\t\t<div className='flex items-center'>\r\n\t\t\t\t\t<div className='relative mr-3 h-12 w-12 shrink-0 overflow-hidden rounded-xl'>\r\n\t\t\t\t\t\t<img src={randomItem.logo} alt={randomItem.name} className='h-full w-full object-contain' />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<h3 className='text-sm font-medium'>{randomItem.name}</h3>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<p className='text-secondary line-clamp-3 text-xs'>{randomItem.description}</p>\r\n\t\t\t</Link>\r\n\t\t</Card>\r\n\t)\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AATA;;;;;;;;;AAoBe,SAAS;IACvB,MAAM,SAAS,IAAA,+IAAc;IAC7B,MAAM,EAAE,UAAU,EAAE,GAAG,IAAA,qKAAc;IACrC,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,gUAAQ,EAAmB;IAC/D,MAAM,SAAS,WAAW,SAAS;IACnC,MAAM,eAAe,WAAW,MAAM;IACtC,MAAM,sBAAsB,WAAW,aAAa;IAEpD,IAAA,iUAAS,EAAC;QACT,MAAM,cAAc,KAAK,KAAK,CAAC,KAAK,MAAM,KAAK,8GAAS,CAAC,MAAM;QAC/D,cAAc,8GAAS,CAAC,YAAY;IACrC,GAAG,EAAE;IAEL,IAAI,CAAC,YAAY;QAChB,OAAO;IACR;IAEA,MAAM,IAAI,OAAO,OAAO,KAAK,OAAO,OAAO,CAAC,GAAG,OAAO,OAAO,GAAG,OAAO,CAAC,GAAG,aAAa,KAAK,GAAG,IAAI,oBAAoB,KAAK;IAC7H,MAAM,IAAI,OAAO,OAAO,KAAK,OAAO,OAAO,CAAC,GAAG,OAAO,OAAO,GAAG,OAAO,CAAC,GAAG,aAAa,MAAM,GAAG,IAAI,6HAAY,GAAG,oBAAoB,MAAM,GAAG,6HAAY;IAE7J,qBACC,6VAAC,qIAAI;QAAC,OAAO,OAAO,KAAK;QAAE,OAAO,OAAO,KAAK;QAAE,GAAG;QAAG,GAAG;;0BACxD,6VAAC;gBAAG,WAAU;0BAAyB;;;;;;0BAEvC,6VAAC,sRAAI;gBAAC,MAAK;gBAAS,WAAU;;kCAC7B,6VAAC;wBAAI,WAAU;;0CACd,6VAAC;gCAAI,WAAU;0CACd,cAAA,6VAAC;oCAAI,KAAK,WAAW,IAAI;oCAAE,KAAK,WAAW,IAAI;oCAAE,WAAU;;;;;;;;;;;0CAE5D,6VAAC;gCAAG,WAAU;0CAAuB,WAAW,IAAI;;;;;;;;;;;;kCAGrD,6VAAC;wBAAE,WAAU;kCAAuC,WAAW,WAAW;;;;;;;;;;;;;;;;;;AAI9E","debugId":null}},
    {"offset": {"line": 1205, "column": 0}, "map": {"version":3,"sources":["file:///E:/qbb/github/blog-public/src/hooks/use-blog-index.ts"],"sourcesContent":["import useSWR from 'swr'\r\n\r\nexport type BlogIndexItem = {\r\n\tslug: string\r\n\ttitle: string\r\n\ttags: string[]\r\n\tdate: string\r\n\tsummary?: string\r\n\tcover?: string\r\n}\r\n\r\nconst fetcher = async (url: string) => {\r\n\tconst res = await fetch(url, { cache: 'no-store' })\r\n\tif (!res.ok) {\r\n\t\tthrow new Error('Failed to load blog index')\r\n\t}\r\n\tconst data = await res.json()\r\n\treturn Array.isArray(data) ? data : []\r\n}\r\n\r\nexport function useBlogIndex() {\r\n\tconst { data, error, isLoading } = useSWR<BlogIndexItem[]>('/blogs/index.json', fetcher, {\r\n\t\trevalidateOnFocus: false,\r\n\t\trevalidateOnReconnect: true\r\n\t})\r\n\r\n\treturn {\r\n\t\titems: data || [],\r\n\t\tloading: isLoading,\r\n\t\terror\r\n\t}\r\n}\r\n\r\nexport function useLatestBlog() {\r\n\tconst { items, loading, error } = useBlogIndex()\r\n\r\n\tconst latestBlog = items.length > 0 ? items.sort((a, b) => new Date(b.date).getTime() - new Date(a.date).getTime())[0] : null\r\n\r\n\treturn {\r\n\t\tblog: latestBlog,\r\n\t\tloading,\r\n\t\terror\r\n\t}\r\n}\r\n"],"names":[],"mappings":";;;;;;AAAA;;AAWA,MAAM,UAAU,OAAO;IACtB,MAAM,MAAM,MAAM,MAAM,KAAK;QAAE,OAAO;IAAW;IACjD,IAAI,CAAC,IAAI,EAAE,EAAE;QACZ,MAAM,IAAI,MAAM;IACjB;IACA,MAAM,OAAO,MAAM,IAAI,IAAI;IAC3B,OAAO,MAAM,OAAO,CAAC,QAAQ,OAAO,EAAE;AACvC;AAEO,SAAS;IACf,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,SAAS,EAAE,GAAG,IAAA,+OAAM,EAAkB,qBAAqB,SAAS;QACxF,mBAAmB;QACnB,uBAAuB;IACxB;IAEA,OAAO;QACN,OAAO,QAAQ,EAAE;QACjB,SAAS;QACT;IACD;AACD;AAEO,SAAS;IACf,MAAM,EAAE,KAAK,EAAE,OAAO,EAAE,KAAK,EAAE,GAAG;IAElC,MAAM,aAAa,MAAM,MAAM,GAAG,IAAI,MAAM,IAAI,CAAC,CAAC,GAAG,IAAM,IAAI,KAAK,EAAE,IAAI,EAAE,OAAO,KAAK,IAAI,KAAK,EAAE,IAAI,EAAE,OAAO,GAAG,CAAC,EAAE,GAAG;IAEzH,OAAO;QACN,MAAM;QACN;QACA;IACD;AACD","debugId":null}},
    {"offset": {"line": 1247, "column": 0}, "map": {"version":3,"sources":["file:///E:/qbb/github/blog-public/src/app/%28home%29/aritcle-card.tsx"],"sourcesContent":["import Card from '@/components/card'\r\nimport { useCenterStore } from '@/hooks/use-center'\r\nimport { useLatestBlog } from '@/hooks/use-blog-index'\r\nimport { useConfigStore } from './stores/config-store'\r\nimport { CARD_SPACING } from '@/consts'\r\nimport dayjs from 'dayjs'\r\nimport Link from 'next/link'\r\n\r\nexport default function ArticleCard() {\r\n\tconst center = useCenterStore()\r\n\tconst { cardStyles } = useConfigStore()\r\n\tconst { blog, loading } = useLatestBlog()\r\n\tconst styles = cardStyles.articleCard\r\n\tconst hiCardStyles = cardStyles.hiCard\r\n\tconst socialButtonsStyles = cardStyles.socialButtons\r\n\r\n\tconst x = styles.offsetX !== null ? center.x + styles.offsetX : center.x + hiCardStyles.width / 2 - socialButtonsStyles.width - CARD_SPACING - styles.width\r\n\tconst y = styles.offsetY !== null ? center.y + styles.offsetY : center.y + hiCardStyles.height / 2 + CARD_SPACING\r\n\r\n\treturn (\r\n\t\t<Card order={styles.order} width={styles.width} x={x} y={y} className='space-y-2 max-sm:static'>\r\n\t\t\t<h2 className='text-secondary text-sm'>最新文章</h2>\r\n\r\n\t\t\t{loading ? (\r\n\t\t\t\t<div className='flex h-[60px] items-center justify-center'>\r\n\t\t\t\t\t<span className='text-secondary text-xs'>加载中...</span>\r\n\t\t\t\t</div>\r\n\t\t\t) : blog ? (\r\n\t\t\t\t<Link href={`/blog/${blog.slug}`} className='flex transition-opacity hover:opacity-80'>\r\n\t\t\t\t\t{blog.cover ? (\r\n\t\t\t\t\t\t<img src={blog.cover} alt='cover' className='mr-3 h-12 w-12 shrink-0 rounded-xl border object-cover' />\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<div className='text-secondary mr-3 grid h-12 w-12 shrink-0 place-items-center rounded-xl bg-white/60'>+</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<div className='flex-1'>\r\n\t\t\t\t\t\t<h3 className='line-clamp-1 text-sm font-medium'>{blog.title || blog.slug}</h3>\r\n\t\t\t\t\t\t{blog.summary && <p className='text-secondary mt-1 line-clamp-3 text-xs'>{blog.summary}</p>}\r\n\t\t\t\t\t\t<p className='text-secondary mt-3 text-xs'>{dayjs(blog.date).format('YYYY/M/D')}</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Link>\r\n\t\t\t) : (\r\n\t\t\t\t<div className='flex h-[60px] items-center justify-center'>\r\n\t\t\t\t\t<span className='text-secondary text-xs'>暂无文章</span>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</Card>\r\n\t)\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;AAEe,SAAS;IACvB,MAAM,SAAS,IAAA,+IAAc;IAC7B,MAAM,EAAE,UAAU,EAAE,GAAG,IAAA,qKAAc;IACrC,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,GAAG,IAAA,qJAAa;IACvC,MAAM,SAAS,WAAW,WAAW;IACrC,MAAM,eAAe,WAAW,MAAM;IACtC,MAAM,sBAAsB,WAAW,aAAa;IAEpD,MAAM,IAAI,OAAO,OAAO,KAAK,OAAO,OAAO,CAAC,GAAG,OAAO,OAAO,GAAG,OAAO,CAAC,GAAG,aAAa,KAAK,GAAG,IAAI,oBAAoB,KAAK,GAAG,6HAAY,GAAG,OAAO,KAAK;IAC3J,MAAM,IAAI,OAAO,OAAO,KAAK,OAAO,OAAO,CAAC,GAAG,OAAO,OAAO,GAAG,OAAO,CAAC,GAAG,aAAa,MAAM,GAAG,IAAI,6HAAY;IAEjH,qBACC,6VAAC,qIAAI;QAAC,OAAO,OAAO,KAAK;QAAE,OAAO,OAAO,KAAK;QAAE,GAAG;QAAG,GAAG;QAAG,WAAU;;0BACrE,6VAAC;gBAAG,WAAU;0BAAyB;;;;;;YAEtC,wBACA,6VAAC;gBAAI,WAAU;0BACd,cAAA,6VAAC;oBAAK,WAAU;8BAAyB;;;;;;;;;;uBAEvC,qBACH,6VAAC,sRAAI;gBAAC,MAAM,CAAC,MAAM,EAAE,KAAK,IAAI,EAAE;gBAAE,WAAU;;oBAC1C,KAAK,KAAK,iBACV,6VAAC;wBAAI,KAAK,KAAK,KAAK;wBAAE,KAAI;wBAAQ,WAAU;;;;;6CAE5C,6VAAC;wBAAI,WAAU;kCAAwF;;;;;;kCAExG,6VAAC;wBAAI,WAAU;;0CACd,6VAAC;gCAAG,WAAU;0CAAoC,KAAK,KAAK,IAAI,KAAK,IAAI;;;;;;4BACxE,KAAK,OAAO,kBAAI,6VAAC;gCAAE,WAAU;0CAA4C,KAAK,OAAO;;;;;;0CACtF,6VAAC;gCAAE,WAAU;0CAA+B,IAAA,oMAAK,EAAC,KAAK,IAAI,EAAE,MAAM,CAAC;;;;;;;;;;;;;;;;;qCAItE,6VAAC;gBAAI,WAAU;0BACd,cAAA,6VAAC;oBAAK,WAAU;8BAAyB;;;;;;;;;;;;;;;;;AAK9C","debugId":null}},
    {"offset": {"line": 1389, "column": 0}, "map": {"version":3,"sources":["file:///E:/qbb/github/blog-public/src/svgs/pen.svg.js"],"sourcesContent":["var _path;\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport * as React from \"react\";\nvar SvgPen = function SvgPen(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 24,\n    height: 24,\n    fill: \"none\"\n  }, props), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#fff\",\n    d: \"M14.1 11.972c.096-1.814-.367-3.728-1.513-4.922-2.035-2.133-3.375-3.932-4.597-5.493-.444-.566-1.293-.759-2.094-.304-.801.457-1.044 1.266-.812 1.951.554 1.63 1.446 3.746 2.37 6.75.485 1.574 1.735 2.889 3.444 3.929zM9.783 5.373c.052.074.07.165.048.258a.395.395 0 0 1-.397.302.324.324 0 0 1-.262-.133L6.83 2.572c-.108-.152-.064-.374.103-.492a.4.4 0 0 1 .309-.064c.08.016.15.061.199.127zM11.573 15.162c.067.123.186.2.319.23s.281.009.412-.07l2.388-1.424c.267-.152.368-.472.23-.715-.14-.243-.466-.315-.733-.163l-2.388 1.43c-.266.15-.37.469-.228.712M6.634 23c-.234 0-.422-.356-.422-.799 0-.438.188-.798.422-.798h7.294c.231 0 .42.356.42.798s-.189.799-.42.799zM12.924 19.643c.849 1.45 3.823 1.008 5.067 3.14l.216-.125-1.9-3.257c-.448.07-.936-.158-1.202-.611-.33-.569-.185-1.27.331-1.562.514-.293 1.199-.07 1.532.5.274.468.218 1.021-.093 1.368l1.892 3.244.237-.135c-1.242-2.13.627-4.454-.22-5.907-.857-1.466-2.706-1.64-4.322-.716-1.62.923-2.407 2.571-1.538 4.06\"\n  })));\n};\nexport default SvgPen;"],"names":[],"mappings":";;;;AAEA;AAFA,IAAI;AACJ,SAAS;IAAa,OAAO,WAAW,uCAAgB,OAAO,MAAM,CAAC,IAAI,KAAK,yBAAmK,SAAS,KAAK,CAAC,MAAM;AAAY;;AAEnR,IAAI,SAAS,SAAS,OAAO,KAAK;IAChC,OAAO,WAAW,GAAE,qUAAmB,CAAC,OAAO,SAAS;QACtD,OAAO;QACP,OAAO;QACP,QAAQ;QACR,MAAM;IACR,GAAG,QAAQ,SAAS,CAAC,QAAQ,WAAW,GAAE,qUAAmB,CAAC,QAAQ;QACpE,MAAM;QACN,GAAG;IACL,EAAE;AACJ;uCACe","debugId":null}},
    {"offset": {"line": 1415, "column": 0}, "map": {"version":3,"sources":["file:///E:/qbb/github/blog-public/src/svgs/dots.svg.js"],"sourcesContent":["var _path;\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport * as React from \"react\";\nvar SvgDots = function SvgDots(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 32 32\"\n  }, props), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#fff\",\n    fillOpacity: 0.8,\n    d: \"M16 23.333a2 2 0 1 1 0 4.001 2 2 0 0 1 0-4m9.333 0a2 2 0 1 1 0 4.001 2 2 0 0 1 0-4m-18.666 0a2 2 0 1 1 0 4 2 2 0 0 1 0-4M16 14a2 2 0 1 1 0 4 2 2 0 0 1 0-4m9.333 0a2 2 0 1 1 0 4 2 2 0 0 1 0-4M6.667 14a2 2 0 1 1 0 4 2 2 0 0 1 0-4M16 4.667a2 2 0 1 1 0 4 2 2 0 0 1 0-4m9.333 0a2 2 0 1 1 0 4 2 2 0 0 1 0-4m-18.666 0a2 2 0 1 1 0 4 2 2 0 0 1 0-4\"\n  })));\n};\nexport default SvgDots;"],"names":[],"mappings":";;;;AAEA;AAFA,IAAI;AACJ,SAAS;IAAa,OAAO,WAAW,uCAAgB,OAAO,MAAM,CAAC,IAAI,KAAK,yBAAmK,SAAS,KAAK,CAAC,MAAM;AAAY;;AAEnR,IAAI,UAAU,SAAS,QAAQ,KAAK;IAClC,OAAO,WAAW,GAAE,qUAAmB,CAAC,OAAO,SAAS;QACtD,OAAO;QACP,MAAM;QACN,SAAS;IACX,GAAG,QAAQ,SAAS,CAAC,QAAQ,WAAW,GAAE,qUAAmB,CAAC,QAAQ;QACpE,MAAM;QACN,aAAa;QACb,GAAG;IACL,EAAE;AACJ;uCACe","debugId":null}},
    {"offset": {"line": 1441, "column": 0}, "map": {"version":3,"sources":["file:///E:/qbb/github/blog-public/src/components/dialog-modal.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useEffect, useState, type ReactNode } from 'react'\r\nimport { createPortal } from 'react-dom'\r\nimport { AnimatePresence, motion } from 'motion/react'\r\nimport { cn } from '@/lib/utils'\r\n\r\ninterface DialogModalProps {\r\n\topen: boolean\r\n\tonClose: () => void\r\n\tchildren: ReactNode\r\n\tclassName?: string\r\n\toverlayClassName?: string\r\n\tdisableCloseOnOverlay?: boolean\r\n\tlockScroll?: boolean\r\n\tcloseOnEsc?: boolean\r\n}\r\n\r\nexport function DialogModal({ open, onClose, children, className, disableCloseOnOverlay = false, lockScroll = true, closeOnEsc = true }: DialogModalProps) {\r\n\tconst [mounted, setMounted] = useState(false)\r\n\r\n\tuseEffect(() => {\r\n\t\tsetMounted(true)\r\n\t}, [])\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!lockScroll || !open) return\r\n\t\tconst previous = document.body.style.overflow\r\n\t\tdocument.body.style.overflow = 'hidden'\r\n\t\treturn () => {\r\n\t\t\tdocument.body.style.overflow = previous\r\n\t\t}\r\n\t}, [lockScroll, open])\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!closeOnEsc || !open) return\r\n\t\tconst handler = (event: KeyboardEvent) => {\r\n\t\t\tif (event.key === 'Escape') {\r\n\t\t\t\tonClose()\r\n\t\t\t}\r\n\t\t}\r\n\t\twindow.addEventListener('keydown', handler)\r\n\t\treturn () => {\r\n\t\t\twindow.removeEventListener('keydown', handler)\r\n\t\t}\r\n\t}, [closeOnEsc, onClose, open])\r\n\r\n\tif (!mounted) return null\r\n\r\n\treturn createPortal(\r\n\t\t<AnimatePresence>\r\n\t\t\t{open && (\r\n\t\t\t\t<motion.div\r\n\t\t\t\t\tinitial={{ opacity: 0 }}\r\n\t\t\t\t\tanimate={{ opacity: 1 }}\r\n\t\t\t\t\texit={{ opacity: 0 }}\r\n\t\t\t\t\tclassName={'fixed inset-0 z-50 flex items-center justify-center bg-card p-4 backdrop-blur-xl'}\r\n\t\t\t\t\tonClick={disableCloseOnOverlay ? undefined : onClose}>\r\n\t\t\t\t\t<motion.div\r\n\t\t\t\t\t\tinitial={{ opacity: 0, scale: 0.8, y: 20 }}\r\n\t\t\t\t\t\tanimate={{ opacity: 1, scale: 1, y: 0 }}\r\n\t\t\t\t\t\texit={{ opacity: 0, scale: 0.8, y: 20 }}\r\n\t\t\t\t\t\tclassName={cn('static', className)}\r\n\t\t\t\t\t\tonClick={e => e.stopPropagation()}>\r\n\t\t\t\t\t\t{children}\r\n\t\t\t\t\t</motion.div>\r\n\t\t\t\t</motion.div>\r\n\t\t\t)}\r\n\t\t</AnimatePresence>,\r\n\t\tdocument.body\r\n\t)\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AACA;AALA;;;;;;AAkBO,SAAS,YAAY,EAAE,IAAI,EAAE,OAAO,EAAE,QAAQ,EAAE,SAAS,EAAE,wBAAwB,KAAK,EAAE,aAAa,IAAI,EAAE,aAAa,IAAI,EAAoB;IACxJ,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,gUAAQ,EAAC;IAEvC,IAAA,iUAAS,EAAC;QACT,WAAW;IACZ,GAAG,EAAE;IAEL,IAAA,iUAAS,EAAC;QACT,IAAI,CAAC,cAAc,CAAC,MAAM;QAC1B,MAAM,WAAW,SAAS,IAAI,CAAC,KAAK,CAAC,QAAQ;QAC7C,SAAS,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG;QAC/B,OAAO;YACN,SAAS,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG;QAChC;IACD,GAAG;QAAC;QAAY;KAAK;IAErB,IAAA,iUAAS,EAAC;QACT,IAAI,CAAC,cAAc,CAAC,MAAM;QAC1B,MAAM,UAAU,CAAC;YAChB,IAAI,MAAM,GAAG,KAAK,UAAU;gBAC3B;YACD;QACD;QACA,OAAO,gBAAgB,CAAC,WAAW;QACnC,OAAO;YACN,OAAO,mBAAmB,CAAC,WAAW;QACvC;IACD,GAAG;QAAC;QAAY;QAAS;KAAK;IAE9B,IAAI,CAAC,SAAS,OAAO;IAErB,qBAAO,IAAA,2UAAY,gBAClB,6VAAC,kTAAe;kBACd,sBACA,6VAAC,0SAAM,CAAC,GAAG;YACV,SAAS;gBAAE,SAAS;YAAE;YACtB,SAAS;gBAAE,SAAS;YAAE;YACtB,MAAM;gBAAE,SAAS;YAAE;YACnB,WAAW;YACX,SAAS,wBAAwB,YAAY;sBAC7C,cAAA,6VAAC,0SAAM,CAAC,GAAG;gBACV,SAAS;oBAAE,SAAS;oBAAG,OAAO;oBAAK,GAAG;gBAAG;gBACzC,SAAS;oBAAE,SAAS;oBAAG,OAAO;oBAAG,GAAG;gBAAE;gBACtC,MAAM;oBAAE,SAAS;oBAAG,OAAO;oBAAK,GAAG;gBAAG;gBACtC,WAAW,IAAA,yHAAE,EAAC,UAAU;gBACxB,SAAS,CAAA,IAAK,EAAE,eAAe;0BAC9B;;;;;;;;;;;;;;;cAKL,SAAS,IAAI;AAEf","debugId":null}},
    {"offset": {"line": 1542, "column": 0}, "map": {"version":3,"sources":["file:///E:/qbb/github/blog-public/src/lib/github-client.ts"],"sourcesContent":["'use client'\r\n\r\nimport { useAuthStore } from '@/hooks/use-auth'\r\nimport { KJUR, KEYUTIL } from 'jsrsasign'\r\n\r\nexport const GH_API = 'https://api.github.com'\r\n\r\nfunction handle401Error(): void {\r\n\tif (typeof sessionStorage === 'undefined') return\r\n\ttry {\r\n\t\tuseAuthStore.getState().clearAuth()\r\n\t} catch (error) {\r\n\t\tconsole.error('Failed to clear auth cache:', error)\r\n\t}\r\n}\r\n\r\nexport function toBase64Utf8(input: string): string {\r\n\treturn btoa(unescape(encodeURIComponent(input)))\r\n}\r\n\r\nexport function signAppJwt(appId: string, privateKeyPem: string): string {\r\n\tconst now = Math.floor(Date.now() / 1000)\r\n\tconst header = { alg: 'RS256', typ: 'JWT' }\r\n\tconst payload = { iat: now - 60, exp: now + 8 * 60, iss: appId }\r\n\tconst prv = KEYUTIL.getKey(privateKeyPem) as unknown as string\r\n\treturn KJUR.jws.JWS.sign('RS256', JSON.stringify(header), JSON.stringify(payload), prv)\r\n}\r\n\r\nexport async function getInstallationId(jwt: string, owner: string, repo: string): Promise<number> {\r\n\tconst res = await fetch(`${GH_API}/repos/${owner}/${repo}/installation`, {\r\n\t\theaders: {\r\n\t\t\tAuthorization: `Bearer ${jwt}`,\r\n\t\t\tAccept: 'application/vnd.github+json',\r\n\t\t\t'X-GitHub-Api-Version': '2022-11-28'\r\n\t\t}\r\n\t})\r\n\tif (res.status === 401) handle401Error()\r\n\tif (!res.ok) throw new Error(`installation lookup failed: ${res.status}`)\r\n\tconst data = await res.json()\r\n\treturn data.id\r\n}\r\n\r\nexport async function createInstallationToken(jwt: string, installationId: number): Promise<string> {\r\n\tconst res = await fetch(`${GH_API}/app/installations/${installationId}/access_tokens`, {\r\n\t\tmethod: 'POST',\r\n\t\theaders: {\r\n\t\t\tAuthorization: `Bearer ${jwt}`,\r\n\t\t\tAccept: 'application/vnd.github+json',\r\n\t\t\t'X-GitHub-Api-Version': '2022-11-28'\r\n\t\t}\r\n\t})\r\n\tif (res.status === 401) handle401Error()\r\n\tif (!res.ok) throw new Error(`create token failed: ${res.status}`)\r\n\tconst data = await res.json()\r\n\treturn data.token as string\r\n}\r\n\r\nexport async function getFileSha(token: string, owner: string, repo: string, path: string, branch: string): Promise<string | undefined> {\r\n\tconst res = await fetch(`${GH_API}/repos/${owner}/${repo}/contents/${encodeURIComponent(path)}?ref=${encodeURIComponent(branch)}`, {\r\n\t\theaders: {\r\n\t\t\tAuthorization: `Bearer ${token}`,\r\n\t\t\tAccept: 'application/vnd.github+json',\r\n\t\t\t'X-GitHub-Api-Version': '2022-11-28'\r\n\t\t}\r\n\t})\r\n\tif (res.status === 401) handle401Error()\r\n\tif (res.status === 404) return undefined\r\n\tif (!res.ok) throw new Error(`get file sha failed: ${res.status}`)\r\n\tconst data = await res.json()\r\n\treturn (data && data.sha) || undefined\r\n}\r\n\r\nexport async function putFile(token: string, owner: string, repo: string, path: string, contentBase64: string, message: string, branch: string) {\r\n\tconst sha = await getFileSha(token, owner, repo, path, branch)\r\n\tconst res = await fetch(`${GH_API}/repos/${owner}/${repo}/contents/${encodeURIComponent(path)}`, {\r\n\t\tmethod: 'PUT',\r\n\t\theaders: {\r\n\t\t\tAuthorization: `Bearer ${token}`,\r\n\t\t\tAccept: 'application/vnd.github+json',\r\n\t\t\t'X-GitHub-Api-Version': '2022-11-28',\r\n\t\t\t'Content-Type': 'application/json'\r\n\t\t},\r\n\t\tbody: JSON.stringify({ message, content: contentBase64, branch, ...(sha ? { sha } : {}) })\r\n\t})\r\n\tif (res.status === 401) handle401Error()\r\n\tif (!res.ok) throw new Error(`put file failed: ${res.status}`)\r\n\treturn res.json()\r\n}\r\n\r\n// Batch commit APIs\r\n\r\nexport async function getRef(token: string, owner: string, repo: string, ref: string): Promise<{ sha: string }> {\r\n\tconst res = await fetch(`${GH_API}/repos/${owner}/${repo}/git/ref/${encodeURIComponent(ref)}`, {\r\n\t\theaders: {\r\n\t\t\tAuthorization: `Bearer ${token}`,\r\n\t\t\tAccept: 'application/vnd.github+json',\r\n\t\t\t'X-GitHub-Api-Version': '2022-11-28'\r\n\t\t}\r\n\t})\r\n\tif (res.status === 401) handle401Error()\r\n\tif (!res.ok) throw new Error(`get ref failed: ${res.status}`)\r\n\tconst data = await res.json()\r\n\treturn { sha: data.object.sha }\r\n}\r\n\r\nexport type TreeItem = {\r\n\tpath: string\r\n\tmode: '100644' | '100755' | '040000' | '160000' | '120000'\r\n\ttype: 'blob' | 'tree' | 'commit'\r\n\tcontent?: string\r\n\tsha?: string | null\r\n}\r\n\r\nexport async function createTree(token: string, owner: string, repo: string, tree: TreeItem[], baseTree?: string): Promise<{ sha: string }> {\r\n\tconst res = await fetch(`${GH_API}/repos/${owner}/${repo}/git/trees`, {\r\n\t\tmethod: 'POST',\r\n\t\theaders: {\r\n\t\t\tAuthorization: `Bearer ${token}`,\r\n\t\t\tAccept: 'application/vnd.github+json',\r\n\t\t\t'X-GitHub-Api-Version': '2022-11-28',\r\n\t\t\t'Content-Type': 'application/json'\r\n\t\t},\r\n\t\tbody: JSON.stringify({ tree, base_tree: baseTree })\r\n\t})\r\n\tif (res.status === 401) handle401Error()\r\n\tif (!res.ok) throw new Error(`create tree failed: ${res.status}`)\r\n\tconst data = await res.json()\r\n\treturn { sha: data.sha }\r\n}\r\n\r\nexport async function createCommit(token: string, owner: string, repo: string, message: string, tree: string, parents: string[]): Promise<{ sha: string }> {\r\n\tconst res = await fetch(`${GH_API}/repos/${owner}/${repo}/git/commits`, {\r\n\t\tmethod: 'POST',\r\n\t\theaders: {\r\n\t\t\tAuthorization: `Bearer ${token}`,\r\n\t\t\tAccept: 'application/vnd.github+json',\r\n\t\t\t'X-GitHub-Api-Version': '2022-11-28',\r\n\t\t\t'Content-Type': 'application/json'\r\n\t\t},\r\n\t\tbody: JSON.stringify({ message, tree, parents })\r\n\t})\r\n\tif (res.status === 401) handle401Error()\r\n\tif (!res.ok) throw new Error(`create commit failed: ${res.status}`)\r\n\tconst data = await res.json()\r\n\treturn { sha: data.sha }\r\n}\r\n\r\nexport async function updateRef(token: string, owner: string, repo: string, ref: string, sha: string, force = false): Promise<void> {\r\n\tconst res = await fetch(`${GH_API}/repos/${owner}/${repo}/git/refs/${encodeURIComponent(ref)}`, {\r\n\t\tmethod: 'PATCH',\r\n\t\theaders: {\r\n\t\t\tAuthorization: `Bearer ${token}`,\r\n\t\t\tAccept: 'application/vnd.github+json',\r\n\t\t\t'X-GitHub-Api-Version': '2022-11-28',\r\n\t\t\t'Content-Type': 'application/json'\r\n\t\t},\r\n\t\tbody: JSON.stringify({ sha, force })\r\n\t})\r\n\tif (res.status === 401) handle401Error()\r\n\tif (!res.ok) throw new Error(`update ref failed: ${res.status}`)\r\n}\r\n\r\nexport async function readTextFileFromRepo(token: string, owner: string, repo: string, path: string, ref: string): Promise<string | null> {\r\n\tconst res = await fetch(`${GH_API}/repos/${owner}/${repo}/contents/${encodeURIComponent(path)}?ref=${encodeURIComponent(ref)}`, {\r\n\t\theaders: {\r\n\t\t\tAuthorization: `Bearer ${token}`,\r\n\t\t\tAccept: 'application/vnd.github+json',\r\n\t\t\t'X-GitHub-Api-Version': '2022-11-28'\r\n\t\t}\r\n\t})\r\n\tif (res.status === 401) handle401Error()\r\n\tif (res.status === 404) return null\r\n\tif (!res.ok) throw new Error(`read file failed: ${res.status}`)\r\n\tconst data: any = await res.json()\r\n\tif (Array.isArray(data) || !data.content) return null\r\n\ttry {\r\n\t\treturn decodeURIComponent(escape(atob(data.content)))\r\n\t} catch {\r\n\t\treturn atob(data.content)\r\n\t}\r\n}\r\n\r\nexport async function listRepoFilesRecursive(token: string, owner: string, repo: string, path: string, ref: string): Promise<string[]> {\r\n\tasync function fetchPath(targetPath: string): Promise<string[]> {\r\n\t\tconst res = await fetch(`${GH_API}/repos/${owner}/${repo}/contents/${encodeURIComponent(targetPath)}?ref=${encodeURIComponent(ref)}`, {\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `Bearer ${token}`,\r\n\t\t\t\tAccept: 'application/vnd.github+json',\r\n\t\t\t\t'X-GitHub-Api-Version': '2022-11-28'\r\n\t\t\t}\r\n\t\t})\r\n\t\tif (res.status === 401) handle401Error()\r\n\t\tif (res.status === 404) return []\r\n\t\tif (!res.ok) throw new Error(`read directory failed: ${res.status}`)\r\n\t\tconst data: any = await res.json()\r\n\t\tif (Array.isArray(data)) {\r\n\t\t\tconst files: string[] = []\r\n\t\t\tfor (const item of data) {\r\n\t\t\t\tif (item.type === 'file') {\r\n\t\t\t\t\tfiles.push(item.path)\r\n\t\t\t\t} else if (item.type === 'dir') {\r\n\t\t\t\t\tconst nested = await fetchPath(item.path)\r\n\t\t\t\t\tfiles.push(...nested)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn files\r\n\t\t}\r\n\t\tif (data?.type === 'file') return [data.path]\r\n\t\tif (data?.type === 'dir') return fetchPath(data.path)\r\n\t\treturn []\r\n\t}\r\n\r\n\treturn fetchPath(path)\r\n}\r\n\r\nexport async function createBlob(\r\n\ttoken: string,\r\n\towner: string,\r\n\trepo: string,\r\n\tcontent: string,\r\n\tencoding: 'utf-8' | 'base64' = 'base64'\r\n): Promise<{ sha: string }> {\r\n\tconst res = await fetch(`${GH_API}/repos/${owner}/${repo}/git/blobs`, {\r\n\t\tmethod: 'POST',\r\n\t\theaders: {\r\n\t\t\tAuthorization: `Bearer ${token}`,\r\n\t\t\tAccept: 'application/vnd.github+json',\r\n\t\t\t'X-GitHub-Api-Version': '2022-11-28',\r\n\t\t\t'Content-Type': 'application/json'\r\n\t\t},\r\n\t\tbody: JSON.stringify({ content, encoding })\r\n\t})\r\n\tif (res.status === 401) handle401Error()\r\n\tif (!res.ok) throw new Error(`create blob failed: ${res.status}`)\r\n\tconst data = await res.json()\r\n\treturn { sha: data.sha }\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1819, "column": 0}, "map": {"version":3,"sources":["file:///E:/qbb/github/blog-public/src/lib/auth.ts"],"sourcesContent":["import { createInstallationToken, getInstallationId, signAppJwt } from './github-client'\r\nimport { GITHUB_CONFIG } from '@/consts'\r\nimport { useAuthStore } from '@/hooks/use-auth'\r\nimport { toast } from 'sonner'\r\n\r\nconst GITHUB_TOKEN_CACHE_KEY = 'github_token'\r\n\r\nfunction getTokenFromCache(): string | null {\r\n\tif (typeof sessionStorage === 'undefined') return null\r\n\ttry {\r\n\t\treturn sessionStorage.getItem(GITHUB_TOKEN_CACHE_KEY)\r\n\t} catch {\r\n\t\treturn null\r\n\t}\r\n}\r\n\r\nfunction saveTokenToCache(token: string): void {\r\n\tif (typeof sessionStorage === 'undefined') return\r\n\ttry {\r\n\t\tsessionStorage.setItem(GITHUB_TOKEN_CACHE_KEY, token)\r\n\t} catch (error) {\r\n\t\tconsole.error('Failed to save token to cache:', error)\r\n\t}\r\n}\r\n\r\nfunction clearTokenCache(): void {\r\n\tif (typeof sessionStorage === 'undefined') return\r\n\ttry {\r\n\t\tsessionStorage.removeItem(GITHUB_TOKEN_CACHE_KEY)\r\n\t} catch (error) {\r\n\t\tconsole.error('Failed to clear token cache:', error)\r\n\t}\r\n}\r\n\r\nexport function clearAllAuthCache(): void {\r\n\tclearTokenCache()\r\n}\r\n\r\nexport function hasAuth(): boolean {\r\n\treturn !!getTokenFromCache()\r\n}\r\n\r\n/**\r\n * 统一的认证 Token 获取\r\n * 自动处理缓存、签发等逻辑\r\n * @returns GitHub Installation Token\r\n */\r\nexport async function getAuthToken(): Promise<string> {\r\n\t// 1. 先尝试从缓存获取 token\r\n\tconst cachedToken = getTokenFromCache()\r\n\tif (cachedToken) {\r\n\t\ttoast.info('使用缓存的令牌...')\r\n\t\treturn cachedToken\r\n\t}\r\n\r\n\t// 2. 获取私钥（从缓存）\r\n\tconst privateKey = useAuthStore.getState().privateKey\r\n\tif (!privateKey) {\r\n\t\tthrow new Error('需要先设置私钥。请使用 useAuth().setPrivateKey()')\r\n\t}\r\n\r\n\ttoast.info('正在签发 JWT...')\r\n\tconst jwt = signAppJwt(GITHUB_CONFIG.APP_ID, privateKey)\r\n\r\n\ttoast.info('正在获取安装信息...')\r\n\tconst installationId = await getInstallationId(jwt, GITHUB_CONFIG.OWNER, GITHUB_CONFIG.REPO)\r\n\r\n\ttoast.info('正在创建安装令牌...')\r\n\tconst token = await createInstallationToken(jwt, installationId)\r\n\r\n\tsaveTokenToCache(token)\r\n\r\n\treturn token\r\n}\r\n"],"names":[],"mappings":";;;;;;;;AAAA;AACA;AACA;AACA;;;;;AAEA,MAAM,yBAAyB;AAE/B,SAAS;IACR,IAAI,OAAO,mBAAmB,aAAa,OAAO;IAClD,IAAI;QACH,OAAO,eAAe,OAAO,CAAC;IAC/B,EAAE,OAAM;QACP,OAAO;IACR;AACD;AAEA,SAAS,iBAAiB,KAAa;IACtC,IAAI,OAAO,mBAAmB,aAAa;IAC3C,IAAI;QACH,eAAe,OAAO,CAAC,wBAAwB;IAChD,EAAE,OAAO,OAAO;QACf,QAAQ,KAAK,CAAC,kCAAkC;IACjD;AACD;AAEA,SAAS;IACR,IAAI,OAAO,mBAAmB,aAAa;IAC3C,IAAI;QACH,eAAe,UAAU,CAAC;IAC3B,EAAE,OAAO,OAAO;QACf,QAAQ,KAAK,CAAC,gCAAgC;IAC/C;AACD;AAEO,SAAS;IACf;AACD;AAEO,SAAS;IACf,OAAO,CAAC,CAAC;AACV;AAOO,eAAe;IACrB,oBAAoB;IACpB,MAAM,cAAc;IACpB,IAAI,aAAa;QAChB,iRAAK,CAAC,IAAI,CAAC;QACX,OAAO;IACR;IAEA,eAAe;IACf,MAAM,aAAa,2IAAY,CAAC,QAAQ,GAAG,UAAU;IACrD,IAAI,CAAC,YAAY;QAChB,MAAM,IAAI,MAAM;IACjB;IAEA,iRAAK,CAAC,IAAI,CAAC;IACX,MAAM,MAAM,IAAA,4IAAU,EAAC,8HAAa,CAAC,MAAM,EAAE;IAE7C,iRAAK,CAAC,IAAI,CAAC;IACX,MAAM,iBAAiB,MAAM,IAAA,mJAAiB,EAAC,KAAK,8HAAa,CAAC,KAAK,EAAE,8HAAa,CAAC,IAAI;IAE3F,iRAAK,CAAC,IAAI,CAAC;IACX,MAAM,QAAQ,MAAM,IAAA,yJAAuB,EAAC,KAAK;IAEjD,iBAAiB;IAEjB,OAAO;AACR","debugId":null}},
    {"offset": {"line": 1891, "column": 0}, "map": {"version":3,"sources":["file:///E:/qbb/github/blog-public/src/hooks/use-auth.ts"],"sourcesContent":["import { create } from 'zustand'\r\nimport { clearAllAuthCache, getAuthToken as getToken, hasAuth as checkAuth } from '@/lib/auth'\r\n\r\ninterface AuthStore {\r\n\t// State\r\n\tisAuth: boolean\r\n\tprivateKey: string | null\r\n\r\n\t// Actions\r\n\tsetPrivateKey: (key: string) => void\r\n\tclearAuth: () => void\r\n\trefreshAuthState: () => void\r\n\tgetAuthToken: () => Promise<string>\r\n}\r\n\r\nexport const useAuthStore = create<AuthStore>((set, get) => ({\r\n\tisAuth: checkAuth(),\r\n\tprivateKey: null,\r\n\r\n\tsetPrivateKey: (key: string) => {\r\n\t\tset({ isAuth: true, privateKey: key })\r\n\t},\r\n\r\n\tclearAuth: () => {\r\n\t\tclearAllAuthCache()\r\n\t\tset({ isAuth: false })\r\n\t},\r\n\r\n\trefreshAuthState: () => {\r\n\t\tset({ isAuth: checkAuth() })\r\n\t},\r\n\r\n\tgetAuthToken: async () => {\r\n\t\tconst token = await getToken()\r\n\t\tget().refreshAuthState()\r\n\t\treturn token\r\n\t}\r\n}))\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAcO,MAAM,eAAe,IAAA,8PAAM,EAAY,CAAC,KAAK,MAAQ,CAAC;QAC5D,QAAQ,IAAA,6HAAS;QACjB,YAAY;QAEZ,eAAe,CAAC;YACf,IAAI;gBAAE,QAAQ;gBAAM,YAAY;YAAI;QACrC;QAEA,WAAW;YACV,IAAA,uIAAiB;YACjB,IAAI;gBAAE,QAAQ;YAAM;QACrB;QAEA,kBAAkB;YACjB,IAAI;gBAAE,QAAQ,IAAA,6HAAS;YAAG;QAC3B;QAEA,cAAc;YACb,MAAM,QAAQ,MAAM,IAAA,kIAAQ;YAC5B,MAAM,gBAAgB;YACtB,OAAO;QACR;IACD,CAAC","debugId":null}},
    {"offset": {"line": 1929, "column": 0}, "map": {"version":3,"sources":["file:///E:/qbb/github/blog-public/src/lib/file-utils.ts"],"sourcesContent":["'use client'\r\n\r\nexport function readFileAsText(file: File): Promise<string> {\r\n\treturn new Promise((resolve, reject) => {\r\n\t\tconst reader = new FileReader()\r\n\t\treader.onload = () => resolve(String(reader.result || ''))\r\n\t\treader.onerror = reject\r\n\t\treader.readAsText(file)\r\n\t})\r\n}\r\n\r\nexport function fileToBase64NoPrefix(file: File): Promise<string> {\r\n\treturn new Promise((resolve, reject) => {\r\n\t\tconst reader = new FileReader()\r\n\t\treader.onload = () => {\r\n\t\t\tconst dataUrl = String(reader.result || '')\r\n\t\t\tresolve(dataUrl.replace(/^data:[^;]+;base64,/, ''))\r\n\t\t}\r\n\t\treader.onerror = reject\r\n\t\treader.readAsDataURL(file)\r\n\t})\r\n}\r\n\r\nexport async function hashFileSHA256(file: File): Promise<string> {\r\n\tconst buf = await file.arrayBuffer()\r\n\tconst digest = await crypto.subtle.digest('SHA-256', buf)\r\n\tconst bytes = new Uint8Array(digest)\r\n\tlet hex = ''\r\n\tfor (let i = 0; i < bytes.length; i++) {\r\n\t\tconst h = bytes[i].toString(16).padStart(2, '0')\r\n\t\thex += h\r\n\t}\r\n\treturn hex.slice(0, 16)\r\n}\r\n"],"names":[],"mappings":";;;;;;;;AAAA;AAEO,SAAS,eAAe,IAAU;IACxC,OAAO,IAAI,QAAQ,CAAC,SAAS;QAC5B,MAAM,SAAS,IAAI;QACnB,OAAO,MAAM,GAAG,IAAM,QAAQ,OAAO,OAAO,MAAM,IAAI;QACtD,OAAO,OAAO,GAAG;QACjB,OAAO,UAAU,CAAC;IACnB;AACD;AAEO,SAAS,qBAAqB,IAAU;IAC9C,OAAO,IAAI,QAAQ,CAAC,SAAS;QAC5B,MAAM,SAAS,IAAI;QACnB,OAAO,MAAM,GAAG;YACf,MAAM,UAAU,OAAO,OAAO,MAAM,IAAI;YACxC,QAAQ,QAAQ,OAAO,CAAC,uBAAuB;QAChD;QACA,OAAO,OAAO,GAAG;QACjB,OAAO,aAAa,CAAC;IACtB;AACD;AAEO,eAAe,eAAe,IAAU;IAC9C,MAAM,MAAM,MAAM,KAAK,WAAW;IAClC,MAAM,SAAS,MAAM,OAAO,MAAM,CAAC,MAAM,CAAC,WAAW;IACrD,MAAM,QAAQ,IAAI,WAAW;IAC7B,IAAI,MAAM;IACV,IAAK,IAAI,IAAI,GAAG,IAAI,MAAM,MAAM,EAAE,IAAK;QACtC,MAAM,IAAI,KAAK,CAAC,EAAE,CAAC,QAAQ,CAAC,IAAI,QAAQ,CAAC,GAAG;QAC5C,OAAO;IACR;IACA,OAAO,IAAI,KAAK,CAAC,GAAG;AACrB","debugId":null}},
    {"offset": {"line": 1972, "column": 0}, "map": {"version":3,"sources":["file:///E:/qbb/github/blog-public/src/app/%28home%29/services/push-site-content.ts"],"sourcesContent":["import { toBase64Utf8, getRef, createTree, createCommit, updateRef, createBlob, type TreeItem } from '@/lib/github-client'\r\nimport { getAuthToken } from '@/lib/auth'\r\nimport { GITHUB_CONFIG } from '@/consts'\r\nimport { toast } from 'sonner'\r\nimport { fileToBase64NoPrefix } from '@/lib/file-utils'\r\nimport type { SiteContent, CardStyles } from '../stores/config-store'\r\nimport type { FileItem, ArtImageUploads } from '../config-dialog/site-settings'\r\n\r\ntype ArtImageConfig = SiteContent['artImages'][number]\r\n\r\nexport async function pushSiteContent(\r\n\tsiteContent: SiteContent,\r\n\tcardStyles: CardStyles,\r\n\tfaviconItem?: FileItem | null,\r\n\tavatarItem?: FileItem | null,\r\n\tartImageUploads?: ArtImageUploads,\r\n\tremovedArtImages?: ArtImageConfig[]\r\n): Promise<void> {\r\n\tconst token = await getAuthToken()\r\n\r\n\ttoast.info('正在获取分支信息...')\r\n\tconst refData = await getRef(token, GITHUB_CONFIG.OWNER, GITHUB_CONFIG.REPO, `heads/${GITHUB_CONFIG.BRANCH}`)\r\n\tconst latestCommitSha = refData.sha\r\n\r\n\tconst commitMessage = `更新站点配置`\r\n\r\n\ttoast.info('正在准备文件...')\r\n\r\n\tconst treeItems: TreeItem[] = []\r\n\r\n\t// Handle favicon upload\r\n\tif (faviconItem?.type === 'file') {\r\n\t\ttoast.info('正在上传 Favicon...')\r\n\t\tconst contentBase64 = await fileToBase64NoPrefix(faviconItem.file)\r\n\t\tconst blobData = await createBlob(token, GITHUB_CONFIG.OWNER, GITHUB_CONFIG.REPO, contentBase64, 'base64')\r\n\t\ttreeItems.push({\r\n\t\t\tpath: 'public/favicon.png',\r\n\t\t\tmode: '100644',\r\n\t\t\ttype: 'blob',\r\n\t\t\tsha: blobData.sha\r\n\t\t})\r\n\t}\r\n\r\n\t// Handle avatar upload\r\n\tif (avatarItem?.type === 'file') {\r\n\t\ttoast.info('正在上传 Avatar...')\r\n\t\tconst contentBase64 = await fileToBase64NoPrefix(avatarItem.file)\r\n\t\tconst blobData = await createBlob(token, GITHUB_CONFIG.OWNER, GITHUB_CONFIG.REPO, contentBase64, 'base64')\r\n\t\ttreeItems.push({\r\n\t\t\tpath: 'public/images/avatar.png',\r\n\t\t\tmode: '100644',\r\n\t\t\ttype: 'blob',\r\n\t\t\tsha: blobData.sha\r\n\t\t})\r\n\t}\r\n\r\n\t// Handle art images upload\r\n\tif (artImageUploads) {\r\n\t\tfor (const [id, item] of Object.entries(artImageUploads)) {\r\n\t\t\tif (item.type !== 'file') continue\r\n\r\n\t\t\tconst artConfig = siteContent.artImages?.find(art => art.id === id)\r\n\t\t\tif (!artConfig) continue\r\n\r\n\t\t\t// Ensure blob is saved under public directory while keeping URL as /images/...\r\n\t\t\tconst normalizedUrlPath = artConfig.url.startsWith('/') ? artConfig.url : `/${artConfig.url}`\r\n\t\t\tconst path = `public${normalizedUrlPath}`\r\n\t\t\tif (!path) continue\r\n\r\n\t\t\ttoast.info(`正在上传 Art 图片 ${id}...`)\r\n\t\t\tconst contentBase64 = await fileToBase64NoPrefix(item.file)\r\n\t\t\tconst blobData = await createBlob(token, GITHUB_CONFIG.OWNER, GITHUB_CONFIG.REPO, contentBase64, 'base64')\r\n\t\t\ttreeItems.push({\r\n\t\t\t\tpath,\r\n\t\t\t\tmode: '100644',\r\n\t\t\t\ttype: 'blob',\r\n\t\t\t\tsha: blobData.sha\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\t// Handle art images deletion\r\n\tif (removedArtImages && removedArtImages.length > 0) {\r\n\t\tfor (const art of removedArtImages) {\r\n\t\t\tconst normalizedUrlPath = art.url.startsWith('/') ? art.url : `/${art.url}`\r\n\t\t\tconst path = `public${normalizedUrlPath}`\r\n\t\t\ttreeItems.push({\r\n\t\t\t\tpath,\r\n\t\t\t\tmode: '100644',\r\n\t\t\t\ttype: 'blob',\r\n\t\t\t\tsha: null\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\t// Handle site content JSON\r\n\tconst siteContentJson = JSON.stringify(siteContent, null, '\\t')\r\n\tconst siteContentBlob = await createBlob(token, GITHUB_CONFIG.OWNER, GITHUB_CONFIG.REPO, toBase64Utf8(siteContentJson), 'base64')\r\n\ttreeItems.push({\r\n\t\tpath: 'src/config/site-content.json',\r\n\t\tmode: '100644',\r\n\t\ttype: 'blob',\r\n\t\tsha: siteContentBlob.sha\r\n\t})\r\n\r\n\t// Handle card styles JSON\r\n\tconst cardStylesJson = JSON.stringify(cardStyles, null, '\\t')\r\n\tconst cardStylesBlob = await createBlob(token, GITHUB_CONFIG.OWNER, GITHUB_CONFIG.REPO, toBase64Utf8(cardStylesJson), 'base64')\r\n\ttreeItems.push({\r\n\t\tpath: 'src/config/card-styles.json',\r\n\t\tmode: '100644',\r\n\t\ttype: 'blob',\r\n\t\tsha: cardStylesBlob.sha\r\n\t})\r\n\r\n\ttoast.info('正在创建文件树...')\r\n\tconst treeData = await createTree(token, GITHUB_CONFIG.OWNER, GITHUB_CONFIG.REPO, treeItems, latestCommitSha)\r\n\r\n\ttoast.info('正在创建提交...')\r\n\tconst commitData = await createCommit(token, GITHUB_CONFIG.OWNER, GITHUB_CONFIG.REPO, commitMessage, treeData.sha, [latestCommitSha])\r\n\r\n\ttoast.info('正在更新分支...')\r\n\tawait updateRef(token, GITHUB_CONFIG.OWNER, GITHUB_CONFIG.REPO, `heads/${GITHUB_CONFIG.BRANCH}`, commitData.sha)\r\n\r\n\ttoast.success('保存成功！')\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2084, "column": 0}, "map": {"version":3,"sources":["file:///E:/qbb/github/blog-public/src/app/%28home%29/config-dialog/site-settings.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useRef } from 'react'\r\nimport { motion } from 'motion/react'\r\nimport { toast } from 'sonner'\r\nimport { hashFileSHA256 } from '@/lib/file-utils'\r\nimport type { SiteContent } from '../stores/config-store'\r\n\r\nexport type FileItem = { type: 'file'; file: File; previewUrl: string; hash?: string } | { type: 'url'; url: string }\r\nexport type ArtImageUploads = Record<string, FileItem>\r\n\r\ninterface SiteSettingsProps {\r\n\tformData: SiteContent\r\n\tsetFormData: React.Dispatch<React.SetStateAction<SiteContent>>\r\n\tfaviconItem: FileItem | null\r\n\tsetFaviconItem: React.Dispatch<React.SetStateAction<FileItem | null>>\r\n\tavatarItem: FileItem | null\r\n\tsetAvatarItem: React.Dispatch<React.SetStateAction<FileItem | null>>\r\n\tartImageUploads: ArtImageUploads\r\n\tsetArtImageUploads: React.Dispatch<React.SetStateAction<ArtImageUploads>>\r\n}\r\n\r\nexport function SiteSettings({\r\n\tformData,\r\n\tsetFormData,\r\n\tfaviconItem,\r\n\tsetFaviconItem,\r\n\tavatarItem,\r\n\tsetAvatarItem,\r\n\tartImageUploads,\r\n\tsetArtImageUploads\r\n}: SiteSettingsProps) {\r\n\tconst faviconInputRef = useRef<HTMLInputElement>(null)\r\n\tconst avatarInputRef = useRef<HTMLInputElement>(null)\r\n\tconst artInputRef = useRef<HTMLInputElement>(null)\r\n\r\n\tconst handleFaviconFileSelect = async (e: React.ChangeEvent<HTMLInputElement>) => {\r\n\t\tconst file = e.target.files?.[0]\r\n\t\tif (!file) return\r\n\r\n\t\tif (!file.type.startsWith('image/')) {\r\n\t\t\ttoast.error('请选择图片文件')\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tconst hash = await hashFileSHA256(file)\r\n\t\tconst previewUrl = URL.createObjectURL(file)\r\n\t\tsetFaviconItem({ type: 'file', file, previewUrl, hash })\r\n\t\tif (e.currentTarget) e.currentTarget.value = ''\r\n\t}\r\n\r\n\tconst handleAvatarFileSelect = async (e: React.ChangeEvent<HTMLInputElement>) => {\r\n\t\tconst file = e.target.files?.[0]\r\n\t\tif (!file) return\r\n\r\n\t\tif (!file.type.startsWith('image/')) {\r\n\t\t\ttoast.error('请选择图片文件')\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tconst hash = await hashFileSHA256(file)\r\n\t\tconst previewUrl = URL.createObjectURL(file)\r\n\t\tsetAvatarItem({ type: 'file', file, previewUrl, hash })\r\n\t\tif (e.currentTarget) e.currentTarget.value = ''\r\n\t}\r\n\r\n\tconst handleRemoveFavicon = () => {\r\n\t\tif (faviconItem?.type === 'file') {\r\n\t\t\tURL.revokeObjectURL(faviconItem.previewUrl)\r\n\t\t}\r\n\t\tsetFaviconItem(null)\r\n\t}\r\n\r\n\tconst handleRemoveAvatar = () => {\r\n\t\tif (avatarItem?.type === 'file') {\r\n\t\t\tURL.revokeObjectURL(avatarItem.previewUrl)\r\n\t\t}\r\n\t\tsetAvatarItem(null)\r\n\t}\r\n\r\n\tconst handleArtFilesSelect = async (e: React.ChangeEvent<HTMLInputElement>) => {\r\n\t\tconst files = Array.from(e.target.files || [])\r\n\t\tif (!files.length) return\r\n\r\n\t\tfor (const file of files) {\r\n\t\t\tif (!file.type.startsWith('image/')) {\r\n\t\t\t\ttoast.error('请选择图片文件')\r\n\t\t\t\tcontinue\r\n\t\t\t}\r\n\r\n\t\t\tconst hash = await hashFileSHA256(file)\r\n\t\t\tconst ext = file.name.split('.').pop() || 'png'\r\n\t\t\tconst id = hash\r\n\t\t\tconst targetPath = `/images/art/${id}.${ext}`\r\n\t\t\tconst previewUrl = URL.createObjectURL(file)\r\n\r\n\t\t\tsetArtImageUploads(prev => ({\r\n\t\t\t\t...prev,\r\n\t\t\t\t[id]: { type: 'file', file, previewUrl, hash }\r\n\t\t\t}))\r\n\r\n\t\t\tsetFormData(prev => {\r\n\t\t\t\tconst existing = prev.artImages ?? []\r\n\t\t\t\tconst filtered = existing.filter(item => item.id !== id)\r\n\t\t\t\tconst artImages = [...filtered, { id, url: targetPath }]\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...prev,\r\n\t\t\t\t\tartImages,\r\n\t\t\t\t\tcurrentArtImageId: prev.currentArtImageId || id\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\tif (e.currentTarget) e.currentTarget.value = ''\r\n\t}\r\n\r\n\tconst handleSetCurrentArtImage = (id: string) => {\r\n\t\tsetFormData(prev => ({\r\n\t\t\t...prev,\r\n\t\t\tcurrentArtImageId: id\r\n\t\t}))\r\n\t}\r\n\r\n\tconst handleRemoveArtImage = (id: string) => {\r\n\t\tconst uploadItem = artImageUploads[id]\r\n\t\tif (uploadItem?.type === 'file') {\r\n\t\t\tURL.revokeObjectURL(uploadItem.previewUrl)\r\n\t\t}\r\n\r\n\t\tsetArtImageUploads(prev => {\r\n\t\t\tconst next = { ...prev }\r\n\t\t\tdelete next[id]\r\n\t\t\treturn next\r\n\t\t})\r\n\r\n\t\tsetFormData(prev => {\r\n\t\t\tconst existing = prev.artImages ?? []\r\n\t\t\tconst artImages = existing.filter(item => item.id !== id)\r\n\t\t\tconst isCurrent = prev.currentArtImageId === id\r\n\t\t\treturn {\r\n\t\t\t\t...prev,\r\n\t\t\t\tartImages,\r\n\t\t\t\tcurrentArtImageId: isCurrent ? artImages[0]?.id || '' : prev.currentArtImageId\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className='space-y-6'>\r\n\t\t\t<div className='grid grid-cols-2 gap-4'>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<label className='mb-2 block text-sm font-medium'>Favicon</label>\r\n\t\t\t\t\t<input ref={faviconInputRef} type='file' accept='image/*' className='hidden' onChange={handleFaviconFileSelect} />\r\n\t\t\t\t\t<div className='group relative h-20 w-20 cursor-pointer overflow-hidden rounded-lg border bg-white/60'>\r\n\t\t\t\t\t\t{faviconItem?.type === 'file' ? (\r\n\t\t\t\t\t\t\t<img src={faviconItem.previewUrl} alt='favicon preview' className='h-full w-full object-cover' />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<img src='/favicon.png' alt='current favicon' className='h-full w-full object-cover' />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<div className='pointer-events-none absolute inset-0 flex items-center justify-center rounded-lg bg-black/40 opacity-0 transition-opacity group-hover:opacity-100'>\r\n\t\t\t\t\t\t\t<span className='text-xs text-white'>{faviconItem ? '更换' : '上传'}</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{faviconItem && (\r\n\t\t\t\t\t\t\t<div className='absolute top-1 right-1 hidden group-hover:block'>\r\n\t\t\t\t\t\t\t\t<motion.button\r\n\t\t\t\t\t\t\t\t\twhileHover={{ scale: 1.05 }}\r\n\t\t\t\t\t\t\t\t\twhileTap={{ scale: 0.95 }}\r\n\t\t\t\t\t\t\t\t\tonClick={e => {\r\n\t\t\t\t\t\t\t\t\t\te.stopPropagation()\r\n\t\t\t\t\t\t\t\t\t\thandleRemoveFavicon()\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tclassName='rounded-md bg-white/90 px-2 py-1 text-xs text-red-500 shadow hover:bg-white'>\r\n\t\t\t\t\t\t\t\t\t清除\r\n\t\t\t\t\t\t\t\t</motion.button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<div className='absolute inset-0' onClick={() => faviconInputRef.current?.click()} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<label className='mb-2 block text-sm font-medium'>Avatar</label>\r\n\t\t\t\t\t<input ref={avatarInputRef} type='file' accept='image/*' className='hidden' onChange={handleAvatarFileSelect} />\r\n\t\t\t\t\t<div className='group relative h-20 w-20 cursor-pointer overflow-hidden rounded-full border bg-white/60'>\r\n\t\t\t\t\t\t{avatarItem?.type === 'file' ? (\r\n\t\t\t\t\t\t\t<img src={avatarItem.previewUrl} alt='avatar preview' className='h-full w-full object-cover' />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<img src='/images/avatar.png' alt='current avatar' className='h-full w-full object-cover' />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<div className='pointer-events-none absolute inset-0 flex items-center justify-center rounded-full bg-black/40 opacity-0 transition-opacity group-hover:opacity-100'>\r\n\t\t\t\t\t\t\t<span className='text-xs text-white'>{avatarItem ? '更换' : '上传'}</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{avatarItem && (\r\n\t\t\t\t\t\t\t<div className='absolute top-1 right-1 hidden group-hover:block'>\r\n\t\t\t\t\t\t\t\t<motion.button\r\n\t\t\t\t\t\t\t\t\twhileHover={{ scale: 1.05 }}\r\n\t\t\t\t\t\t\t\t\twhileTap={{ scale: 0.95 }}\r\n\t\t\t\t\t\t\t\t\tonClick={e => {\r\n\t\t\t\t\t\t\t\t\t\te.stopPropagation()\r\n\t\t\t\t\t\t\t\t\t\thandleRemoveAvatar()\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tclassName='rounded-md bg-white/90 px-2 py-1 text-xs text-red-500 shadow hover:bg-white'>\r\n\t\t\t\t\t\t\t\t\t清除\r\n\t\t\t\t\t\t\t\t</motion.button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<div className='absolute inset-0' onClick={() => avatarInputRef.current?.click()} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div>\r\n\t\t\t\t<label className='mb-2 block text-sm font-medium'>站点标题</label>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\tvalue={formData.meta.title}\r\n\t\t\t\t\tonChange={e => setFormData({ ...formData, meta: { ...formData.meta, title: e.target.value } })}\r\n\t\t\t\t\tclassName='bg-secondary/10 w-full rounded-lg border px-4 py-2 text-sm'\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div>\r\n\t\t\t\t<label className='mb-2 block text-sm font-medium'>站点描述</label>\r\n\t\t\t\t<textarea\r\n\t\t\t\t\tvalue={formData.meta.description}\r\n\t\t\t\t\tonChange={e => setFormData({ ...formData, meta: { ...formData.meta, description: e.target.value } })}\r\n\t\t\t\t\trows={3}\r\n\t\t\t\t\tclassName='bg-secondary/10 w-full rounded-lg border px-4 py-2 text-sm'\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div>\r\n\t\t\t\t<label className='mb-2 block text-sm font-medium'>首页图片</label>\r\n\t\t\t\t<input ref={artInputRef} type='file' accept='image/*' multiple className='hidden' onChange={handleArtFilesSelect} />\r\n\t\t\t\t{(formData.artImages?.length ?? 0) === 0 && <p className='mb-2 text-xs text-gray-500'>暂未配置 Art 图片，点击下方「+」添加。</p>}\r\n\t\t\t\t<div className='grid grid-cols-4 gap-3 max-sm:grid-cols-3'>\r\n\t\t\t\t\t{formData.artImages?.map(item => {\r\n\t\t\t\t\t\tconst isActive = formData.currentArtImageId === item.id\r\n\t\t\t\t\t\tconst uploadItem = artImageUploads[item.id]\r\n\t\t\t\t\t\tconst src = uploadItem?.type === 'file' ? uploadItem.previewUrl : item.url\r\n\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<div key={item.id} className='group relative'>\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\ttype='button'\r\n\t\t\t\t\t\t\t\t\tonClick={() => handleSetCurrentArtImage(item.id)}\r\n\t\t\t\t\t\t\t\t\tclassName={`block w-full overflow-hidden rounded-xl border bg-white/60 transition-all ${\r\n\t\t\t\t\t\t\t\t\t\tisActive ? 'ring-brand shadow-md ring-2' : 'hover:border-brand/60'\r\n\t\t\t\t\t\t\t\t\t}`}>\r\n\t\t\t\t\t\t\t\t\t<img src={src} alt='art preview' className='h-24 w-full object-cover' />\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t{isActive && (\r\n\t\t\t\t\t\t\t\t\t<span className='bg-brand pointer-events-none absolute top-1 left-1 rounded-full px-2 py-0.5 text-[10px] text-white shadow'>当前使用</span>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\ttype='button'\r\n\t\t\t\t\t\t\t\t\tonClick={() => handleRemoveArtImage(item.id)}\r\n\t\t\t\t\t\t\t\t\tclassName='text-secondary absolute top-1 right-1 hidden rounded-full bg-white/90 px-1.5 py-0.5 text-[10px] shadow group-hover:block'>\r\n\t\t\t\t\t\t\t\t\t删除\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t})}\r\n\t\t\t\t\t<div className='flex items-center justify-center'>\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\ttype='button'\r\n\t\t\t\t\t\t\tonClick={() => artInputRef.current?.click()}\r\n\t\t\t\t\t\t\tclassName='hover:border-brand/60 flex h-24 w-full items-center justify-center rounded-xl border border-dashed bg-white/40 text-2xl text-gray-400 hover:bg-white/80'>\r\n\t\t\t\t\t\t\t+\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2620, "column": 0}, "map": {"version":3,"sources":["file:///E:/qbb/github/blog-public/src/lib/color.ts"],"sourcesContent":["// Simple color conversion utilities for hex mode\r\n\r\nexport interface HSVA {\r\n\th: number\r\n\ts: number\r\n\tv: number\r\n\ta: number\r\n}\r\n\r\nexport interface HSL {\r\n\th: number\r\n\ts: number\r\n\tl: number\r\n}\r\n\r\nexport interface RGB {\r\n\tr: number\r\n\tg: number\r\n\tb: number\r\n}\r\n\r\nexport interface RGBA extends RGB {\r\n\ta: number\r\n}\r\n\r\n// Convert 6-digit hex to RGB (no alpha)\r\nexport function hexToRgb(hex: string): RGB {\r\n\tconst cleaned = hex.replace('#', '')\r\n\tconst result = /^([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(cleaned)\r\n\treturn result\r\n\t\t? {\r\n\t\t\t\tr: parseInt(result[1], 16),\r\n\t\t\t\tg: parseInt(result[2], 16),\r\n\t\t\t\tb: parseInt(result[3], 16)\r\n\t\t\t}\r\n\t\t: { r: 0, g: 0, b: 0 }\r\n}\r\n\r\n// Convert hex (6 or 8 digits) to RGBA\r\nexport function hexToRgba(hex: string): RGBA {\r\n\tconst cleaned = hex.replace('#', '')\r\n\r\n\tif (cleaned.length === 6) {\r\n\t\tconst r = parseInt(cleaned.slice(0, 2), 16)\r\n\t\tconst g = parseInt(cleaned.slice(2, 4), 16)\r\n\t\tconst b = parseInt(cleaned.slice(4, 6), 16)\r\n\r\n\t\treturn { r, g, b, a: 1 }\r\n\t}\r\n\r\n\tif (cleaned.length === 8) {\r\n\t\tconst r = parseInt(cleaned.slice(0, 2), 16)\r\n\t\tconst g = parseInt(cleaned.slice(2, 4), 16)\r\n\t\tconst b = parseInt(cleaned.slice(4, 6), 16)\r\n\t\tconst a = parseInt(cleaned.slice(6, 8), 16) / 255\r\n\r\n\t\treturn { r, g, b, a }\r\n\t}\r\n\r\n\t// Fallback\r\n\treturn { r: 0, g: 0, b: 0, a: 1 }\r\n}\r\n\r\n// Convert RGB to hex\r\nexport function rgbToHex(r: number, g: number, b: number): string {\r\n\treturn '#' + [r, g, b].map(x => Math.round(x).toString(16).padStart(2, '0')).join('')\r\n}\r\n\r\n// Convert RGB to HSL\r\nexport function rgbToHsl(r: number, g: number, b: number): HSL {\r\n\tr /= 255\r\n\tg /= 255\r\n\tb /= 255\r\n\r\n\tconst max = Math.max(r, g, b)\r\n\tconst min = Math.min(r, g, b)\r\n\tlet h = 0\r\n\tlet s = 0\r\n\tconst l = (max + min) / 2\r\n\r\n\tif (max !== min) {\r\n\t\tconst d = max - min\r\n\t\ts = l > 0.5 ? d / (2 - max - min) : d / (max + min)\r\n\r\n\t\tswitch (max) {\r\n\t\t\tcase r:\r\n\t\t\t\th = ((g - b) / d + (g < b ? 6 : 0)) / 6\r\n\t\t\t\tbreak\r\n\t\t\tcase g:\r\n\t\t\t\th = ((b - r) / d + 2) / 6\r\n\t\t\t\tbreak\r\n\t\t\tcase b:\r\n\t\t\t\th = ((r - g) / d + 4) / 6\r\n\t\t\t\tbreak\r\n\t\t}\r\n\t}\r\n\r\n\treturn {\r\n\t\th: h * 360,\r\n\t\ts: s,\r\n\t\tl: l\r\n\t}\r\n}\r\n\r\n// Convert HSL to RGB\r\nexport function hslToRgb(h: number, s: number, l: number): RGB {\r\n\th /= 360\r\n\tlet r, g, b\r\n\r\n\tif (s === 0) {\r\n\t\tr = g = b = l\r\n\t} else {\r\n\t\tconst hue2rgb = (p: number, q: number, t: number) => {\r\n\t\t\tif (t < 0) t += 1\r\n\t\t\tif (t > 1) t -= 1\r\n\t\t\tif (t < 1 / 6) return p + (q - p) * 6 * t\r\n\t\t\tif (t < 1 / 2) return q\r\n\t\t\tif (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6\r\n\t\t\treturn p\r\n\t\t}\r\n\r\n\t\tconst q = l < 0.5 ? l * (1 + s) : l + s - l * s\r\n\t\tconst p = 2 * l - q\r\n\r\n\t\tr = hue2rgb(p, q, h + 1 / 3)\r\n\t\tg = hue2rgb(p, q, h)\r\n\t\tb = hue2rgb(p, q, h - 1 / 3)\r\n\t}\r\n\r\n\treturn {\r\n\t\tr: Math.round(r * 255),\r\n\t\tg: Math.round(g * 255),\r\n\t\tb: Math.round(b * 255)\r\n\t}\r\n}\r\n\r\n// Convert HSL to HSV\r\nexport function hslToHsv(h: number, s: number, l: number): HSVA {\r\n\tconst v = l + s * Math.min(l, 1 - l)\r\n\tconst s2 = v === 0 ? 0 : 2 * (1 - l / v)\r\n\r\n\treturn {\r\n\t\th: h,\r\n\t\ts: s2,\r\n\t\tv: v,\r\n\t\ta: 1\r\n\t}\r\n}\r\n\r\n// Convert HSV to HSL\r\nexport function hsvToHsl(h: number, s: number, v: number) {\r\n\tlet l = (v * (2 - s)) / 2\r\n\tif (l != 0) {\r\n\t\tif (l == 1) {\r\n\t\t\ts = 0\r\n\t\t} else if (l < 0.5) {\r\n\t\t\ts = (s * v) / (l * 2)\r\n\t\t} else {\r\n\t\t\ts = (s * v) / (2 - l * 2)\r\n\t\t}\r\n\t}\r\n\r\n\treturn { h, s, l }\r\n}\r\n\r\n// Convert hex to HSVA\r\nexport function hexToHsva(hex: string): HSVA {\r\n\tconst rgba = hexToRgba(hex)\r\n\tconst hsl = rgbToHsl(rgba.r, rgba.g, rgba.b)\r\n\tconst hsv = hslToHsv(hsl.h, hsl.s, hsl.l)\r\n\r\n\treturn {\r\n\t\th: hsv.h,\r\n\t\ts: hsv.s,\r\n\t\tv: hsv.v,\r\n\t\ta: rgba.a\r\n\t}\r\n}\r\n\r\n// Convert HSVA to hex (outputs #RRGGBB or #RRGGBBAA when alpha < 1)\r\nexport function hsvaToHex(h: number, s: number, v: number, a: number = 1): string {\r\n\tconst hsl = hsvToHsl(h, s, v)\r\n\tconst rgb = hslToRgb(hsl.h, hsl.s, hsl.l)\r\n\tconst baseHex = rgbToHex(rgb.r, rgb.g, rgb.b)\r\n\r\n\t// Normalize alpha between 0 and 1\r\n\tconst alpha = clamp(a, 0, 1)\r\n\r\n\t// If fully opaque, keep legacy 6-digit hex for compatibility\r\n\tif (alpha >= 1) {\r\n\t\treturn baseHex\r\n\t}\r\n\r\n\tconst alphaHex = Math.round(alpha * 255)\r\n\t\t.toString(16)\r\n\t\t.padStart(2, '0')\r\n\r\n\treturn `${baseHex}${alphaHex}`\r\n}\r\n\r\n// Clamp number between min and max\r\nexport function clamp(value: number, min: number, max: number): number {\r\n\treturn Math.min(Math.max(value, min), max)\r\n}\r\n\r\n// Format number to fixed decimal places\r\nexport function toFixed(value: number, decimals: number = 2): number {\r\n\treturn Number(value.toFixed(decimals))\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2815, "column": 0}, "map": {"version":3,"sources":["file:///E:/qbb/github/blog-public/src/components/color-picker-panel.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useEffect, useMemo, useRef, useState } from 'react'\r\nimport { cn } from '@/lib/utils'\r\nimport { hexToHsva, hsvaToHex, hsvToHsl, clamp, toFixed } from '@/lib/color'\r\n\r\ninterface ColorPickerPanelProps {\r\n\tvalue: string\r\n\tonChange?: (color: string) => void\r\n\tstyle?: React.CSSProperties\r\n\tclassName?: string\r\n}\r\n\r\nconst MOUSE_LEFT = 0\r\n\r\nexport function ColorPickerPanel({ value, onChange, style, className }: ColorPickerPanelProps) {\r\n\tconst [show, setShow] = useState(false)\r\n\tconst [hueOffset, setHueOffset] = useState(0)\r\n\tconst [alphaOffset, setAlphaOffset] = useState(255)\r\n\tconst [saturationOffset, setSaturationOffset] = useState(255)\r\n\tconst [brightOffset, setBrightOffset] = useState(0)\r\n\r\n\tconst hueRef = useRef<HTMLDivElement>(null)\r\n\tconst pickerRef = useRef<HTMLDivElement>(null)\r\n\tconst alphaRef = useRef<HTMLDivElement>(null)\r\n\r\n\tconst [hueActive, setHueActive] = useState(false)\r\n\tconst [alphaActive, setAlphaActive] = useState(false)\r\n\tconst [saturationActive, setSaturationActive] = useState(false)\r\n\tconst [brightActive, setBrightActive] = useState(false)\r\n\r\n\tconst prevHexRef = useRef<string>(value)\r\n\r\n\t// Initialize from value (only once on mount)\r\n\tuseEffect(() => {\r\n\t\tif (value) {\r\n\t\t\tconst hsva = hexToHsva(value)\r\n\t\t\tprevHexRef.current = value\r\n\t\t\t// Use setTimeout to ensure refs are mounted\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tif (hueRef.current && pickerRef.current && alphaRef.current) {\r\n\t\t\t\t\tconst hueWidth = hueRef.current.getBoundingClientRect().width\r\n\t\t\t\t\tconst pickerWidth = pickerRef.current.getBoundingClientRect().width\r\n\t\t\t\t\tconst pickerHeight = pickerRef.current.getBoundingClientRect().height\r\n\t\t\t\t\tconst alphaWidth = alphaRef.current.getBoundingClientRect().width\r\n\r\n\t\t\t\t\tsetHueOffset((hsva.h / 360) * hueWidth)\r\n\t\t\t\t\tsetSaturationOffset(hsva.s * pickerWidth)\r\n\t\t\t\t\tsetBrightOffset((1 - hsva.v) * pickerHeight)\r\n\t\t\t\t\tsetAlphaOffset(hsva.a * alphaWidth)\r\n\t\t\t\t\tsetShow(true)\r\n\t\t\t\t}\r\n\t\t\t}, 0)\r\n\t\t}\r\n\t}, [])\r\n\r\n\tconst hue = useMemo(() => {\r\n\t\tif (hueRef.current) {\r\n\t\t\tconst { width } = hueRef.current.getBoundingClientRect()\r\n\t\t\treturn toFixed((hueOffset / width) * 360)\r\n\t\t}\r\n\t\treturn 0\r\n\t}, [hueOffset, hueRef.current])\r\n\r\n\tconst alpha = useMemo(() => {\r\n\t\tif (alphaRef.current) {\r\n\t\t\tconst { width } = alphaRef.current.getBoundingClientRect()\r\n\t\t\treturn clamp(toFixed(alphaOffset / width, 4), 0, 1)\r\n\t\t}\r\n\t\treturn 1\r\n\t}, [alphaOffset, alphaRef.current])\r\n\r\n\tconst saturation = useMemo(() => {\r\n\t\tif (pickerRef.current) {\r\n\t\t\tconst { width } = pickerRef.current.getBoundingClientRect()\r\n\t\t\treturn clamp(toFixed(saturationOffset / width, 4), 0, 1)\r\n\t\t}\r\n\t\treturn 1\r\n\t}, [saturationOffset, pickerRef.current])\r\n\r\n\tconst bright = useMemo(() => {\r\n\t\tif (pickerRef.current) {\r\n\t\t\tconst { height } = pickerRef.current.getBoundingClientRect()\r\n\t\t\treturn 1 - clamp(toFixed(brightOffset / height, 4), 0, 1)\r\n\t\t}\r\n\t\treturn 0\r\n\t}, [brightOffset, pickerRef.current])\r\n\r\n\tconst hsl = useMemo(() => {\r\n\t\treturn hsvToHsl(hue, saturation, bright)\r\n\t}, [hue, saturation, bright])\r\n\tconst hex = useMemo(() => hsvaToHex(hue, saturation, bright, alpha), [hue, saturation, bright, alpha])\r\n\r\n\t// Notify parent of color change\r\n\tuseEffect(() => {\r\n\t\tif (onChange && hex && hex !== prevHexRef.current) {\r\n\t\t\tprevHexRef.current = hex\r\n\t\t\tonChange(hex)\r\n\t\t}\r\n\t}, [hex, onChange])\r\n\r\n\t// Handle mouse events\r\n\tuseEffect(() => {\r\n\t\tconst mousemoveHandler = (e: MouseEvent) => {\r\n\t\t\tif (hueActive && hueRef.current) {\r\n\t\t\t\tconst { left, right, width } = hueRef.current.getBoundingClientRect()\r\n\t\t\t\tif (e.pageX < left) {\r\n\t\t\t\t\tsetHueOffset(0)\r\n\t\t\t\t} else if (e.pageX > right) {\r\n\t\t\t\t\tsetHueOffset(width)\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetHueOffset(e.pageX - left)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (alphaActive && alphaRef.current) {\r\n\t\t\t\tconst { left, right, width } = alphaRef.current.getBoundingClientRect()\r\n\t\t\t\tif (e.pageX < left) {\r\n\t\t\t\t\tsetAlphaOffset(0)\r\n\t\t\t\t} else if (e.pageX > right) {\r\n\t\t\t\t\tsetAlphaOffset(width)\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetAlphaOffset(e.pageX - left)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif ((saturationActive || brightActive) && pickerRef.current) {\r\n\t\t\t\tconst { left, top, right, bottom, width, height } = pickerRef.current.getBoundingClientRect()\r\n\r\n\t\t\t\tif (saturationActive) {\r\n\t\t\t\t\tif (e.pageX < left) {\r\n\t\t\t\t\t\tsetSaturationOffset(0)\r\n\t\t\t\t\t} else if (e.pageX > right) {\r\n\t\t\t\t\t\tsetSaturationOffset(width)\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tsetSaturationOffset(e.pageX - left)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (brightActive) {\r\n\t\t\t\t\tif (e.pageY < top) {\r\n\t\t\t\t\t\tsetBrightOffset(0)\r\n\t\t\t\t\t} else if (e.pageY > bottom) {\r\n\t\t\t\t\t\tsetBrightOffset(height)\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tsetBrightOffset(e.pageY - top)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tconst mouseupHandler = () => {\r\n\t\t\tsetHueActive(false)\r\n\t\t\tsetAlphaActive(false)\r\n\t\t\tsetSaturationActive(false)\r\n\t\t\tsetBrightActive(false)\r\n\t\t}\r\n\r\n\t\tif (hueActive || alphaActive || saturationActive || brightActive) {\r\n\t\t\tdocument.addEventListener('mousemove', mousemoveHandler)\r\n\t\t\tdocument.addEventListener('mouseup', mouseupHandler)\r\n\t\t\tdocument.addEventListener('mouseleave', mouseupHandler)\r\n\t\t}\r\n\r\n\t\treturn () => {\r\n\t\t\tdocument.removeEventListener('mousemove', mousemoveHandler)\r\n\t\t\tdocument.removeEventListener('mouseup', mouseupHandler)\r\n\t\t\tdocument.removeEventListener('mouseleave', mouseupHandler)\r\n\t\t}\r\n\t}, [hueActive, alphaActive, saturationActive, brightActive])\r\n\r\n\tconst handleHexInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n\t\tconst inputValue = e.target.value\r\n\r\n\t\t// Support both #RRGGBB and #RRGGBBAA\r\n\t\tif (/^#[0-9A-Fa-f]{0,8}$/.test(inputValue)) {\r\n\t\t\tif ((inputValue.length === 7 || inputValue.length === 9) && onChange) {\r\n\t\t\t\tonChange(inputValue)\r\n\t\t\t}\r\n\r\n\t\t\tif (inputValue.length === 7 || inputValue.length === 9) {\r\n\t\t\t\tconst hsva = hexToHsva(inputValue)\r\n\t\t\t\tif (hueRef.current && pickerRef.current && alphaRef.current) {\r\n\t\t\t\t\tconst hueWidth = hueRef.current.getBoundingClientRect().width\r\n\t\t\t\t\tconst pickerWidth = pickerRef.current.getBoundingClientRect().width\r\n\t\t\t\t\tconst pickerHeight = pickerRef.current.getBoundingClientRect().height\r\n\t\t\t\t\tconst alphaWidth = alphaRef.current.getBoundingClientRect().width\r\n\r\n\t\t\t\t\tsetHueOffset((hsva.h / 360) * hueWidth)\r\n\t\t\t\t\tsetSaturationOffset(hsva.s * pickerWidth)\r\n\t\t\t\t\tsetBrightOffset((1 - hsva.v) * pickerHeight)\r\n\t\t\t\t\tsetAlphaOffset(hsva.a * alphaWidth)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tdata-color-picker-panel\r\n\t\t\tclassName={cn('w-56 rounded-lg border bg-white p-3 shadow-lg select-none', className, show ? 'opacity-100' : 'opacity-0')}\r\n\t\t\tstyle={style}>\r\n\t\t\t{/* Saturation and brightness picker */}\r\n\t\t\t<div\r\n\t\t\t\tref={pickerRef}\r\n\t\t\t\tonMouseDown={e => {\r\n\t\t\t\t\tif (e.button === MOUSE_LEFT) {\r\n\t\t\t\t\t\tconst { left, top, width, height } = pickerRef.current!.getBoundingClientRect()\r\n\t\t\t\t\t\tsetSaturationOffset(clamp(e.pageX - left, 0, width))\r\n\t\t\t\t\t\tsetBrightOffset(clamp(e.pageY - top, 0, height))\r\n\t\t\t\t\t\tsetSaturationActive(true)\r\n\t\t\t\t\t\tsetBrightActive(true)\r\n\t\t\t\t\t}\r\n\t\t\t\t}}\r\n\t\t\t\tclassName='relative h-32 w-full cursor-crosshair rounded-t-md'\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tbackgroundColor: `hsl(${hue}, 100%, 50%)`,\r\n\t\t\t\t\tbackgroundImage: 'linear-gradient(0deg, #000, transparent), linear-gradient(90deg, #fff, hsla(0, 0%, 100%, 0))'\r\n\t\t\t\t}}>\r\n\t\t\t\t<div\r\n\t\t\t\t\tclassName='absolute z-10 h-4 w-4 -translate-x-1/2 -translate-y-1/2 cursor-crosshair rounded-full border-2 border-white shadow-md'\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tbackgroundColor: `hsl(${hsl.h} ${hsl.s * 100}% ${hsl.l * 100}%)`,\r\n\t\t\t\t\t\tleft: saturationOffset,\r\n\t\t\t\t\t\ttop: brightOffset\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\r\n\t\t\t{/* Hue slider */}\r\n\t\t\t<div\r\n\t\t\t\tref={hueRef}\r\n\t\t\t\tonMouseDown={e => {\r\n\t\t\t\t\tif (e.button === MOUSE_LEFT) {\r\n\t\t\t\t\t\tconst { left, width } = hueRef.current!.getBoundingClientRect()\r\n\t\t\t\t\t\tsetHueOffset(clamp(e.pageX - left, 0, width))\r\n\t\t\t\t\t\tsetHueActive(true)\r\n\t\t\t\t\t}\r\n\t\t\t\t}}\r\n\t\t\t\tclassName='relative flex h-5 cursor-pointer items-center'\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tbackground:\r\n\t\t\t\t\t\t'linear-gradient(to right, rgb(255, 0, 0), rgb(255, 255, 0), rgb(0, 255, 0), rgb(0, 255, 255), rgb(0, 0, 255), rgb(255, 0, 255), rgb(255, 0, 0))'\r\n\t\t\t\t}}>\r\n\t\t\t\t<div\r\n\t\t\t\t\tclassName='absolute h-4 w-4 -translate-x-1/2 cursor-pointer rounded-full border-2 border-white shadow-md'\r\n\t\t\t\t\tstyle={{ backgroundColor: `hsl(${hue} 100% 50%)`, left: hueOffset }}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\r\n\t\t\t{/* Alpha slider */}\r\n\t\t\t<div\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tbackgroundSize: '12px 12px',\r\n\t\t\t\t\tbackgroundImage: `url(\"data:image/svg+xml,%3Csvg width='12' height='12' xmlns='http://www.w3.org/2000/svg'%3E%3Cdefs%3E%3Cpattern id='grid' width='12' height='12' patternUnits='userSpaceOnUse'%3E%3Cpath d='M 12 0 L 0 0 0 12' fill='none' stroke='%23e5e7eb' stroke-width='1'/%3E%3C/pattern%3E%3C/defs%3E%3Crect width='100%25' height='100%25' fill='url(%23grid)'/%3E%3C/svg%3E\")`\r\n\t\t\t\t}}\r\n\t\t\t\tclassName='rounded-b-md'>\r\n\t\t\t\t<div\r\n\t\t\t\t\tref={alphaRef}\r\n\t\t\t\t\tonMouseDown={e => {\r\n\t\t\t\t\t\tif (e.button === MOUSE_LEFT) {\r\n\t\t\t\t\t\t\tconst { left, width } = alphaRef.current!.getBoundingClientRect()\r\n\t\t\t\t\t\t\tsetAlphaOffset(clamp(e.pageX - left, 0, width))\r\n\t\t\t\t\t\t\tsetAlphaActive(true)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tclassName='relative flex h-5 cursor-pointer items-center'\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tbackground: `linear-gradient(to right, hsl(${hsl.h} ${hsl.s * 100}% ${hsl.l * 100}% / 0%), hsl(${hsl.h} ${hsl.s * 100}% ${hsl.l * 100}% / 100%))`\r\n\t\t\t\t\t}}>\r\n\t\t\t\t\t<div style={{ left: alphaOffset }} className='absolute h-4 w-4 -translate-x-1/2 cursor-pointer rounded-full border-2 border-white bg-white shadow-md'>\r\n\t\t\t\t\t\t<div className='h-full w-full rounded-full' style={{ backgroundColor: `hsl(${hsl.h} ${hsl.s * 100}% ${hsl.l * 100}% / ${alpha * 100}%)` }} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t{/* Hex input */}\r\n\t\t\t<input\r\n\t\t\t\ttype='text'\r\n\t\t\t\tvalue={hex}\r\n\t\t\t\tonChange={handleHexInputChange}\r\n\t\t\t\tclassName='w-full rounded-md border px-2 py-1 text-sm focus:ring-2 focus:ring-blue-500 focus:outline-none'\r\n\t\t\t\tplaceholder='#000000'\r\n\t\t\t/>\r\n\t\t</div>\r\n\t)\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAaA,MAAM,aAAa;AAEZ,SAAS,iBAAiB,EAAE,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,SAAS,EAAyB;IAC5F,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,gUAAQ,EAAC;IACjC,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,gUAAQ,EAAC;IAC3C,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,gUAAQ,EAAC;IAC/C,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,gUAAQ,EAAC;IACzD,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,gUAAQ,EAAC;IAEjD,MAAM,SAAS,IAAA,8TAAM,EAAiB;IACtC,MAAM,YAAY,IAAA,8TAAM,EAAiB;IACzC,MAAM,WAAW,IAAA,8TAAM,EAAiB;IAExC,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,gUAAQ,EAAC;IAC3C,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,gUAAQ,EAAC;IAC/C,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,gUAAQ,EAAC;IACzD,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,gUAAQ,EAAC;IAEjD,MAAM,aAAa,IAAA,8TAAM,EAAS;IAElC,6CAA6C;IAC7C,IAAA,iUAAS,EAAC;QACT,IAAI,OAAO;YACV,MAAM,OAAO,IAAA,gIAAS,EAAC;YACvB,WAAW,OAAO,GAAG;YACrB,4CAA4C;YAC5C,WAAW;gBACV,IAAI,OAAO,OAAO,IAAI,UAAU,OAAO,IAAI,SAAS,OAAO,EAAE;oBAC5D,MAAM,WAAW,OAAO,OAAO,CAAC,qBAAqB,GAAG,KAAK;oBAC7D,MAAM,cAAc,UAAU,OAAO,CAAC,qBAAqB,GAAG,KAAK;oBACnE,MAAM,eAAe,UAAU,OAAO,CAAC,qBAAqB,GAAG,MAAM;oBACrE,MAAM,aAAa,SAAS,OAAO,CAAC,qBAAqB,GAAG,KAAK;oBAEjE,aAAa,AAAC,KAAK,CAAC,GAAG,MAAO;oBAC9B,oBAAoB,KAAK,CAAC,GAAG;oBAC7B,gBAAgB,CAAC,IAAI,KAAK,CAAC,IAAI;oBAC/B,eAAe,KAAK,CAAC,GAAG;oBACxB,QAAQ;gBACT;YACD,GAAG;QACJ;IACD,GAAG,EAAE;IAEL,MAAM,MAAM,IAAA,+TAAO,EAAC;QACnB,IAAI,OAAO,OAAO,EAAE;YACnB,MAAM,EAAE,KAAK,EAAE,GAAG,OAAO,OAAO,CAAC,qBAAqB;YACtD,OAAO,IAAA,8HAAO,EAAC,AAAC,YAAY,QAAS;QACtC;QACA,OAAO;IACR,GAAG;QAAC;QAAW,OAAO,OAAO;KAAC;IAE9B,MAAM,QAAQ,IAAA,+TAAO,EAAC;QACrB,IAAI,SAAS,OAAO,EAAE;YACrB,MAAM,EAAE,KAAK,EAAE,GAAG,SAAS,OAAO,CAAC,qBAAqB;YACxD,OAAO,IAAA,4HAAK,EAAC,IAAA,8HAAO,EAAC,cAAc,OAAO,IAAI,GAAG;QAClD;QACA,OAAO;IACR,GAAG;QAAC;QAAa,SAAS,OAAO;KAAC;IAElC,MAAM,aAAa,IAAA,+TAAO,EAAC;QAC1B,IAAI,UAAU,OAAO,EAAE;YACtB,MAAM,EAAE,KAAK,EAAE,GAAG,UAAU,OAAO,CAAC,qBAAqB;YACzD,OAAO,IAAA,4HAAK,EAAC,IAAA,8HAAO,EAAC,mBAAmB,OAAO,IAAI,GAAG;QACvD;QACA,OAAO;IACR,GAAG;QAAC;QAAkB,UAAU,OAAO;KAAC;IAExC,MAAM,SAAS,IAAA,+TAAO,EAAC;QACtB,IAAI,UAAU,OAAO,EAAE;YACtB,MAAM,EAAE,MAAM,EAAE,GAAG,UAAU,OAAO,CAAC,qBAAqB;YAC1D,OAAO,IAAI,IAAA,4HAAK,EAAC,IAAA,8HAAO,EAAC,eAAe,QAAQ,IAAI,GAAG;QACxD;QACA,OAAO;IACR,GAAG;QAAC;QAAc,UAAU,OAAO;KAAC;IAEpC,MAAM,MAAM,IAAA,+TAAO,EAAC;QACnB,OAAO,IAAA,+HAAQ,EAAC,KAAK,YAAY;IAClC,GAAG;QAAC;QAAK;QAAY;KAAO;IAC5B,MAAM,MAAM,IAAA,+TAAO,EAAC,IAAM,IAAA,gIAAS,EAAC,KAAK,YAAY,QAAQ,QAAQ;QAAC;QAAK;QAAY;QAAQ;KAAM;IAErG,gCAAgC;IAChC,IAAA,iUAAS,EAAC;QACT,IAAI,YAAY,OAAO,QAAQ,WAAW,OAAO,EAAE;YAClD,WAAW,OAAO,GAAG;YACrB,SAAS;QACV;IACD,GAAG;QAAC;QAAK;KAAS;IAElB,sBAAsB;IACtB,IAAA,iUAAS,EAAC;QACT,MAAM,mBAAmB,CAAC;YACzB,IAAI,aAAa,OAAO,OAAO,EAAE;gBAChC,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,KAAK,EAAE,GAAG,OAAO,OAAO,CAAC,qBAAqB;gBACnE,IAAI,EAAE,KAAK,GAAG,MAAM;oBACnB,aAAa;gBACd,OAAO,IAAI,EAAE,KAAK,GAAG,OAAO;oBAC3B,aAAa;gBACd,OAAO;oBACN,aAAa,EAAE,KAAK,GAAG;gBACxB;YACD;YAEA,IAAI,eAAe,SAAS,OAAO,EAAE;gBACpC,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,KAAK,EAAE,GAAG,SAAS,OAAO,CAAC,qBAAqB;gBACrE,IAAI,EAAE,KAAK,GAAG,MAAM;oBACnB,eAAe;gBAChB,OAAO,IAAI,EAAE,KAAK,GAAG,OAAO;oBAC3B,eAAe;gBAChB,OAAO;oBACN,eAAe,EAAE,KAAK,GAAG;gBAC1B;YACD;YAEA,IAAI,CAAC,oBAAoB,YAAY,KAAK,UAAU,OAAO,EAAE;gBAC5D,MAAM,EAAE,IAAI,EAAE,GAAG,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,GAAG,UAAU,OAAO,CAAC,qBAAqB;gBAE3F,IAAI,kBAAkB;oBACrB,IAAI,EAAE,KAAK,GAAG,MAAM;wBACnB,oBAAoB;oBACrB,OAAO,IAAI,EAAE,KAAK,GAAG,OAAO;wBAC3B,oBAAoB;oBACrB,OAAO;wBACN,oBAAoB,EAAE,KAAK,GAAG;oBAC/B;gBACD;gBAEA,IAAI,cAAc;oBACjB,IAAI,EAAE,KAAK,GAAG,KAAK;wBAClB,gBAAgB;oBACjB,OAAO,IAAI,EAAE,KAAK,GAAG,QAAQ;wBAC5B,gBAAgB;oBACjB,OAAO;wBACN,gBAAgB,EAAE,KAAK,GAAG;oBAC3B;gBACD;YACD;QACD;QAEA,MAAM,iBAAiB;YACtB,aAAa;YACb,eAAe;YACf,oBAAoB;YACpB,gBAAgB;QACjB;QAEA,IAAI,aAAa,eAAe,oBAAoB,cAAc;YACjE,SAAS,gBAAgB,CAAC,aAAa;YACvC,SAAS,gBAAgB,CAAC,WAAW;YACrC,SAAS,gBAAgB,CAAC,cAAc;QACzC;QAEA,OAAO;YACN,SAAS,mBAAmB,CAAC,aAAa;YAC1C,SAAS,mBAAmB,CAAC,WAAW;YACxC,SAAS,mBAAmB,CAAC,cAAc;QAC5C;IACD,GAAG;QAAC;QAAW;QAAa;QAAkB;KAAa;IAE3D,MAAM,uBAAuB,CAAC;QAC7B,MAAM,aAAa,EAAE,MAAM,CAAC,KAAK;QAEjC,qCAAqC;QACrC,IAAI,sBAAsB,IAAI,CAAC,aAAa;YAC3C,IAAI,CAAC,WAAW,MAAM,KAAK,KAAK,WAAW,MAAM,KAAK,CAAC,KAAK,UAAU;gBACrE,SAAS;YACV;YAEA,IAAI,WAAW,MAAM,KAAK,KAAK,WAAW,MAAM,KAAK,GAAG;gBACvD,MAAM,OAAO,IAAA,gIAAS,EAAC;gBACvB,IAAI,OAAO,OAAO,IAAI,UAAU,OAAO,IAAI,SAAS,OAAO,EAAE;oBAC5D,MAAM,WAAW,OAAO,OAAO,CAAC,qBAAqB,GAAG,KAAK;oBAC7D,MAAM,cAAc,UAAU,OAAO,CAAC,qBAAqB,GAAG,KAAK;oBACnE,MAAM,eAAe,UAAU,OAAO,CAAC,qBAAqB,GAAG,MAAM;oBACrE,MAAM,aAAa,SAAS,OAAO,CAAC,qBAAqB,GAAG,KAAK;oBAEjE,aAAa,AAAC,KAAK,CAAC,GAAG,MAAO;oBAC9B,oBAAoB,KAAK,CAAC,GAAG;oBAC7B,gBAAgB,CAAC,IAAI,KAAK,CAAC,IAAI;oBAC/B,eAAe,KAAK,CAAC,GAAG;gBACzB;YACD;QACD;IACD;IAEA,qBACC,6VAAC;QACA,yBAAuB;QACvB,WAAW,IAAA,yHAAE,EAAC,6DAA6D,WAAW,OAAO,gBAAgB;QAC7G,OAAO;;0BAEP,6VAAC;gBACA,KAAK;gBACL,aAAa,CAAA;oBACZ,IAAI,EAAE,MAAM,KAAK,YAAY;wBAC5B,MAAM,EAAE,IAAI,EAAE,GAAG,EAAE,KAAK,EAAE,MAAM,EAAE,GAAG,UAAU,OAAO,CAAE,qBAAqB;wBAC7E,oBAAoB,IAAA,4HAAK,EAAC,EAAE,KAAK,GAAG,MAAM,GAAG;wBAC7C,gBAAgB,IAAA,4HAAK,EAAC,EAAE,KAAK,GAAG,KAAK,GAAG;wBACxC,oBAAoB;wBACpB,gBAAgB;oBACjB;gBACD;gBACA,WAAU;gBACV,OAAO;oBACN,iBAAiB,CAAC,IAAI,EAAE,IAAI,YAAY,CAAC;oBACzC,iBAAiB;gBAClB;0BACA,cAAA,6VAAC;oBACA,WAAU;oBACV,OAAO;wBACN,iBAAiB,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,IAAI,EAAE,EAAE,IAAI,CAAC,GAAG,IAAI,EAAE,CAAC;wBAChE,MAAM;wBACN,KAAK;oBACN;;;;;;;;;;;0BAKF,6VAAC;gBACA,KAAK;gBACL,aAAa,CAAA;oBACZ,IAAI,EAAE,MAAM,KAAK,YAAY;wBAC5B,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,OAAO,OAAO,CAAE,qBAAqB;wBAC7D,aAAa,IAAA,4HAAK,EAAC,EAAE,KAAK,GAAG,MAAM,GAAG;wBACtC,aAAa;oBACd;gBACD;gBACA,WAAU;gBACV,OAAO;oBACN,YACC;gBACF;0BACA,cAAA,6VAAC;oBACA,WAAU;oBACV,OAAO;wBAAE,iBAAiB,CAAC,IAAI,EAAE,IAAI,UAAU,CAAC;wBAAE,MAAM;oBAAU;;;;;;;;;;;0BAKpE,6VAAC;gBACA,OAAO;oBACN,gBAAgB;oBAChB,iBAAiB,CAAC,qWAAqW,CAAC;gBACzX;gBACA,WAAU;0BACV,cAAA,6VAAC;oBACA,KAAK;oBACL,aAAa,CAAA;wBACZ,IAAI,EAAE,MAAM,KAAK,YAAY;4BAC5B,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,SAAS,OAAO,CAAE,qBAAqB;4BAC/D,eAAe,IAAA,4HAAK,EAAC,EAAE,KAAK,GAAG,MAAM,GAAG;4BACxC,eAAe;wBAChB;oBACD;oBACA,WAAU;oBACV,OAAO;wBACN,YAAY,CAAC,8BAA8B,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,IAAI,EAAE,EAAE,IAAI,CAAC,GAAG,IAAI,aAAa,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,IAAI,EAAE,EAAE,IAAI,CAAC,GAAG,IAAI,UAAU,CAAC;oBAClJ;8BACA,cAAA,6VAAC;wBAAI,OAAO;4BAAE,MAAM;wBAAY;wBAAG,WAAU;kCAC5C,cAAA,6VAAC;4BAAI,WAAU;4BAA6B,OAAO;gCAAE,iBAAiB,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,IAAI,EAAE,EAAE,IAAI,CAAC,GAAG,IAAI,IAAI,EAAE,QAAQ,IAAI,EAAE,CAAC;4BAAC;;;;;;;;;;;;;;;;;;;;;0BAM3I,6VAAC;gBACA,MAAK;gBACL,OAAO;gBACP,UAAU;gBACV,WAAU;gBACV,aAAY;;;;;;;;;;;;AAIhB","debugId":null}},
    {"offset": {"line": 3154, "column": 0}, "map": {"version":3,"sources":["file:///E:/qbb/github/blog-public/src/components/color-picker.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useEffect, useRef, useState } from 'react'\r\nimport { createPortal } from 'react-dom'\r\nimport { cn } from '@/lib/utils'\r\nimport { ColorPickerPanel } from './color-picker-panel'\r\n\r\ninterface ColorPickerProps {\r\n\tvalue?: string\r\n\tonChange?: (color: string) => void\r\n\tclassName?: string\r\n}\r\n\r\nexport function ColorPicker({ value = '#000000', onChange, className }: ColorPickerProps) {\r\n\tconst [open, setOpen] = useState(false)\r\n\tconst [mounted, setMounted] = useState(false)\r\n\tconst triggerRef = useRef<HTMLButtonElement>(null)\r\n\tconst [position, setPosition] = useState({ top: 0, left: 0 })\r\n\r\n\tuseEffect(() => {\r\n\t\tsetMounted(true)\r\n\t}, [])\r\n\r\n\t// Calculate position when opening\r\n\tuseEffect(() => {\r\n\t\tif (open && triggerRef.current) {\r\n\t\t\tconst rect = triggerRef.current.getBoundingClientRect()\r\n\t\t\tsetPosition({\r\n\t\t\t\ttop: rect.top - 240,\r\n\t\t\t\tleft: rect.left\r\n\t\t\t})\r\n\t\t}\r\n\t}, [open])\r\n\r\n\t// Close on outside click\r\n\tuseEffect(() => {\r\n\t\tif (!open) return\r\n\r\n\t\tconst handleClickOutside = (e: MouseEvent) => {\r\n\t\t\tconst target = e.target as Node\r\n\t\t\tif (triggerRef.current && !triggerRef.current.contains(target)) {\r\n\t\t\t\tconst panel = document.querySelector('[data-color-picker-panel]')\r\n\t\t\t\tif (panel && !panel.contains(target)) {\r\n\t\t\t\t\tsetOpen(false)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tdocument.addEventListener('mousedown', handleClickOutside)\r\n\t\treturn () => {\r\n\t\t\tdocument.removeEventListener('mousedown', handleClickOutside)\r\n\t\t}\r\n\t}, [open])\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<button\r\n\t\t\t\tref={triggerRef}\r\n\t\t\t\ttype='button'\r\n\t\t\t\tonClick={() => setOpen(!open)}\r\n\t\t\t\tclassName={cn('h-10 w-10 rounded-lg border-2 border-white/20 shadow-sm transition-all hover:scale-105', className)}\r\n\t\t\t\tstyle={{ backgroundColor: value }}>\r\n\t\t\t\t<span className='sr-only'>Select color</span>\r\n\t\t\t</button>\r\n\r\n\t\t\t{mounted &&\r\n\t\t\t\topen &&\r\n\t\t\t\tposition.top > 0 &&\r\n\t\t\t\tcreatePortal(\r\n\t\t\t\t\t<ColorPickerPanel\r\n\t\t\t\t\t\tvalue={value}\r\n\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\tposition: 'fixed',\r\n\t\t\t\t\t\t\ttop: `${position.top}px`,\r\n\t\t\t\t\t\t\tleft: `${position.left}px`,\r\n\t\t\t\t\t\t\tzIndex: 1000\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>,\r\n\t\t\t\t\tdocument.body\r\n\t\t\t\t)}\r\n\t\t</>\r\n\t)\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAaO,SAAS,YAAY,EAAE,QAAQ,SAAS,EAAE,QAAQ,EAAE,SAAS,EAAoB;IACvF,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,gUAAQ,EAAC;IACjC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,gUAAQ,EAAC;IACvC,MAAM,aAAa,IAAA,8TAAM,EAAoB;IAC7C,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,gUAAQ,EAAC;QAAE,KAAK;QAAG,MAAM;IAAE;IAE3D,IAAA,iUAAS,EAAC;QACT,WAAW;IACZ,GAAG,EAAE;IAEL,kCAAkC;IAClC,IAAA,iUAAS,EAAC;QACT,IAAI,QAAQ,WAAW,OAAO,EAAE;YAC/B,MAAM,OAAO,WAAW,OAAO,CAAC,qBAAqB;YACrD,YAAY;gBACX,KAAK,KAAK,GAAG,GAAG;gBAChB,MAAM,KAAK,IAAI;YAChB;QACD;IACD,GAAG;QAAC;KAAK;IAET,yBAAyB;IACzB,IAAA,iUAAS,EAAC;QACT,IAAI,CAAC,MAAM;QAEX,MAAM,qBAAqB,CAAC;YAC3B,MAAM,SAAS,EAAE,MAAM;YACvB,IAAI,WAAW,OAAO,IAAI,CAAC,WAAW,OAAO,CAAC,QAAQ,CAAC,SAAS;gBAC/D,MAAM,QAAQ,SAAS,aAAa,CAAC;gBACrC,IAAI,SAAS,CAAC,MAAM,QAAQ,CAAC,SAAS;oBACrC,QAAQ;gBACT;YACD;QACD;QAEA,SAAS,gBAAgB,CAAC,aAAa;QACvC,OAAO;YACN,SAAS,mBAAmB,CAAC,aAAa;QAC3C;IACD,GAAG;QAAC;KAAK;IAET,qBACC;;0BACC,6VAAC;gBACA,KAAK;gBACL,MAAK;gBACL,SAAS,IAAM,QAAQ,CAAC;gBACxB,WAAW,IAAA,yHAAE,EAAC,0FAA0F;gBACxG,OAAO;oBAAE,iBAAiB;gBAAM;0BAChC,cAAA,6VAAC;oBAAK,WAAU;8BAAU;;;;;;;;;;;YAG1B,WACA,QACA,SAAS,GAAG,GAAG,mBACf,IAAA,2UAAY,gBACX,6VAAC,kKAAgB;gBAChB,OAAO;gBACP,UAAU;gBACV,OAAO;oBACN,UAAU;oBACV,KAAK,GAAG,SAAS,GAAG,CAAC,EAAE,CAAC;oBACxB,MAAM,GAAG,SAAS,IAAI,CAAC,EAAE,CAAC;oBAC1B,QAAQ;gBACT;;;;;sBAED,SAAS,IAAI;;;AAIlB","debugId":null}},
    {"offset": {"line": 3255, "column": 0}, "map": {"version":3,"sources":["file:///E:/qbb/github/blog-public/src/app/%28home%29/config-dialog/color-config.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { motion } from 'motion/react'\r\nimport { ColorPicker } from '@/components/color-picker'\r\nimport { XIcon } from 'lucide-react'\r\nimport type { SiteContent } from '../stores/config-store'\r\nimport siteContent from '@/config/site-content.json'\r\n\r\ninterface ColorConfigProps {\r\n\tformData: SiteContent\r\n\tsetFormData: React.Dispatch<React.SetStateAction<SiteContent>>\r\n}\r\n\r\nconst DEFAULT_THEME_COLORS = siteContent.theme\r\n\r\ntype ColorPreset = {\r\n\tname: string\r\n\ttheme: Partial<SiteContent['theme']>\r\n\tbackgroundColors: string[]\r\n}\r\n\r\nconst COLOR_PRESETS: ColorPreset[] = [\r\n\t{\r\n\t\tname: '春暖',\r\n\t\ttheme: {\r\n\t\t\tcolorBrand: '#35bfab',\r\n\t\t\tcolorBrandSecondary: '#1fc9e7',\r\n\t\t\tcolorPrimary: '#334f52',\r\n\t\t\tcolorSecondary: '#7b888e',\r\n\t\t\tcolorBg: '#eeeeee',\r\n\t\t\tcolorBorder: '#ffffff',\r\n\t\t\tcolorCard: '#ffffff66',\r\n\t\t\tcolorArticle: '#ffffffcc'\r\n\t\t},\r\n\t\tbackgroundColors: ['#EDDD62', '#9EE7D1', '#84D68A', '#EDDD62', '#88E6E5', '#a7f3d0']\r\n\t},\r\n\t{\r\n\t\tname: '秋实',\r\n\t\ttheme: {\r\n\t\t\tcolorPrimary: '#4E3F42',\r\n\t\t\tcolorBrand: '#de4331',\r\n\t\t\tcolorBrandSecondary: '#FCC841'\r\n\t\t},\r\n\t\tbackgroundColors: ['#FCC841', '#DFEFFC', '#DEDE92', '#DE4331', '#FE9750', '#FCC841']\r\n\t},\r\n\t{\r\n\t\tname: '夜晚',\r\n\t\ttheme: {\r\n\t\t\tcolorBrand: '#3a8fac',\r\n\t\t\tcolorPrimary: '#e6e8e8',\r\n\t\t\tcolorSecondary: '#acadae',\r\n\t\t\tcolorBrandSecondary: '#51d0b9',\r\n\t\t\tcolorBg: '#505050',\r\n\t\t\tcolorBorder: '#8a8a8a5e',\r\n\t\t\tcolorCard: '#34343466',\r\n\t\t\tcolorArticle: '#333c'\r\n\t\t},\r\n\t\tbackgroundColors: ['#669590', '#9ec3e7']\r\n\t}\r\n]\r\n\r\nexport function ColorConfig({ formData, setFormData }: ColorConfigProps) {\r\n\tconst theme = formData.theme ?? {}\r\n\r\n\tconst handleThemeColorChange = (key: keyof typeof DEFAULT_THEME_COLORS, value: string) => {\r\n\t\tsetFormData(prev => ({\r\n\t\t\t...prev,\r\n\t\t\ttheme: {\r\n\t\t\t\t...prev.theme,\r\n\t\t\t\t[key]: value\r\n\t\t\t}\r\n\t\t}))\r\n\t}\r\n\r\n\tconst handleBrandColorChange = (value: string) => {\r\n\t\tsetFormData(prev => ({\r\n\t\t\t...prev,\r\n\t\t\ttheme: {\r\n\t\t\t\t...prev.theme,\r\n\t\t\t\tcolorBrand: value\r\n\t\t\t}\r\n\t\t}))\r\n\t}\r\n\r\n\tconst handleColorChange = (index: number, value: string) => {\r\n\t\tconst newColors = [...formData.backgroundColors]\r\n\t\tnewColors[index] = value\r\n\t\tsetFormData({ ...formData, backgroundColors: newColors })\r\n\t}\r\n\r\n\tconst generateRandomColor = () => {\r\n\t\tconst randomChannel = () => Math.floor(Math.random() * 256)\r\n\t\treturn `#${[randomChannel(), randomChannel(), randomChannel()]\r\n\t\t\t.map(channel => channel.toString(16).padStart(2, '0'))\r\n\t\t\t.join('')\r\n\t\t\t.toUpperCase()}`\r\n\t}\r\n\r\n\tconst handleRandomizeColors = () => {\r\n\t\tconst count = Math.floor(Math.random() * 5) + 4 // 4 ~ 8 个颜色\r\n\t\tconst backgroundColors = Array.from({ length: count }, () => generateRandomColor())\r\n\t\tconst colorBrand = generateRandomColor()\r\n\r\n\t\tsetFormData(prev => ({\r\n\t\t\t...prev,\r\n\t\t\tbackgroundColors,\r\n\t\t\ttheme: {\r\n\t\t\t\t...prev.theme,\r\n\t\t\t\tcolorBrand\r\n\t\t\t}\r\n\t\t}))\r\n\t}\r\n\r\n\tconst handleAddColor = () => {\r\n\t\tsetFormData({\r\n\t\t\t...formData,\r\n\t\t\tbackgroundColors: [...formData.backgroundColors, '#EDDD62']\r\n\t\t})\r\n\t}\r\n\r\n\tconst handleRemoveColor = (index: number) => {\r\n\t\tif (formData.backgroundColors.length > 1) {\r\n\t\t\tconst newColors = formData.backgroundColors.filter((_, i) => i !== index)\r\n\t\t\tsetFormData({ ...formData, backgroundColors: newColors })\r\n\t\t}\r\n\t}\r\n\r\n\tconst handlePresetChange = (preset: ColorPreset) => {\r\n\t\tsetFormData(prev => ({\r\n\t\t\t...prev,\r\n\t\t\tbackgroundColors: [...preset.backgroundColors],\r\n\t\t\ttheme: {\r\n\t\t\t\t...prev.theme,\r\n\t\t\t\t...preset.theme\r\n\t\t\t}\r\n\t\t}))\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className='space-y-6'>\r\n\t\t\t<div>\r\n\t\t\t\t<label className='mb-2 block text-sm font-medium'>基础颜色</label>\r\n\t\t\t\t<div className='grid grid-cols-2 gap-4'>\r\n\t\t\t\t\t<div className='flex items-center gap-3'>\r\n\t\t\t\t\t\t<ColorPicker value={formData.theme?.colorBrand ?? '#35bfab'} onChange={handleBrandColorChange} />\r\n\t\t\t\t\t\t<span className='text-xs'>主题色</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='flex items-center gap-3'>\r\n\t\t\t\t\t\t<ColorPicker\r\n\t\t\t\t\t\t\tvalue={theme.colorBrandSecondary ?? DEFAULT_THEME_COLORS.colorBrandSecondary}\r\n\t\t\t\t\t\t\tonChange={value => handleThemeColorChange('colorBrandSecondary', value)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<span className='text-xs'>次级主题色</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='flex items-center gap-3'>\r\n\t\t\t\t\t\t<ColorPicker value={theme.colorPrimary ?? DEFAULT_THEME_COLORS.colorPrimary} onChange={value => handleThemeColorChange('colorPrimary', value)} />\r\n\t\t\t\t\t\t<span className='text-xs'>主色</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='flex items-center gap-3'>\r\n\t\t\t\t\t\t<ColorPicker\r\n\t\t\t\t\t\t\tvalue={theme.colorSecondary ?? DEFAULT_THEME_COLORS.colorSecondary}\r\n\t\t\t\t\t\t\tonChange={value => handleThemeColorChange('colorSecondary', value)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<span className='text-xs'>次色</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='flex items-center gap-3'>\r\n\t\t\t\t\t\t<ColorPicker value={theme.colorBg ?? DEFAULT_THEME_COLORS.colorBg} onChange={value => handleThemeColorChange('colorBg', value)} />\r\n\t\t\t\t\t\t<span className='text-xs'>背景色</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='flex items-center gap-3'>\r\n\t\t\t\t\t\t<ColorPicker value={theme.colorBorder ?? DEFAULT_THEME_COLORS.colorBorder} onChange={value => handleThemeColorChange('colorBorder', value)} />\r\n\t\t\t\t\t\t<span className='text-xs'>边框色</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='flex items-center gap-3'>\r\n\t\t\t\t\t\t<ColorPicker value={theme.colorCard ?? DEFAULT_THEME_COLORS.colorCard} onChange={value => handleThemeColorChange('colorCard', value)} />\r\n\t\t\t\t\t\t<span className='text-xs'>卡片色</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='flex items-center gap-3'>\r\n\t\t\t\t\t\t<ColorPicker value={theme.colorArticle ?? DEFAULT_THEME_COLORS.colorArticle} onChange={value => handleThemeColorChange('colorArticle', value)} />\r\n\t\t\t\t\t\t<span className='text-xs'>文章背景</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div>\r\n\t\t\t\t<div className='mb-2 flex items-center justify-between gap-3'>\r\n\t\t\t\t\t<label className='block text-sm font-medium'>背景颜色</label>\r\n\t\t\t\t\t<div className='flex gap-2'>\r\n\t\t\t\t\t\t<motion.button\r\n\t\t\t\t\t\t\twhileHover={{ scale: 1.05 }}\r\n\t\t\t\t\t\t\twhileTap={{ scale: 0.95 }}\r\n\t\t\t\t\t\t\tonClick={handleRandomizeColors}\r\n\t\t\t\t\t\t\tclassName='rounded-lg border bg-white/60 px-3 py-1 text-xs whitespace-nowrap'>\r\n\t\t\t\t\t\t\t随机配色\r\n\t\t\t\t\t\t</motion.button>\r\n\t\t\t\t\t\t<motion.button\r\n\t\t\t\t\t\t\twhileHover={{ scale: 1.05 }}\r\n\t\t\t\t\t\t\twhileTap={{ scale: 0.95 }}\r\n\t\t\t\t\t\t\tonClick={handleAddColor}\r\n\t\t\t\t\t\t\tclassName='rounded-lg border bg-white/60 px-3 py-1 text-xs whitespace-nowrap'>\r\n\t\t\t\t\t\t\t+ 添加颜色\r\n\t\t\t\t\t\t</motion.button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='flex gap-3'>\r\n\t\t\t\t\t{formData.backgroundColors.map((color, index) => (\r\n\t\t\t\t\t\t<div key={index} className='flex items-center gap-2'>\r\n\t\t\t\t\t\t\t<div className='group relative'>\r\n\t\t\t\t\t\t\t\t<ColorPicker value={color} onChange={value => handleColorChange(index, value)} />\r\n\t\t\t\t\t\t\t\t{formData.backgroundColors.length > 1 && (\r\n\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => handleRemoveColor(index)}\r\n\t\t\t\t\t\t\t\t\t\tclassName='text-secondary absolute -top-1 -right-2 rounded-lg border bg-white/60 text-xs whitespace-nowrap opacity-0 transition-opacity group-hover:opacity-100'>\r\n\t\t\t\t\t\t\t\t\t\t<XIcon className='size-3' />\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className='flex flex-col gap-3'>\r\n\t\t\t\t{COLOR_PRESETS.map(preset => (\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tkey={preset.name}\r\n\t\t\t\t\t\tonClick={() => handlePresetChange(preset)}\r\n\t\t\t\t\t\tclassName='flex items-center gap-3 rounded-lg border bg-white/60 p-3 transition-colors hover:bg-white/80'>\r\n\t\t\t\t\t\t<div className='flex items-center gap-2'>\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclassName='h-10 w-10 rounded-lg border-2 border-white/20 shadow-sm'\r\n\t\t\t\t\t\t\t\tstyle={{ backgroundColor: preset.theme.colorBrand ?? DEFAULT_THEME_COLORS.colorBrand }}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t{preset.backgroundColors.map((color, index) => (\r\n\t\t\t\t\t\t\t\t<div key={index} className='h-10 w-10 rounded-lg border-2 border-white/20 shadow-sm' style={{ backgroundColor: color }} />\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<span className='text-sm font-medium whitespace-nowrap'>{preset.name}</span>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t))}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3814, "column": 0}, "map": {"version":3,"sources":["file:///E:/qbb/github/blog-public/src/app/%28home%29/config-dialog/home-layout.tsx"],"sourcesContent":["'use client'\r\n\r\nimport type { CardStyles } from '../stores/config-store'\r\n\r\nconst CARD_LABELS: Record<string, string> = {\r\n\tartCard: '首图',\r\n\thiCard: '中心',\r\n\tclockCard: '时钟',\r\n\tcalendarCard: '日历',\r\n\tmusicCard: '音乐',\r\n\tsocialButtons: '联系',\r\n\tshareCard: '分享',\r\n\tarticleCard: '文章',\r\n\twriteButtons: '写作',\r\n\tnavCard: '导航'\r\n}\r\n\r\ninterface HomeLayoutProps {\r\n\tcardStylesData: CardStyles\r\n\tsetCardStylesData: React.Dispatch<React.SetStateAction<CardStyles>>\r\n}\r\n\r\nexport function HomeLayout({ cardStylesData, setCardStylesData }: HomeLayoutProps) {\r\n\treturn (\r\n\t\t<div className='overflow-x-auto'>\r\n\t\t\t<div className='text-secondary text-sm'>（偏移代表相对平面中心的偏移，比如 (0,0) 代表卡牌左上角为屏幕中心）</div>\r\n\t\t\t<table className='mt-3 w-full border-collapse text-sm'>\r\n\t\t\t\t<thead>\r\n\t\t\t\t\t<tr className='border-b text-xs text-gray-500'>\r\n\t\t\t\t\t\t<th className='px-3 py-2 text-left font-medium'>卡片</th>\r\n\t\t\t\t\t\t<th className='px-3 py-2 text-left font-medium'>宽度</th>\r\n\t\t\t\t\t\t<th className='px-3 py-2 text-left font-medium'>高度</th>\r\n\t\t\t\t\t\t<th className='px-3 py-2 text-left font-medium'>显示顺序</th>\r\n\t\t\t\t\t\t<th className='px-3 py-2 text-left font-medium'>横向偏移</th>\r\n\t\t\t\t\t\t<th className='px-3 py-2 text-left font-medium'>纵向偏移</th>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</thead>\r\n\t\t\t\t<tbody>\r\n\t\t\t\t\t{Object.entries(cardStylesData).map(([key, cardStyle]: [string, any]) => (\r\n\t\t\t\t\t\t<tr key={key} className='border-b last:border-0'>\r\n\t\t\t\t\t\t\t<td className='px-3 py-2 align-middle whitespace-nowrap'>{CARD_LABELS[key] ?? key.replace(/([A-Z])/g, ' $1').trim()}</td>\r\n\t\t\t\t\t\t\t<td className='px-3 py-2'>\r\n\t\t\t\t\t\t\t\t{cardStyle.width !== undefined ? (\r\n\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\ttype='number'\r\n\t\t\t\t\t\t\t\t\t\tvalue={cardStyle.width}\r\n\t\t\t\t\t\t\t\t\t\tonChange={e =>\r\n\t\t\t\t\t\t\t\t\t\t\tsetCardStylesData(prev => ({\r\n\t\t\t\t\t\t\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\t\t\t\t\t\t\t[key]: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t...prev[key as keyof CardStyles],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\twidth: parseInt(e.target.value) || 0\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t}))\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tclassName='no-spinner w-full rounded-lg border bg-secondary/10 px-3 py-1.5 text-xs'\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<span className='text-xs text-gray-400'>-</span>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t<td className='px-3 py-2'>\r\n\t\t\t\t\t\t\t\t{cardStyle.height !== undefined ? (\r\n\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\ttype='number'\r\n\t\t\t\t\t\t\t\t\t\tvalue={cardStyle.height}\r\n\t\t\t\t\t\t\t\t\t\tonChange={e =>\r\n\t\t\t\t\t\t\t\t\t\t\tsetCardStylesData(prev => ({\r\n\t\t\t\t\t\t\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\t\t\t\t\t\t\t[key]: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t...prev[key as keyof CardStyles],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\theight: parseInt(e.target.value) || 0\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t}))\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tclassName='no-spinner w-full rounded-lg border bg-secondary/10 px-3 py-1.5 text-xs'\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<span className='text-xs text-gray-400'>-</span>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t<td className='px-3 py-2'>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype='number'\r\n\t\t\t\t\t\t\t\t\tvalue={cardStyle.order}\r\n\t\t\t\t\t\t\t\t\tonChange={e =>\r\n\t\t\t\t\t\t\t\t\t\tsetCardStylesData(prev => ({\r\n\t\t\t\t\t\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\t\t\t\t\t\t[key]: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t...prev[key as keyof CardStyles],\r\n\t\t\t\t\t\t\t\t\t\t\t\torder: parseInt(e.target.value) || 0\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}))\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tclassName='w-full rounded-lg border bg-secondary/10 px-3 py-1.5 text-xs'\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t<td className='px-3 py-2'>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype='number'\r\n\t\t\t\t\t\t\t\t\tvalue={cardStyle.offsetX ?? ''}\r\n\t\t\t\t\t\t\t\t\tplaceholder='null'\r\n\t\t\t\t\t\t\t\t\tonChange={e => {\r\n\t\t\t\t\t\t\t\t\t\tconst value = e.target.value === '' ? null : parseInt(e.target.value) || 0\r\n\t\t\t\t\t\t\t\t\t\tsetCardStylesData(prev => ({\r\n\t\t\t\t\t\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\t\t\t\t\t\t[key]: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t...prev[key as keyof CardStyles],\r\n\t\t\t\t\t\t\t\t\t\t\t\toffsetX: value\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}))\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tclassName='no-spinner w-full rounded-lg border bg-secondary/10 px-3 py-1.5 text-xs'\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t<td className='px-3 py-2'>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype='number'\r\n\t\t\t\t\t\t\t\t\tvalue={cardStyle.offsetY ?? ''}\r\n\t\t\t\t\t\t\t\t\tplaceholder='null'\r\n\t\t\t\t\t\t\t\t\tonChange={e => {\r\n\t\t\t\t\t\t\t\t\t\tconst value = e.target.value === '' ? null : parseInt(e.target.value) || 0\r\n\t\t\t\t\t\t\t\t\t\tsetCardStylesData(prev => ({\r\n\t\t\t\t\t\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\t\t\t\t\t\t[key]: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t...prev[key as keyof CardStyles],\r\n\t\t\t\t\t\t\t\t\t\t\t\toffsetY: value\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}))\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tclassName='no-spinner w-full rounded-lg border bg-secondary/10 px-3 py-1.5 text-xs'\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</tbody>\r\n\t\t\t</table>\r\n\t\t</div>\r\n\t)\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 4088, "column": 0}, "map": {"version":3,"sources":["file:///E:/qbb/github/blog-public/src/app/%28home%29/config-dialog/index.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useState, useRef, useEffect } from 'react'\r\nimport { motion } from 'motion/react'\r\nimport { toast } from 'sonner'\r\nimport { DialogModal } from '@/components/dialog-modal'\r\nimport { useAuthStore } from '@/hooks/use-auth'\r\nimport { useConfigStore } from '../stores/config-store'\r\nimport { pushSiteContent } from '../services/push-site-content'\r\nimport type { SiteContent, CardStyles } from '../stores/config-store'\r\nimport { SiteSettings, type FileItem, type ArtImageUploads } from './site-settings'\r\nimport { ColorConfig } from './color-config'\r\nimport { HomeLayout } from './home-layout'\r\n\r\ninterface ConfigDialogProps {\r\n\topen: boolean\r\n\tonClose: () => void\r\n}\r\n\r\ntype TabType = 'site' | 'color' | 'layout'\r\n\r\nexport default function ConfigDialog({ open, onClose }: ConfigDialogProps) {\r\n\tconst { isAuth, setPrivateKey } = useAuthStore()\r\n\tconst { siteContent, setSiteContent, cardStyles, setCardStyles, regenerateBubbles } = useConfigStore()\r\n\tconst [formData, setFormData] = useState<SiteContent>(siteContent)\r\n\tconst [cardStylesData, setCardStylesData] = useState<CardStyles>(cardStyles)\r\n\tconst [originalData, setOriginalData] = useState<SiteContent>(siteContent)\r\n\tconst [originalCardStyles, setOriginalCardStyles] = useState<CardStyles>(cardStyles)\r\n\tconst [isSaving, setIsSaving] = useState(false)\r\n\tconst [activeTab, setActiveTab] = useState<TabType>('site')\r\n\tconst keyInputRef = useRef<HTMLInputElement>(null)\r\n\tconst [faviconItem, setFaviconItem] = useState<FileItem | null>(null)\r\n\tconst [avatarItem, setAvatarItem] = useState<FileItem | null>(null)\r\n\tconst [artImageUploads, setArtImageUploads] = useState<ArtImageUploads>({})\r\n\r\n\tuseEffect(() => {\r\n\t\tif (open) {\r\n\t\t\tconst current = { ...siteContent }\r\n\t\t\tconst currentCardStyles = { ...cardStyles }\r\n\t\t\tsetFormData(current)\r\n\t\t\tsetCardStylesData(currentCardStyles)\r\n\t\t\tsetOriginalData(current)\r\n\t\t\tsetOriginalCardStyles(currentCardStyles)\r\n\t\t\tsetFaviconItem(null)\r\n\t\t\tsetAvatarItem(null)\r\n\t\t\tsetArtImageUploads({})\r\n\t\t\tsetActiveTab('site')\r\n\t\t}\r\n\t}, [open, siteContent, cardStyles])\r\n\r\n\tuseEffect(() => {\r\n\t\treturn () => {\r\n\t\t\t// Clean up preview URLs on unmount\r\n\t\t\tif (faviconItem?.type === 'file') {\r\n\t\t\t\tURL.revokeObjectURL(faviconItem.previewUrl)\r\n\t\t\t}\r\n\t\t\tif (avatarItem?.type === 'file') {\r\n\t\t\t\tURL.revokeObjectURL(avatarItem.previewUrl)\r\n\t\t\t}\r\n\t\t\tObject.values(artImageUploads).forEach(item => {\r\n\t\t\t\tif (item.type === 'file') {\r\n\t\t\t\t\tURL.revokeObjectURL(item.previewUrl)\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t}\r\n\t}, [faviconItem, avatarItem, artImageUploads])\r\n\r\n\tconst handleChoosePrivateKey = async (file: File) => {\r\n\t\ttry {\r\n\t\t\tconst text = await file.text()\r\n\t\t\tsetPrivateKey(text)\r\n\t\t\tawait handleSave()\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error('Failed to read private key:', error)\r\n\t\t\ttoast.error('读取密钥文件失败')\r\n\t\t}\r\n\t}\r\n\r\n\tconst handleSaveClick = () => {\r\n\t\tif (!isAuth) {\r\n\t\t\tkeyInputRef.current?.click()\r\n\t\t} else {\r\n\t\t\thandleSave()\r\n\t\t}\r\n\t}\r\n\r\n\tconst handleSave = async () => {\r\n\t\tsetIsSaving(true)\r\n\t\ttry {\r\n\t\t\t// Calculate removed art images so that we can delete files in repo\r\n\t\t\tconst originalArtImages = originalData.artImages ?? []\r\n\t\t\tconst currentArtImages = formData.artImages ?? []\r\n\t\t\tconst removedArtImages = originalArtImages.filter(orig => !currentArtImages.some(current => current.id === orig.id))\r\n\r\n\t\t\tawait pushSiteContent(formData, cardStylesData, faviconItem, avatarItem, artImageUploads, removedArtImages)\r\n\t\t\tsetSiteContent(formData)\r\n\t\t\tsetCardStyles(cardStylesData)\r\n\t\t\tupdateThemeVariables(formData.theme)\r\n\t\t\tsetFaviconItem(null)\r\n\t\t\tsetAvatarItem(null)\r\n\t\t\tsetArtImageUploads({})\r\n\t\t\tonClose()\r\n\t\t} catch (error: any) {\r\n\t\t\tconsole.error('Failed to save:', error)\r\n\t\t\ttoast.error(`保存失败: ${error?.message || '未知错误'}`)\r\n\t\t} finally {\r\n\t\t\tsetIsSaving(false)\r\n\t\t}\r\n\t}\r\n\r\n\tconst handleCancel = () => {\r\n\t\t// Clean up preview URLs\r\n\t\tif (faviconItem?.type === 'file') {\r\n\t\t\tURL.revokeObjectURL(faviconItem.previewUrl)\r\n\t\t}\r\n\t\tif (avatarItem?.type === 'file') {\r\n\t\t\tURL.revokeObjectURL(avatarItem.previewUrl)\r\n\t\t}\r\n\t\tObject.values(artImageUploads).forEach(item => {\r\n\t\t\tif (item.type === 'file') {\r\n\t\t\t\tURL.revokeObjectURL(item.previewUrl)\r\n\t\t\t}\r\n\t\t})\r\n\t\t// Restore to the state when dialog was opened\r\n\t\tsetSiteContent(originalData)\r\n\t\tsetCardStyles(originalCardStyles)\r\n\t\tregenerateBubbles()\r\n\t\t// Restore document title and meta if they were changed by preview\r\n\t\tif (typeof document !== 'undefined') {\r\n\t\t\tdocument.title = originalData.meta.title\r\n\t\t\tconst metaDescription = document.querySelector('meta[name=\"description\"]')\r\n\t\t\tif (metaDescription) {\r\n\t\t\t\tmetaDescription.setAttribute('content', originalData.meta.description)\r\n\t\t\t}\r\n\t\t}\r\n\t\tupdateThemeVariables(originalData.theme)\r\n\t\tsetFaviconItem(null)\r\n\t\tsetAvatarItem(null)\r\n\t\tsetArtImageUploads({})\r\n\t\tonClose()\r\n\t}\r\n\r\n\tconst updateThemeVariables = (theme?: SiteContent['theme']) => {\r\n\t\tif (typeof document === 'undefined' || !theme) return\r\n\r\n\t\tconst { colorBrand, colorBrandSecondary, colorPrimary, colorSecondary, colorBg, colorBorder, colorCard, colorArticle } = theme\r\n\r\n\t\tconst root = document.documentElement\r\n\r\n\t\tif (colorBrand) root.style.setProperty('--color-brand', colorBrand)\r\n\t\tif (colorBrandSecondary) root.style.setProperty('--color-brand-secondary', colorBrandSecondary)\r\n\t\tif (colorPrimary) root.style.setProperty('--color-primary', colorPrimary)\r\n\t\tif (colorSecondary) root.style.setProperty('--color-secondary', colorSecondary)\r\n\t\tif (colorBg) root.style.setProperty('--color-bg', colorBg)\r\n\t\tif (colorBorder) root.style.setProperty('--color-border', colorBorder)\r\n\t\tif (colorCard) root.style.setProperty('--color-card', colorCard)\r\n\t\tif (colorArticle) root.style.setProperty('--color-article', colorArticle)\r\n\t}\r\n\r\n\tconst handlePreview = () => {\r\n\t\tconsole.log('formData', formData)\r\n\t\tsetSiteContent(formData)\r\n\t\tsetCardStyles(cardStylesData)\r\n\t\tregenerateBubbles()\r\n\r\n\t\t// Update document title\r\n\t\tif (typeof document !== 'undefined') {\r\n\t\t\tdocument.title = formData.meta.title\r\n\t\t\tconst metaDescription = document.querySelector('meta[name=\"description\"]')\r\n\t\t\tif (metaDescription) {\r\n\t\t\t\tmetaDescription.setAttribute('content', formData.meta.description)\r\n\t\t\t}\r\n\t\t}\r\n\t\tupdateThemeVariables(formData.theme)\r\n\r\n\t\tonClose()\r\n\t}\r\n\r\n\tconst buttonText = isAuth ? '保存' : '导入密钥'\r\n\r\n\tconst tabs: { id: TabType; label: string }[] = [\r\n\t\t{ id: 'site', label: '网站设置' },\r\n\t\t{ id: 'color', label: '色彩配置' },\r\n\t\t{ id: 'layout', label: '首页布局' }\r\n\t]\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<input\r\n\t\t\t\tref={keyInputRef}\r\n\t\t\t\ttype='file'\r\n\t\t\t\taccept='.pem'\r\n\t\t\t\tclassName='hidden'\r\n\t\t\t\tonChange={async e => {\r\n\t\t\t\t\tconst f = e.target.files?.[0]\r\n\t\t\t\t\tif (f) await handleChoosePrivateKey(f)\r\n\t\t\t\t\tif (e.currentTarget) e.currentTarget.value = ''\r\n\t\t\t\t}}\r\n\t\t\t/>\r\n\r\n\t\t\t<DialogModal open={open} onClose={handleCancel} className='card scrollbar-none max-h-[90vh] min-h-[600px] w-[640px] overflow-y-auto'>\r\n\t\t\t\t<div className='mb-6 flex items-center justify-between'>\r\n\t\t\t\t\t<div className='flex gap-1'>\r\n\t\t\t\t\t\t{tabs.map(tab => (\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tkey={tab.id}\r\n\t\t\t\t\t\t\t\tonClick={() => setActiveTab(tab.id)}\r\n\t\t\t\t\t\t\t\tclassName={`relative px-4 py-2 text-sm font-medium transition-colors ${\r\n\t\t\t\t\t\t\t\t\tactiveTab === tab.id ? 'text-brand' : 'text-secondary hover:text-primary'\r\n\t\t\t\t\t\t\t\t}`}>\r\n\t\t\t\t\t\t\t\t{tab.label}\r\n\t\t\t\t\t\t\t\t{activeTab === tab.id && <div className='bg-brand absolute right-0 bottom-0 left-0 h-0.5' />}\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='flex gap-3'>\r\n\t\t\t\t\t\t<motion.button\r\n\t\t\t\t\t\t\twhileHover={{ scale: 1.05 }}\r\n\t\t\t\t\t\t\twhileTap={{ scale: 0.95 }}\r\n\t\t\t\t\t\t\tonClick={handlePreview}\r\n\t\t\t\t\t\t\tclassName='rounded-xl border bg-white/60 px-6 py-2 text-sm'>\r\n\t\t\t\t\t\t\t预览\r\n\t\t\t\t\t\t</motion.button>\r\n\t\t\t\t\t\t<motion.button\r\n\t\t\t\t\t\t\twhileHover={{ scale: 1.05 }}\r\n\t\t\t\t\t\t\twhileTap={{ scale: 0.95 }}\r\n\t\t\t\t\t\t\tonClick={handleCancel}\r\n\t\t\t\t\t\t\tdisabled={isSaving}\r\n\t\t\t\t\t\t\tclassName='rounded-xl border bg-white/60 px-6 py-2 text-sm'>\r\n\t\t\t\t\t\t\t取消\r\n\t\t\t\t\t\t</motion.button>\r\n\t\t\t\t\t\t<motion.button whileHover={{ scale: 1.05 }} whileTap={{ scale: 0.95 }} onClick={handleSaveClick} disabled={isSaving} className='brand-btn px-6'>\r\n\t\t\t\t\t\t\t{isSaving ? '保存中...' : buttonText}\r\n\t\t\t\t\t\t</motion.button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className='min-h-[200px]'>\r\n\t\t\t\t\t{activeTab === 'site' && (\r\n\t\t\t\t\t\t<SiteSettings\r\n\t\t\t\t\t\t\tformData={formData}\r\n\t\t\t\t\t\t\tsetFormData={setFormData}\r\n\t\t\t\t\t\t\tfaviconItem={faviconItem}\r\n\t\t\t\t\t\t\tsetFaviconItem={setFaviconItem}\r\n\t\t\t\t\t\t\tavatarItem={avatarItem}\r\n\t\t\t\t\t\t\tsetAvatarItem={setAvatarItem}\r\n\t\t\t\t\t\t\tartImageUploads={artImageUploads}\r\n\t\t\t\t\t\t\tsetArtImageUploads={setArtImageUploads}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{activeTab === 'color' && <ColorConfig formData={formData} setFormData={setFormData} />}\r\n\t\t\t\t\t{activeTab === 'layout' && <HomeLayout cardStylesData={cardStylesData} setCardStylesData={setCardStylesData} />}\r\n\t\t\t\t</div>\r\n\t\t\t</DialogModal>\r\n\t\t</>\r\n\t)\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 4448, "column": 0}, "map": {"version":3,"sources":["file:///E:/qbb/github/blog-public/src/app/%28home%29/write-buttons.tsx"],"sourcesContent":["import { ANIMATION_DELAY, CARD_SPACING } from '@/consts'\r\nimport PenSVG from '@/svgs/pen.svg'\r\nimport { motion } from 'motion/react'\r\nimport { useEffect, useState } from 'react'\r\nimport { useConfigStore } from './stores/config-store'\r\nimport { useCenterStore } from '@/hooks/use-center'\r\nimport { useRouter } from 'next/navigation'\r\nimport { useSize } from '@/hooks/use-size'\r\nimport DotsSVG from '@/svgs/dots.svg'\r\nimport ConfigDialog from './config-dialog/index'\r\n\r\nexport default function WriteButton() {\r\n\tconst center = useCenterStore()\r\n\tconst { cardStyles } = useConfigStore()\r\n\tconst { maxSM } = useSize()\r\n\tconst router = useRouter()\r\n\tconst [isConfigOpen, setIsConfigOpen] = useState(false)\r\n\tconst styles = cardStyles.writeButtons\r\n\tconst hiCardStyles = cardStyles.hiCard\r\n\tconst clockCardStyles = cardStyles.clockCard\r\n\r\n\tconst [show, setShow] = useState(false)\r\n\tuseEffect(() => {\r\n\t\tsetTimeout(() => setShow(true), styles.order * ANIMATION_DELAY * 1000)\r\n\t}, [styles.order])\r\n\r\n\tif (maxSM) return null\r\n\r\n\tif (!show) return null\r\n\r\n\tconst x = styles.offsetX !== null ? center.x + styles.offsetX : center.x + CARD_SPACING + hiCardStyles.width / 2\r\n\tconst y = styles.offsetY !== null ? center.y + styles.offsetY : center.y - clockCardStyles.offset - styles.height - CARD_SPACING / 2 - clockCardStyles.height\r\n\r\n\treturn (\r\n\t\t<motion.div initial={{ left: x, top: y }} animate={{ left: x, top: y }} className='absolute flex items-center gap-4'>\r\n\t\t\t<motion.button\r\n\t\t\t\tonClick={() => router.push('/write')}\r\n\t\t\t\tinitial={{ opacity: 0, scale: 0.6 }}\r\n\t\t\t\tanimate={{ opacity: 1, scale: 1 }}\r\n\t\t\t\twhileHover={{ scale: 1.05 }}\r\n\t\t\t\twhileTap={{ scale: 0.95 }}\r\n\t\t\t\tstyle={{ boxShadow: 'inset 0 0 12px rgba(255, 255, 255, 0.4)' }}\r\n\t\t\t\tclassName='brand-btn whitespace-nowrap'>\r\n\t\t\t\t<PenSVG />\r\n\t\t\t\t<span>写文章</span>\r\n\t\t\t</motion.button>\r\n\t\t\t<motion.button\r\n\t\t\t\tinitial={{ opacity: 0, scale: 0.6 }}\r\n\t\t\t\tanimate={{ opacity: 1, scale: 1 }}\r\n\t\t\t\twhileHover={{ scale: 1.05 }}\r\n\t\t\t\twhileTap={{ scale: 0.95 }}\r\n\t\t\t\tonClick={() => setIsConfigOpen(true)}\r\n\t\t\t\tclassName='p-2'>\r\n\t\t\t\t<DotsSVG className='h-6 w-6' />\r\n\t\t\t</motion.button>\r\n\t\t\t<ConfigDialog open={isConfigOpen} onClose={() => setIsConfigOpen(false)} />\r\n\t\t</motion.div>\r\n\t)\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AAEe,SAAS;IACvB,MAAM,SAAS,IAAA,+IAAc;IAC7B,MAAM,EAAE,UAAU,EAAE,GAAG,IAAA,qKAAc;IACrC,MAAM,EAAE,KAAK,EAAE,GAAG,IAAA,sIAAO;IACzB,MAAM,SAAS,IAAA,8PAAS;IACxB,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,gUAAQ,EAAC;IACjD,MAAM,SAAS,WAAW,YAAY;IACtC,MAAM,eAAe,WAAW,MAAM;IACtC,MAAM,kBAAkB,WAAW,SAAS;IAE5C,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,gUAAQ,EAAC;IACjC,IAAA,iUAAS,EAAC;QACT,WAAW,IAAM,QAAQ,OAAO,OAAO,KAAK,GAAG,gIAAe,GAAG;IAClE,GAAG;QAAC,OAAO,KAAK;KAAC;IAEjB,IAAI,OAAO,OAAO;IAElB,IAAI,CAAC,MAAM,OAAO;IAElB,MAAM,IAAI,OAAO,OAAO,KAAK,OAAO,OAAO,CAAC,GAAG,OAAO,OAAO,GAAG,OAAO,CAAC,GAAG,6HAAY,GAAG,aAAa,KAAK,GAAG;IAC/G,MAAM,IAAI,OAAO,OAAO,KAAK,OAAO,OAAO,CAAC,GAAG,OAAO,OAAO,GAAG,OAAO,CAAC,GAAG,gBAAgB,MAAM,GAAG,OAAO,MAAM,GAAG,6HAAY,GAAG,IAAI,gBAAgB,MAAM;IAE7J,qBACC,6VAAC,0SAAM,CAAC,GAAG;QAAC,SAAS;YAAE,MAAM;YAAG,KAAK;QAAE;QAAG,SAAS;YAAE,MAAM;YAAG,KAAK;QAAE;QAAG,WAAU;;0BACjF,6VAAC,0SAAM,CAAC,MAAM;gBACb,SAAS,IAAM,OAAO,IAAI,CAAC;gBAC3B,SAAS;oBAAE,SAAS;oBAAG,OAAO;gBAAI;gBAClC,SAAS;oBAAE,SAAS;oBAAG,OAAO;gBAAE;gBAChC,YAAY;oBAAE,OAAO;gBAAK;gBAC1B,UAAU;oBAAE,OAAO;gBAAK;gBACxB,OAAO;oBAAE,WAAW;gBAA0C;gBAC9D,WAAU;;kCACV,6VAAC,oIAAM;;;;;kCACP,6VAAC;kCAAK;;;;;;;;;;;;0BAEP,6VAAC,0SAAM,CAAC,MAAM;gBACb,SAAS;oBAAE,SAAS;oBAAG,OAAO;gBAAI;gBAClC,SAAS;oBAAE,SAAS;oBAAG,OAAO;gBAAE;gBAChC,YAAY;oBAAE,OAAO;gBAAK;gBAC1B,UAAU;oBAAE,OAAO;gBAAK;gBACxB,SAAS,IAAM,gBAAgB;gBAC/B,WAAU;0BACV,cAAA,6VAAC,qIAAO;oBAAC,WAAU;;;;;;;;;;;0BAEpB,6VAAC,+JAAY;gBAAC,MAAM;gBAAc,SAAS,IAAM,gBAAgB;;;;;;;;;;;;AAGpE","debugId":null}},
    {"offset": {"line": 4591, "column": 0}, "map": {"version":3,"sources":["file:///E:/qbb/github/blog-public/src/components/like-button.tsx"],"sourcesContent":["import { useCallback, useEffect, useState } from 'react'\r\nimport useSWR from 'swr'\r\nimport { motion, AnimatePresence } from 'motion/react'\r\nimport { Heart } from 'lucide-react'\r\nimport clsx from 'clsx'\r\nimport { cn } from '@/lib/utils'\r\nimport { toast } from 'sonner'\r\n\r\ntype LikeButtonProps = {\r\n\tslug?: string\r\n\tclassName?: string\r\n\tdelay?: number\r\n}\r\n\r\nconst ENDPOINT = 'https://blog-liker.yysuni1001.workers.dev/api/like'\r\n\r\nexport default function LikeButton({ slug = 'yysuni', delay, className }: LikeButtonProps) {\r\n\tconst [liked, setLiked] = useState(false)\r\n\tconst [show, setShow] = useState(false)\r\n\tconst [justLiked, setJustLiked] = useState(false)\r\n\tconst [particles, setParticles] = useState<Array<{ id: number; x: number; y: number }>>([])\r\n\r\n\tuseEffect(() => {\r\n\t\tsetTimeout(() => {\r\n\t\t\tsetShow(true)\r\n\t\t}, delay || 1000)\r\n\t}, [])\r\n\r\n\tuseEffect(() => {\r\n\t\tif (justLiked) {\r\n\t\t\tconst timer = setTimeout(() => setJustLiked(false), 600)\r\n\t\t\treturn () => clearTimeout(timer)\r\n\t\t}\r\n\t}, [justLiked])\r\n\r\n\tconst fetcher = useCallback(async (url: string): Promise<number | null> => {\r\n\t\tconst res = await fetch(url, { method: 'GET', cache: 'no-store' })\r\n\t\tif (!res.ok) return null\r\n\t\tconst data = await res.json().catch(() => ({}))\r\n\t\treturn typeof data?.count === 'number' ? data.count : null\r\n\t}, [])\r\n\r\n\tconst { data: fetchedCount, mutate } = useSWR(slug ? `${ENDPOINT}?slug=${encodeURIComponent(slug)}` : null, fetcher, {\r\n\t\trevalidateOnFocus: false,\r\n\t\tdedupingInterval: 1000 * 10\r\n\t})\r\n\r\n\tconst handleLike = useCallback(async () => {\r\n\t\tif (!slug) return\r\n\t\tsetLiked(true)\r\n\t\tsetJustLiked(true)\r\n\r\n\t\t// Create particle effects\r\n\t\tconst newParticles = Array.from({ length: 6 }, (_, i) => ({\r\n\t\t\tid: Date.now() + i,\r\n\t\t\tx: Math.random() * 60 - 30,\r\n\t\t\ty: Math.random() * 60 - 30\r\n\t\t}))\r\n\t\tsetParticles(newParticles)\r\n\r\n\t\t// Clear particles after animation\r\n\t\tsetTimeout(() => setParticles([]), 1000)\r\n\r\n\t\ttry {\r\n\t\t\tconst url = `${ENDPOINT}?slug=${encodeURIComponent(slug)}`\r\n\t\t\tconst res = await fetch(url, { method: 'POST' })\r\n\t\t\tconst data = await res.json().catch(() => ({}))\r\n\t\t\tif (data.reason == 'rate_limited') toast('谢谢啦😘，今天已经不能再点赞啦💕')\r\n\t\t\tconst value = typeof data?.count === 'number' ? data.count : (fetchedCount ?? 0) + 1\r\n\t\t\tawait mutate(value, { revalidate: false })\r\n\t\t} catch {\r\n\t\t\t// ignore\r\n\t\t}\r\n\t}, [slug, fetchedCount, mutate])\r\n\r\n\tconst count = typeof fetchedCount === 'number' ? fetchedCount : null\r\n\r\n\tif (show)\r\n\t\treturn (\r\n\t\t\t<motion.button\r\n\t\t\t\tinitial={{ opacity: 0, scale: 0.6 }}\r\n\t\t\t\tanimate={{ opacity: 1, scale: 1 }}\r\n\t\t\t\twhileHover={{ scale: 1.05 }}\r\n\t\t\t\twhileTap={{ scale: 0.95 }}\r\n\t\t\t\taria-label='Like this post'\r\n\t\t\t\tonClick={handleLike}\r\n\t\t\t\tclassName={clsx('card heartbeat-container relative overflow-visible rounded-full p-3', className)}>\r\n\t\t\t\t<AnimatePresence>\r\n\t\t\t\t\t{particles.map(particle => (\r\n\t\t\t\t\t\t<motion.div\r\n\t\t\t\t\t\t\tkey={particle.id}\r\n\t\t\t\t\t\t\tclassName='pointer-events-none absolute inset-0 flex items-center justify-center'\r\n\t\t\t\t\t\t\tinitial={{ opacity: 1, scale: 0, x: 0, y: 0 }}\r\n\t\t\t\t\t\t\tanimate={{\r\n\t\t\t\t\t\t\t\topacity: [1, 1, 0],\r\n\t\t\t\t\t\t\t\tscale: [0, 1.2, 0.8],\r\n\t\t\t\t\t\t\t\tx: particle.x,\r\n\t\t\t\t\t\t\t\ty: particle.y\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\texit={{ opacity: 0 }}\r\n\t\t\t\t\t\t\ttransition={{ duration: 0.8, ease: 'easeOut' }}>\r\n\t\t\t\t\t\t\t<Heart className='fill-rose-400 text-rose-400' size={12} />\r\n\t\t\t\t\t\t</motion.div>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</AnimatePresence>\r\n\r\n\t\t\t\t{typeof count === 'number' && (\r\n\t\t\t\t\t<motion.span\r\n\t\t\t\t\t\tinitial={{ scale: 0.4 }}\r\n\t\t\t\t\t\tanimate={{ scale: 1 }}\r\n\t\t\t\t\t\tclassName={cn(\r\n\t\t\t\t\t\t\t'absolute -top-2 left-9 min-w-6 rounded-full px-1.5 py-1 text-center text-xs text-white tabular-nums',\r\n\t\t\t\t\t\t\tliked ? 'bg-rose-400' : 'bg-gray-300'\r\n\t\t\t\t\t\t)}>\r\n\t\t\t\t\t\t{count}\r\n\t\t\t\t\t</motion.span>\r\n\t\t\t\t)}\r\n\t\t\t\t<motion.div animate={justLiked ? { scale: [1, 1.4, 1], rotate: [0, -10, 10, 0] } : {}} transition={{ duration: 0.6, ease: 'easeOut' }}>\r\n\t\t\t\t\t<Heart className={clsx('heartbeat', liked ? 'fill-rose-400 text-rose-400' : 'fill-rose-200 text-rose-200')} size={28} />\r\n\t\t\t\t</motion.div>\r\n\t\t\t</motion.button>\r\n\t\t)\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;;;;;;;;;AAQA,MAAM,WAAW;AAEF,SAAS,WAAW,EAAE,OAAO,QAAQ,EAAE,KAAK,EAAE,SAAS,EAAmB;IACxF,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,gUAAQ,EAAC;IACnC,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,gUAAQ,EAAC;IACjC,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,gUAAQ,EAAC;IAC3C,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,gUAAQ,EAA8C,EAAE;IAE1F,IAAA,iUAAS,EAAC;QACT,WAAW;YACV,QAAQ;QACT,GAAG,SAAS;IACb,GAAG,EAAE;IAEL,IAAA,iUAAS,EAAC;QACT,IAAI,WAAW;YACd,MAAM,QAAQ,WAAW,IAAM,aAAa,QAAQ;YACpD,OAAO,IAAM,aAAa;QAC3B;IACD,GAAG;QAAC;KAAU;IAEd,MAAM,UAAU,IAAA,mUAAW,EAAC,OAAO;QAClC,MAAM,MAAM,MAAM,MAAM,KAAK;YAAE,QAAQ;YAAO,OAAO;QAAW;QAChE,IAAI,CAAC,IAAI,EAAE,EAAE,OAAO;QACpB,MAAM,OAAO,MAAM,IAAI,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC,CAAC,CAAC;QAC7C,OAAO,OAAO,MAAM,UAAU,WAAW,KAAK,KAAK,GAAG;IACvD,GAAG,EAAE;IAEL,MAAM,EAAE,MAAM,YAAY,EAAE,MAAM,EAAE,GAAG,IAAA,+OAAM,EAAC,OAAO,GAAG,SAAS,MAAM,EAAE,mBAAmB,OAAO,GAAG,MAAM,SAAS;QACpH,mBAAmB;QACnB,kBAAkB,OAAO;IAC1B;IAEA,MAAM,aAAa,IAAA,mUAAW,EAAC;QAC9B,IAAI,CAAC,MAAM;QACX,SAAS;QACT,aAAa;QAEb,0BAA0B;QAC1B,MAAM,eAAe,MAAM,IAAI,CAAC;YAAE,QAAQ;QAAE,GAAG,CAAC,GAAG,IAAM,CAAC;gBACzD,IAAI,KAAK,GAAG,KAAK;gBACjB,GAAG,KAAK,MAAM,KAAK,KAAK;gBACxB,GAAG,KAAK,MAAM,KAAK,KAAK;YACzB,CAAC;QACD,aAAa;QAEb,kCAAkC;QAClC,WAAW,IAAM,aAAa,EAAE,GAAG;QAEnC,IAAI;YACH,MAAM,MAAM,GAAG,SAAS,MAAM,EAAE,mBAAmB,OAAO;YAC1D,MAAM,MAAM,MAAM,MAAM,KAAK;gBAAE,QAAQ;YAAO;YAC9C,MAAM,OAAO,MAAM,IAAI,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC,CAAC,CAAC;YAC7C,IAAI,KAAK,MAAM,IAAI,gBAAgB,IAAA,iRAAK,EAAC;YACzC,MAAM,QAAQ,OAAO,MAAM,UAAU,WAAW,KAAK,KAAK,GAAG,CAAC,gBAAgB,CAAC,IAAI;YACnF,MAAM,OAAO,OAAO;gBAAE,YAAY;YAAM;QACzC,EAAE,OAAM;QACP,SAAS;QACV;IACD,GAAG;QAAC;QAAM;QAAc;KAAO;IAE/B,MAAM,QAAQ,OAAO,iBAAiB,WAAW,eAAe;IAEhE,IAAI,MACH,qBACC,6VAAC,0SAAM,CAAC,MAAM;QACb,SAAS;YAAE,SAAS;YAAG,OAAO;QAAI;QAClC,SAAS;YAAE,SAAS;YAAG,OAAO;QAAE;QAChC,YAAY;YAAE,OAAO;QAAK;QAC1B,UAAU;YAAE,OAAO;QAAK;QACxB,cAAW;QACX,SAAS;QACT,WAAW,IAAA,iMAAI,EAAC,uEAAuE;;0BACvF,6VAAC,kTAAe;0BACd,UAAU,GAAG,CAAC,CAAA,yBACd,6VAAC,0SAAM,CAAC,GAAG;wBAEV,WAAU;wBACV,SAAS;4BAAE,SAAS;4BAAG,OAAO;4BAAG,GAAG;4BAAG,GAAG;wBAAE;wBAC5C,SAAS;4BACR,SAAS;gCAAC;gCAAG;gCAAG;6BAAE;4BAClB,OAAO;gCAAC;gCAAG;gCAAK;6BAAI;4BACpB,GAAG,SAAS,CAAC;4BACb,GAAG,SAAS,CAAC;wBACd;wBACA,MAAM;4BAAE,SAAS;wBAAE;wBACnB,YAAY;4BAAE,UAAU;4BAAK,MAAM;wBAAU;kCAC7C,cAAA,6VAAC,iSAAK;4BAAC,WAAU;4BAA8B,MAAM;;;;;;uBAXhD,SAAS,EAAE;;;;;;;;;;YAgBlB,OAAO,UAAU,0BACjB,6VAAC,0SAAM,CAAC,IAAI;gBACX,SAAS;oBAAE,OAAO;gBAAI;gBACtB,SAAS;oBAAE,OAAO;gBAAE;gBACpB,WAAW,IAAA,yHAAE,EACZ,uGACA,QAAQ,gBAAgB;0BAExB;;;;;;0BAGH,6VAAC,0SAAM,CAAC,GAAG;gBAAC,SAAS,YAAY;oBAAE,OAAO;wBAAC;wBAAG;wBAAK;qBAAE;oBAAE,QAAQ;wBAAC;wBAAG,CAAC;wBAAI;wBAAI;qBAAE;gBAAC,IAAI,CAAC;gBAAG,YAAY;oBAAE,UAAU;oBAAK,MAAM;gBAAU;0BACnI,cAAA,6VAAC,iSAAK;oBAAC,WAAW,IAAA,iMAAI,EAAC,aAAa,QAAQ,gCAAgC;oBAAgC,MAAM;;;;;;;;;;;;;;;;;AAIvH","debugId":null}},
    {"offset": {"line": 4802, "column": 0}, "map": {"version":3,"sources":["file:///E:/qbb/github/blog-public/src/app/%28home%29/like-position.tsx"],"sourcesContent":["import LikeButton from '@/components/like-button'\r\nimport { ANIMATION_DELAY, CARD_SPACING } from '@/consts'\r\nimport { motion } from 'motion/react'\r\nimport { useCenterStore } from '@/hooks/use-center'\r\nimport { useConfigStore } from './stores/config-store'\r\n\r\nexport default function LikePosition() {\r\n\tconst center = useCenterStore()\r\n\tconst { cardStyles } = useConfigStore()\r\n\tconst hiCardStyles = cardStyles.hiCard\r\n\tconst socialButtonsStyles = cardStyles.socialButtons\r\n\tconst musicCardStyles = cardStyles.musicCard\r\n\tconst shareCardStyles = cardStyles.shareCard\r\n\r\n\tconst left = center.x + hiCardStyles.width / 2 - socialButtonsStyles.width + shareCardStyles.width + CARD_SPACING\r\n\tconst top = center.y + hiCardStyles.height / 2 + CARD_SPACING + socialButtonsStyles.height + CARD_SPACING + musicCardStyles.height + CARD_SPACING\r\n\r\n\treturn (\r\n\t\t<motion.div className='absolute max-sm:static' initial={{ left, top }} animate={{ left, top }}>\r\n\t\t\t<LikeButton delay={cardStyles.shareCard.order * ANIMATION_DELAY * 1000} />\r\n\t\t</motion.div>\r\n\t)\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;;;;;;;AAEe,SAAS;IACvB,MAAM,SAAS,IAAA,+IAAc;IAC7B,MAAM,EAAE,UAAU,EAAE,GAAG,IAAA,qKAAc;IACrC,MAAM,eAAe,WAAW,MAAM;IACtC,MAAM,sBAAsB,WAAW,aAAa;IACpD,MAAM,kBAAkB,WAAW,SAAS;IAC5C,MAAM,kBAAkB,WAAW,SAAS;IAE5C,MAAM,OAAO,OAAO,CAAC,GAAG,aAAa,KAAK,GAAG,IAAI,oBAAoB,KAAK,GAAG,gBAAgB,KAAK,GAAG,6HAAY;IACjH,MAAM,MAAM,OAAO,CAAC,GAAG,aAAa,MAAM,GAAG,IAAI,6HAAY,GAAG,oBAAoB,MAAM,GAAG,6HAAY,GAAG,gBAAgB,MAAM,GAAG,6HAAY;IAEjJ,qBACC,6VAAC,0SAAM,CAAC,GAAG;QAAC,WAAU;QAAyB,SAAS;YAAE;YAAM;QAAI;QAAG,SAAS;YAAE;YAAM;QAAI;kBAC3F,cAAA,6VAAC,+IAAU;YAAC,OAAO,WAAW,SAAS,CAAC,KAAK,GAAG,gIAAe,GAAG;;;;;;;;;;;AAGrE","debugId":null}},
    {"offset": {"line": 4854, "column": 0}, "map": {"version":3,"sources":["file:///E:/qbb/github/blog-public/src/app/%28home%29/page.tsx"],"sourcesContent":["'use client'\r\n\r\nimport HiCard from '@/app/(home)/hi-card'\r\nimport ArtCard from '@/app/(home)/art-card'\r\nimport ClockCard from '@/app/(home)/clock-card'\r\nimport CalendarCard from '@/app/(home)/calendar-card'\r\nimport MusicCard from '@/app/(home)/music-card'\r\nimport SocialButtons from '@/app/(home)/social-buttons'\r\nimport ShareCard from '@/app/(home)/share-card'\r\nimport AritcleCard from '@/app/(home)/aritcle-card'\r\nimport WriteButtons from '@/app/(home)/write-buttons'\r\nimport LikePosition from './like-position'\r\nimport { useSize } from '@/hooks/use-size'\r\n\r\nexport default function Home() {\r\n\tconst { maxSM } = useSize()\r\n\r\n\treturn (\r\n\t\t<div className='max-sm:flex max-sm:flex-col max-sm:items-center max-sm:gap-6 max-sm:pt-28 max-sm:pb-20'>\r\n\t\t\t<ArtCard />\r\n\t\t\t<HiCard />\r\n\t\t\t{!maxSM && <ClockCard />}\r\n\t\t\t{!maxSM && <CalendarCard />}\r\n\t\t\t{!maxSM && <MusicCard />}\r\n\t\t\t<SocialButtons />\r\n\t\t\t{!maxSM && <ShareCard />}\r\n\t\t\t<AritcleCard />\r\n\t\t\t{!maxSM && <WriteButtons />}\r\n\t\t\t<LikePosition />\r\n\t\t</div>\r\n\t)\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAZA;;;;;;;;;;;;;AAce,SAAS;IACvB,MAAM,EAAE,KAAK,EAAE,GAAG,IAAA,sIAAO;IAEzB,qBACC,6VAAC;QAAI,WAAU;;0BACd,6VAAC,iJAAO;;;;;0BACR,6VAAC,gJAAM;;;;;YACN,CAAC,uBAAS,6VAAC,mJAAS;;;;;YACpB,CAAC,uBAAS,6VAAC,sJAAY;;;;;YACvB,CAAC,uBAAS,6VAAC,mJAAS;;;;;0BACrB,6VAAC,uJAAa;;;;;YACb,CAAC,uBAAS,6VAAC,mJAAS;;;;;0BACrB,6VAAC,qJAAW;;;;;YACX,CAAC,uBAAS,6VAAC,sJAAY;;;;;0BACxB,6VAAC,sJAAY;;;;;;;;;;;AAGhB","debugId":null}}]
}