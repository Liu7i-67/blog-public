(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,86266,e=>{"use strict";let t=(0,e.i(22436).default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);e.s(["Check",()=>t],86266)},66324,(e,t,r)=>{e.e,t.exports=function(){"use strict";var e="millisecond",t="second",r="minute",n="hour",i="week",s="month",a="quarter",o="year",l="date",c="Invalid Date",u=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,d=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,f=function(e,t,r){var n=String(e);return!n||n.length>=t?e:""+Array(t+1-n.length).join(r)+e},h="en",m={};m[h]={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],r=e%100;return"["+e+(t[(r-20)%10]||t[r]||t[0])+"]"}};var g="$isDayjsObject",p=function(e){return e instanceof A||!(!e||!e[g])},y=function e(t,r,n){var i;if(!t)return h;if("string"==typeof t){var s=t.toLowerCase();m[s]&&(i=s),r&&(m[s]=r,i=s);var a=t.split("-");if(!i&&a.length>1)return e(a[0])}else{var o=t.name;m[o]=t,i=o}return!n&&i&&(h=i),i||!n&&h},x=function(e,t){if(p(e))return e.clone();var r="object"==typeof t?t:{};return r.date=e,r.args=arguments,new A(r)},v={s:f,z:function(e){var t=-e.utcOffset(),r=Math.abs(t);return(t<=0?"+":"-")+f(Math.floor(r/60),2,"0")+":"+f(r%60,2,"0")},m:function e(t,r){if(t.date()<r.date())return-e(r,t);var n=12*(r.year()-t.year())+(r.month()-t.month()),i=t.clone().add(n,s),a=r-i<0,o=t.clone().add(n+(a?-1:1),s);return+(-(n+(r-i)/(a?i-o:o-i))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(c){return({M:s,y:o,w:i,d:"day",D:l,h:n,m:r,s:t,ms:e,Q:a})[c]||String(c||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}};v.l=y,v.i=p,v.w=function(e,t){return x(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var A=function(){function f(e){this.$L=y(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[g]=!0}var h=f.prototype;return h.parse=function(e){this.$d=function(e){var t=e.date,r=e.utc;if(null===t)return new Date(NaN);if(v.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var n=t.match(u);if(n){var i=n[2]-1||0,s=(n[7]||"0").substring(0,3);return r?new Date(Date.UTC(n[1],i,n[3]||1,n[4]||0,n[5]||0,n[6]||0,s)):new Date(n[1],i,n[3]||1,n[4]||0,n[5]||0,n[6]||0,s)}}return new Date(t)}(e),this.init()},h.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},h.$utils=function(){return v},h.isValid=function(){return this.$d.toString()!==c},h.isSame=function(e,t){var r=x(e);return this.startOf(t)<=r&&r<=this.endOf(t)},h.isAfter=function(e,t){return x(e)<this.startOf(t)},h.isBefore=function(e,t){return this.endOf(t)<x(e)},h.$g=function(e,t,r){return v.u(e)?this[t]:this.set(r,e)},h.unix=function(){return Math.floor(this.valueOf()/1e3)},h.valueOf=function(){return this.$d.getTime()},h.startOf=function(e,a){var c=this,u=!!v.u(a)||a,d=v.p(e),f=function(e,t){var r=v.w(c.$u?Date.UTC(c.$y,t,e):new Date(c.$y,t,e),c);return u?r:r.endOf("day")},h=function(e,t){return v.w(c.toDate()[e].apply(c.toDate("s"),(u?[0,0,0,0]:[23,59,59,999]).slice(t)),c)},m=this.$W,g=this.$M,p=this.$D,y="set"+(this.$u?"UTC":"");switch(d){case o:return u?f(1,0):f(31,11);case s:return u?f(1,g):f(0,g+1);case i:var x=this.$locale().weekStart||0,A=(m<x?m+7:m)-x;return f(u?p-A:p+(6-A),g);case"day":case l:return h(y+"Hours",0);case n:return h(y+"Minutes",1);case r:return h(y+"Seconds",2);case t:return h(y+"Milliseconds",3);default:return this.clone()}},h.endOf=function(e){return this.startOf(e,!1)},h.$set=function(i,a){var c,u=v.p(i),d="set"+(this.$u?"UTC":""),f=((c={}).day=d+"Date",c[l]=d+"Date",c[s]=d+"Month",c[o]=d+"FullYear",c[n]=d+"Hours",c[r]=d+"Minutes",c[t]=d+"Seconds",c[e]=d+"Milliseconds",c)[u],h="day"===u?this.$D+(a-this.$W):a;if(u===s||u===o){var m=this.clone().set(l,1);m.$d[f](h),m.init(),this.$d=m.set(l,Math.min(this.$D,m.daysInMonth())).$d}else f&&this.$d[f](h);return this.init(),this},h.set=function(e,t){return this.clone().$set(e,t)},h.get=function(e){return this[v.p(e)]()},h.add=function(e,a){var l,c=this;e=Number(e);var u=v.p(a),d=function(t){var r=x(c);return v.w(r.date(r.date()+Math.round(t*e)),c)};if(u===s)return this.set(s,this.$M+e);if(u===o)return this.set(o,this.$y+e);if("day"===u)return d(1);if(u===i)return d(7);var f=((l={})[r]=6e4,l[n]=36e5,l[t]=1e3,l)[u]||1,h=this.$d.getTime()+e*f;return v.w(h,this)},h.subtract=function(e,t){return this.add(-1*e,t)},h.format=function(e){var t=this,r=this.$locale();if(!this.isValid())return r.invalidDate||c;var n=e||"YYYY-MM-DDTHH:mm:ssZ",i=v.z(this),s=this.$H,a=this.$m,o=this.$M,l=r.weekdays,u=r.months,f=r.meridiem,h=function(e,r,i,s){return e&&(e[r]||e(t,n))||i[r].slice(0,s)},m=function(e){return v.s(s%12||12,e,"0")},g=f||function(e,t,r){var n=e<12?"AM":"PM";return r?n.toLowerCase():n};return n.replace(d,function(e,n){return n||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return v.s(t.$y,4,"0");case"M":return o+1;case"MM":return v.s(o+1,2,"0");case"MMM":return h(r.monthsShort,o,u,3);case"MMMM":return h(u,o);case"D":return t.$D;case"DD":return v.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return h(r.weekdaysMin,t.$W,l,2);case"ddd":return h(r.weekdaysShort,t.$W,l,3);case"dddd":return l[t.$W];case"H":return String(s);case"HH":return v.s(s,2,"0");case"h":return m(1);case"hh":return m(2);case"a":return g(s,a,!0);case"A":return g(s,a,!1);case"m":return String(a);case"mm":return v.s(a,2,"0");case"s":return String(t.$s);case"ss":return v.s(t.$s,2,"0");case"SSS":return v.s(t.$ms,3,"0");case"Z":return i}return null}(e)||i.replace(":","")})},h.utcOffset=function(){return-(15*Math.round(this.$d.getTimezoneOffset()/15))},h.diff=function(e,l,c){var u,d=this,f=v.p(l),h=x(e),m=(h.utcOffset()-this.utcOffset())*6e4,g=this-h,p=function(){return v.m(d,h)};switch(f){case o:u=p()/12;break;case s:u=p();break;case a:u=p()/3;break;case i:u=(g-m)/6048e5;break;case"day":u=(g-m)/864e5;break;case n:u=g/36e5;break;case r:u=g/6e4;break;case t:u=g/1e3;break;default:u=g}return c?u:v.a(u)},h.daysInMonth=function(){return this.endOf(s).$D},h.$locale=function(){return m[this.$L]},h.locale=function(e,t){if(!e)return this.$L;var r=this.clone(),n=y(e,t,!0);return n&&(r.$L=n),r},h.clone=function(){return v.w(this.$d,this)},h.toDate=function(){return new Date(this.valueOf())},h.toJSON=function(){return this.isValid()?this.toISOString():null},h.toISOString=function(){return this.$d.toISOString()},h.toString=function(){return this.$d.toUTCString()},f}(),w=A.prototype;return x.prototype=w,[["$ms",e],["$s",t],["$m",r],["$H",n],["$W","day"],["$M",s],["$y",o],["$D",l]].forEach(function(e){w[e[1]]=function(t){return this.$g(t,e[0],e[1])}}),x.extend=function(e,t){return e.$i||(e(t,A,x),e.$i=!0),x},x.locale=y,x.isDayjs=p,x.unix=function(e){return x(1e3*e)},x.en=m[h],x.Ls=m,x.p={},x}()},64169,e=>{"use strict";let t,r;var n=e.i(58190),i=e.i(52434),s=e.i(7281),a=e.i(63580),o=e.i(72910),l=e.i(99151),c=e.i(35311),u=e.i(34026),d=e.i(48367),f=e.i(75602),h=e.i(47248);function m(e,t){let r,n=()=>{let{currentTime:n}=t,i=(null===n?0:n.value)/100;r!==i&&e(i),r=i};return h.frame.preUpdate(n,!0),()=>(0,h.cancelFrame)(n)}var g=e.i(15965),p=e.i(61979),y=e.i(69710);let x=new WeakMap,v=(e,t,r)=>(n,i)=>i&&i[0]?i[0][e+"Size"]:(0,p.isSVGElement)(n)&&"getBBox"in n?n.getBBox()[t]:n[r],A=v("inline","width","offsetWidth"),w=v("block","height","offsetHeight");function b({target:e,borderBoxSize:t}){x.get(e)?.forEach(r=>{r(e,{get width(){return A(e,t)},get height(){return w(e,t)}})})}function S(e){e.forEach(b)}let $=new Set;var M=e.i(47113),_=e.i(95153);let j=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),E={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function D(e,t,r,n){let i=r[t],{length:s,position:a}=E[t],o=i.current,l=r.time;i.current=e[`scroll${a}`],i.scrollLength=e[`scroll${s}`]-e[`client${s}`],i.offset.length=0,i.offset[0]=0,i.offset[1]=i.scrollLength,i.progress=(0,M.progress)(0,i.scrollLength,i.current);let c=n-l;i.velocity=c>50?0:(0,_.velocityPerSecond)(i.current-o,c)}e.i(37484);var N=e.i(79126),I=e.i(68617),O=e.i(83032),T=e.i(12064);let L={start:0,center:.5,end:1};function C(e,t,r=0){let n=0;if(e in L&&(e=L[e]),"string"==typeof e){let t=parseFloat(e);e.endsWith("px")?n=t:e.endsWith("%")?e=t/100:e.endsWith("vw")?n=t/100*document.documentElement.clientWidth:e.endsWith("vh")?n=t/100*document.documentElement.clientHeight:e=t}return"number"==typeof e&&(n=t*e),r+n}let k=[0,0],B=[[0,0],[1,1]],Y={x:0,y:0},R=new WeakMap,W=new WeakMap,H=new WeakMap,U=e=>e===document.scrollingElement?window:e;function V(e,{container:n=document.scrollingElement,...i}={}){if(!n)return f.noop;let s=H.get(n);s||(s=new Set,H.set(n,s));let a=function(e,t,r,n={}){return{measure:t=>{!function(e,t=e,r){if(r.x.targetOffset=0,r.y.targetOffset=0,t!==e){let n=t;for(;n&&n!==e;)r.x.targetOffset+=n.offsetLeft,r.y.targetOffset+=n.offsetTop,n=n.offsetParent}r.x.targetLength=t===e?t.scrollWidth:t.clientWidth,r.y.targetLength=t===e?t.scrollHeight:t.clientHeight,r.x.containerLength=e.clientWidth,r.y.containerLength=e.clientHeight}(e,n.target,r),D(e,"x",r,t),D(e,"y",r,t),r.time=t,(n.offset||n.target)&&function(e,t,r){let{offset:n=B}=r,{target:i=e,axis:s="y"}=r,a="y"===s?"height":"width",o=i!==e?function(e,t){let r={x:0,y:0},n=e;for(;n&&n!==t;)if((0,T.isHTMLElement)(n))r.x+=n.offsetLeft,r.y+=n.offsetTop,n=n.offsetParent;else if("svg"===n.tagName){let e=n.getBoundingClientRect(),t=(n=n.parentElement).getBoundingClientRect();r.x+=e.left-t.left,r.y+=e.top-t.top}else if(n instanceof SVGGraphicsElement){let{x:e,y:t}=n.getBBox();r.x+=e,r.y+=t;let i=null,s=n.parentNode;for(;!i;)"svg"===s.tagName&&(i=s),s=n.parentNode;n=i}else break;return r}(i,e):Y,l=i===e?{width:e.scrollWidth,height:e.scrollHeight}:"getBBox"in i&&"svg"!==i.tagName?i.getBBox():{width:i.clientWidth,height:i.clientHeight},c={width:e.clientWidth,height:e.clientHeight};t[s].offset.length=0;let u=!t[s].interpolate,d=n.length;for(let e=0;e<d;e++){let r=function(e,t,r,n){let i=Array.isArray(e)?e:k,s=0;return"number"==typeof e?i=[e,e]:"string"==typeof e&&(i=(e=e.trim()).includes(" ")?e.split(" "):[e,L[e]?e:"0"]),(s=C(i[0],r,n))-C(i[1],t)}(n[e],c[a],l[a],o[s]);u||r===t[s].interpolatorOffsets[e]||(u=!0),t[s].offset[e]=r}u&&(t[s].interpolate=(0,N.interpolate)(t[s].offset,(0,I.defaultOffset)(n),{clamp:!1}),t[s].interpolatorOffsets=[...t[s].offset]),t[s].progress=(0,O.clamp)(0,1,t[s].interpolate(t[s].current))}(e,r,n)},notify:()=>t(r)}}(n,e,{time:0,x:j(),y:j()},i);if(s.add(a),!R.has(n)){let e,i=()=>{for(let e of s)e.measure(h.frameData.timestamp);h.frame.preUpdate(a)},a=()=>{for(let e of s)e.notify()},o=()=>h.frame.read(i);R.set(n,o);let l=U(n);window.addEventListener("resize",o,{passive:!0}),n!==document.documentElement&&W.set(n,"function"==typeof n?($.add(n),r||(r=()=>{let e={get width(){return window.innerWidth},get height(){return window.innerHeight}};$.forEach(t=>t(e))},window.addEventListener("resize",r)),()=>{$.delete(n),$.size||"function"!=typeof r||(window.removeEventListener("resize",r),r=void 0)}):(t||"undefined"!=typeof ResizeObserver&&(t=new ResizeObserver(S)),(e=(0,y.resolveElements)(n)).forEach(e=>{let r=x.get(e);r||(r=new Set,x.set(e,r)),r.add(o),t?.observe(e)}),()=>{e.forEach(e=>{let r=x.get(e);r?.delete(o),r?.size||t?.unobserve(e)})})),l.addEventListener("scroll",o,{passive:!0}),o()}let o=R.get(n);return h.frame.read(o,!1,!0),()=>{(0,h.cancelFrame)(o);let e=H.get(n);if(!e||(e.delete(a),e.size))return;let t=R.get(n);R.delete(n),t&&(U(n).removeEventListener("scroll",t),W.get(n)?.(),window.removeEventListener("resize",t))}}let G=new Map;function P({source:e,container:t,...r}){var n;let i,s,{axis:a}=r;e&&(t=e);let o=G.get(t)??new Map;G.set(t,o);let l=r.target??"self",c=o.get(l)??{},u=a+(r.offset??[]).join(",");return c[u]||(c[u]=!r.target&&(0,g.supportsScrollTimeline)()?new ScrollTimeline({source:t,axis:a}):(n={container:t,...r},i={value:0},s=V(e=>{i.value=100*e[n.axis].progress},n),{currentTime:i,cancel:s})),c[u]}var F=e.i(66443),z=e.i(80851);let Q=()=>({scrollX:(0,u.motionValue)(0),scrollY:(0,u.motionValue)(0),scrollXProgress:(0,u.motionValue)(0),scrollYProgress:(0,u.motionValue)(0)}),J=e=>!!e&&!e.current;var K=e.i(63960),X=e.i(38305);function Z(e){return"number"==typeof e?e:parseFloat(e)}var q=e.i(364);function ee(e){let t=(0,F.useConstant)(()=>(0,u.motionValue)(e)),{isStatic:r}=(0,c.useContext)(q.MotionConfigContext);if(r){let[,r]=(0,c.useState)(e);(0,c.useEffect)(()=>t.on("change",r),[])}return t}function et(e,t){let r=ee(t()),n=()=>r.set(t());return n(),(0,z.useIsomorphicLayoutEffect)(()=>{let t=()=>h.frame.preRender(n,!1,!0),r=e.map(e=>e.on("change",t));return()=>{r.forEach(e=>e()),(0,h.cancelFrame)(n)}}),r}function er(e,t,r,n){if("function"==typeof e){let t;return u.collectMotionValues.current=[],e(),t=et(u.collectMotionValues.current,e),u.collectMotionValues.current=void 0,t}let i="function"==typeof t?t:function(...e){let t=!Array.isArray(e[0]),r=t?0:-1,n=e[0+r],i=e[1+r],s=e[2+r],a=e[3+r],o=(0,N.interpolate)(i,s,a);return t?o(n):o}(t,r,n);return Array.isArray(e)?en(e,i):en([e],([e])=>i(e))}function en(e,t){let r=(0,F.useConstant)(()=>[]);return et(e,()=>{r.length=0;let n=e.length;for(let t=0;t<n;t++)r[t]=e[t].get();return t(r)})}var ei=e.i(99533),es=e.i(7284);function ea(e){let t,r,a,o,l,u,d,f,h,m,g,p,y=(0,i.c)(27),{toc:x,delay:v}=e,A=void 0===v?0:v;y[0]===Symbol.for("react.memo_cache_sentinel")?(t=new Set,y[0]=t):t=y[0];let[w,b]=(0,c.useState)(t);if(y[1]!==w||y[2]!==x){let e;y[4]!==x?(e=(e,t)=>x.findIndex(t=>t.id===e)-x.findIndex(e=>e.id===t),y[4]=x,y[5]=e):e=y[5],r=Array.from(w).sort(e),y[1]=w,y[2]=x,y[3]=r}else r=y[3];let S=r[0];if(y[6]!==x?(a=()=>{if(0===x.length)return;let e=new Map;return x.forEach(t=>{let r=document.getElementById(t.id);if(!r)return;let n=new IntersectionObserver(e=>{e.forEach(e=>{b(t=>{let r=new Set(t);return e.isIntersecting?r.add(e.target.id):r.delete(e.target.id),r})})},{rootMargin:"-100px 0px -100px 0px",threshold:0});n.observe(r),e.set(t.id,n)}),()=>{e.forEach(eo)}},o=[x],y[6]=x,y[7]=a,y[8]=o):(a=y[7],o=y[8]),(0,c.useEffect)(a,o),y[9]===Symbol.for("react.memo_cache_sentinel")?(l={opacity:0,scale:.8},u={opacity:1,scale:1},y[9]=l,y[10]=u):(l=y[9],u=y[10]),y[11]!==A?(d={delay:A},y[11]=A,y[12]=d):d=y[12],y[13]===Symbol.for("react.memo_cache_sentinel")?(f=(0,n.jsx)("h2",{className:"text-secondary mb-2 font-medium",children:"目录"}),y[13]=f):f=y[13],y[14]!==x.length?(h=0===x.length&&(0,n.jsx)("div",{className:"text-secondary",children:"暂无"}),y[14]=x.length,y[15]=h):h=y[15],y[16]!==S||y[17]!==x){let e;y[19]!==S?(e=e=>(0,n.jsx)("a",{href:`#${e.id}`,className:(0,es.default)("hover:text-brand relative block pl-3 transition-colors",e.id===S&&"text-brand"),style:{paddingLeft:(e.level-1)*8},children:e.text},e.id+e.level),y[19]=S,y[20]=e):e=y[20],m=x.map(e),y[16]=S,y[17]=x,y[18]=m}else m=y[18];return y[21]!==h||y[22]!==m?(g=(0,n.jsxs)("div",{className:"relative max-h-[300px] space-y-2 overflow-auto",children:[h,m]}),y[21]=h,y[22]=m,y[23]=g):g=y[23],y[24]!==g||y[25]!==d?(p=(0,n.jsxs)(s.motion.div,{initial:l,animate:u,transition:d,className:"bg-card w-full rounded-xl border p-3 text-sm",children:[f,g]}),y[24]=g,y[25]=d,y[26]=p):p=y[26],p}function eo(e){return e.disconnect()}var el=e.i(25024);function ec(e){let t,r,o,l,u,g,p,y,x,v,A,w=(0,i.c)(22),{cover:b,summary:S,toc:$,slug:M}=e,[_,j]=(0,c.useState)(0),{scrollY:E}=function({container:e,target:t,...r}={}){let n=(0,F.useConstant)(Q),i=(0,c.useRef)(null),s=(0,c.useRef)(!1),a=(0,c.useCallback)(()=>(i.current=function(e,{axis:t="y",container:r=document.scrollingElement,...n}={}){var i,s;let a;if(!r)return f.noop;let o={axis:t,container:r,...n};return"function"==typeof e?(i=e,s=o,2===i.length?V(e=>{i(e[s.axis].progress,e)},s):m(i,P(s))):(a=P(o),e.attachTimeline({timeline:o.target?void 0:a,observe:e=>(e.pause(),m(t=>{e.time=e.iterationDuration*t},a))}))}((e,{x:t,y:r})=>{n.scrollX.set(t.current),n.scrollXProgress.set(t.progress),n.scrollY.set(r.current),n.scrollYProgress.set(r.progress)},{...r,container:e?.current||void 0,target:t?.current||void 0}),()=>{i.current?.()}),[e,t,JSON.stringify(r.offset)]);return(0,z.useIsomorphicLayoutEffect)(()=>{if(s.current=!1,!(J(e)||J(t)))return a();s.current=!0},[a]),(0,c.useEffect)(()=>s.current?((0,d.invariant)(!J(e),"Container ref is defined but not hydrated","use-scroll-ref"),(0,d.invariant)(!J(t),"Target ref is defined but not hydrated","use-scroll-ref"),a()):void 0,[a]),n}();w[0]===Symbol.for("react.memo_cache_sentinel")?(t=()=>{let e=()=>{j(Math.max(0,document.documentElement.scrollHeight-window.innerHeight-72))},t=setTimeout(()=>{e()},5e3);return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e),clearTimeout(t)}},r=[],w[0]=t,w[1]=r):(t=w[0],r=w[1]),(0,c.useEffect)(t,r),w[2]!==_?(o=e=>Math.min(Math.max(0,e-72),_),w[2]=_,w[3]=o):o=w[3];let D=er(E,o);w[4]===Symbol.for("react.memo_cache_sentinel")?(l={stiffness:100,damping:15,mass:.6,restDelta:.5},w[4]=l):l=w[4];let N=function(e,t={}){let{isStatic:r}=(0,c.useContext)(q.MotionConfigContext),n=()=>(0,X.isMotionValue)(e)?e.get():e;if(r)return er(n);let i=ee(n());return(0,c.useInsertionEffect)(()=>(function(e,t,r){let n,i=e.get(),s=null,a=i,o="string"==typeof i?i.replace(/[\d.-]/g,""):void 0,l=()=>{s&&(s.stop(),s=null)},c=()=>{l(),s=new K.JSAnimation({keyframes:[Z(e.get()),Z(a)],velocity:e.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...r,onUpdate:n})};if(e.attach((e,t)=>{a=e,n=e=>{var r,n;return t((r=e,(n=o)?r+n:r))},h.frame.postRender(c)},l),(0,X.isMotionValue)(t)){let r=t.on("change",t=>{var r,n;return e.set((r=t,(n=o)?r+n:r))}),n=e.on("destroy",r);return()=>{r(),n()}}return l})(i,e,t),[i,JSON.stringify(t)]),i}(D,l);return w[5]!==N?(u={y:N},w[5]=N,w[6]=u):u=w[6],w[7]!==b?(g=b&&(0,n.jsx)(s.motion.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:a.INIT_DELAY+ +a.ANIMATION_DELAY},className:"bg-card w-full rounded-xl p-3",children:(0,n.jsx)("img",{src:b,alt:"cover",className:"h-auto w-full rounded-xl border object-cover"})}),w[7]=b,w[8]=g):g=w[8],w[9]!==S?(p=S&&(0,n.jsxs)(s.motion.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:a.INIT_DELAY+2*a.ANIMATION_DELAY},className:"bg-card w-full rounded-xl border p-3 text-sm",children:[(0,n.jsx)("h2",{className:"text-secondary mb-2 font-medium",children:"摘要"}),(0,n.jsx)("div",{className:"text-secondary cursor-text",children:S})]}),w[9]=S,w[10]=p):p=w[10],w[11]!==$?(y=(0,n.jsx)(ea,{toc:$,delay:a.INIT_DELAY+3*a.ANIMATION_DELAY}),w[11]=$,w[12]=y):y=w[12],w[13]!==M?(x=(0,n.jsx)(ei.default,{slug:M,delay:(a.INIT_DELAY+4*a.ANIMATION_DELAY)*1e3}),w[13]=M,w[14]=x):x=w[14],w[15]===Symbol.for("react.memo_cache_sentinel")?(v=(0,n.jsx)(el.ScrollTopButton,{delay:a.INIT_DELAY+5*a.ANIMATION_DELAY}),w[15]=v):v=w[15],w[16]!==u||w[17]!==g||w[18]!==p||w[19]!==y||w[20]!==x?(A=(0,n.jsxs)(s.motion.div,{className:"relative flex w-[200px] shrink-0 flex-col items-start gap-4 self-start max-sm:hidden",style:u,children:[g,p,y,x,v]}),w[16]=u,w[17]=g,w[18]=p,w[19]=y,w[20]=x,w[21]=A):A=w[21],A}function eu(e){let t,r,c,u,d,f,h,m,g,p,y,x=(0,i.c)(28),{markdown:v,title:A,tags:w,date:b,summary:S,cover:$,slug:M}=e,{maxSM:_}=(0,l.useSize)(),{content:j,toc:E,loading:D}=(0,o.useMarkdownRender)(v);if(D){let e;return x[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsx)("div",{className:"text-secondary flex h-full items-center justify-center text-sm",children:"渲染中..."}),x[0]=e):e=x[0],e}return x[1]===Symbol.for("react.memo_cache_sentinel")?(t={opacity:0},r={opacity:1},c={delay:a.INIT_DELAY},x[1]=t,x[2]=r,x[3]=c):(t=x[1],r=x[2],c=x[3]),x[4]!==A?(u=(0,n.jsx)("div",{className:"text-center text-2xl font-semibold",children:A}),x[4]=A,x[5]=u):u=x[5],x[6]!==w?(d=w.map(ed),x[6]=w,x[7]=d):d=x[7],x[8]!==d?(f=(0,n.jsx)("div",{className:"text-secondary mt-4 flex flex-wrap items-center justify-center gap-3 px-8 text-center text-sm",children:d}),x[8]=d,x[9]=f):f=x[9],x[10]!==b?(h=(0,n.jsx)("div",{className:"text-secondary mt-3 text-center text-sm",children:b}),x[10]=b,x[11]=h):h=x[11],x[12]!==j?(m=(0,n.jsx)("div",{className:"prose mt-6 max-w-none cursor-text",children:j}),x[12]=j,x[13]=m):m=x[13],x[14]!==u||x[15]!==f||x[16]!==h||x[17]!==m?(g=(0,n.jsx)(s.motion.article,{initial:t,animate:r,transition:c,className:"card bg-article static flex-1 overflow-auto rounded-xl p-8",children:(0,n.jsxs)("div",{children:[u,f,h,m]})}),x[14]=u,x[15]=f,x[16]=h,x[17]=m,x[18]=g):g=x[18],x[19]!==$||x[20]!==_||x[21]!==M||x[22]!==S||x[23]!==E?(p=!_&&(0,n.jsx)(ec,{cover:$,summary:S,toc:E,slug:M}),x[19]=$,x[20]=_,x[21]=M,x[22]=S,x[23]=E,x[24]=p):p=x[24],x[25]!==p||x[26]!==g?(y=(0,n.jsxs)("div",{className:"mx-auto flex max-w-[1140px] justify-center gap-6 px-6 pt-28 pb-12 max-sm:px-0",children:[g,p]}),x[25]=p,x[26]=g,x[27]=y):y=x[27],y}function ed(e){return(0,n.jsxs)("span",{children:["#",e]},e)}e.s(["BlogPreview",()=>eu],64169)},78363,e=>{"use strict";async function t(e){if(!e)throw Error("Slug is required");let t={},r=await fetch(`/blogs/${encodeURIComponent(e)}/config.json`);if(r.ok)try{t=await r.json()}catch{t={}}let n=await fetch(`/blogs/${encodeURIComponent(e)}/index.md`);if(!n.ok)throw Error("Blog not found");return{slug:e,config:t,markdown:await n.text(),cover:t.cover}}e.s(["loadBlog",()=>t])},27552,e=>{e.v("/_next/static/media/displacement-1.8f92a4fa.png")},47052,e=>{e.v("/_next/static/media/displacement-2.f8e008f8.png")},64465,e=>{e.v("/_next/static/media/border.c778e4b7.png")},31984,e=>{"use strict";let t,r;var n=e.i(10586);let i=e=>t=>{try{let r=e(t);if(r instanceof Promise)return r;return{then:e=>i(e)(r),catch(e){return this}}}catch(e){return{then(e){return this},catch:t=>i(t)(e)}}},s=(0,n.create)()((t=(e,t)=>({readArticles:{},markAsRead:t=>{e(e=>({readArticles:{...e.readArticles,[t]:!0}}))},isRead:e=>!0===t().readArticles[e],clearAll:()=>{e({readArticles:{}})}}),r={name:"blog-read-articles"},(e,n,s)=>{let a,o={storage:function(e,t){let r;try{r=e()}catch(e){return}return{getItem:e=>{var t;let n=e=>null===e?null:JSON.parse(e,void 0),i=null!=(t=r.getItem(e))?t:null;return i instanceof Promise?i.then(n):n(i)},setItem:(e,t)=>r.setItem(e,JSON.stringify(t,void 0)),removeItem:e=>r.removeItem(e)}}(()=>localStorage),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...r},l=!1,c=new Set,u=new Set,d=o.storage;if(!d)return t((...t)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),e(...t)},n,s);let f=()=>{let e=o.partialize({...n()});return d.setItem(o.name,{state:e,version:o.version})},h=s.setState;s.setState=(e,t)=>(h(e,t),f());let m=t((...t)=>(e(...t),f()),n,s);s.getInitialState=()=>m;let g=()=>{var t,r;if(!d)return;l=!1,c.forEach(e=>{var t;return e(null!=(t=n())?t:m)});let s=(null==(r=o.onRehydrateStorage)?void 0:r.call(o,null!=(t=n())?t:m))||void 0;return i(d.getItem.bind(d))(o.name).then(e=>{if(e)if("number"!=typeof e.version||e.version===o.version)return[!1,e.state];else{if(o.migrate){let t=o.migrate(e.state,e.version);return t instanceof Promise?t.then(e=>[!0,e]):[!0,t]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]}).then(t=>{var r;let[i,s]=t;if(e(a=o.merge(s,null!=(r=n())?r:m),!0),i)return f()}).then(()=>{null==s||s(a,void 0),a=n(),l=!0,u.forEach(e=>e(a))}).catch(e=>{null==s||s(void 0,e)})};return s.persist={setOptions:e=>{o={...o,...e},e.storage&&(d=e.storage)},clearStorage:()=>{null==d||d.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>g(),hasHydrated:()=>l,onHydrate:e=>(c.add(e),()=>{c.delete(e)}),onFinishHydration:e=>(u.add(e),()=>{u.delete(e)})},o.skipHydration||g(),a||m}));e.s(["useReadArticles",0,s],31984)},40313,e=>{"use strict";var t=e.i(58190),r=e.i(35311),n=e.i(98788),i=e.i(66324),s=e.i(7281),a=e.i(64169),o=e.i(78363),l=e.i(31984),c=e.i(52434),u=e.i(21503);let d={src:e.i(27552).default,width:210,height:150,blurWidth:8,blurHeight:6,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAGCAYAAAD+Bd/7AAAAV0lEQVR42hXKMRHDMAwAQIMwEW2loQsSMRGSnGh0K5FgaN7Db7+e7/r/GJoiCTbruQWGpkiCfZ/QAkNTJMHuE0pgaIok2HXCJTA0RRLs64SPwNAUSbB5AZljYAGuuBcwAAAAAElFTkSuQmCC"},f={src:e.i(47052).default,width:420,height:300,blurWidth:8,blurHeight:6,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAGCAYAAAD+Bd/7AAAAYElEQVR42n2OsQrAIBBD878V6eBSOUGo3ORU2++9RqRDQRwCIS+QQBVWH9jZYPkaSvSBWSTDXWGlEOS/hJkjQ5vAT770giwK0icCJyYlYebIoJEnN570BPtQog/M4gF7AWZBX9i0zuLQAAAAAElFTkSuQmCC"},h={src:e.i(64465).default,width:420,height:300,blurWidth:8,blurHeight:6,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAGCAYAAAD+Bd/7AAAAUUlEQVR42nVOQQrAMAjTtqviQPT/n53p2M0FIiJJDI0xWFVXcX80M81Mx07MTB1gdPeb5py9oiAi6x0/OGbEIK4TnPcoEhGOYpW2wbpdKA7jAxPBAr9F8GTFAAAAAElFTkSuQmCC"};function m(){let e,n,i,a,o,l,m,g,p,y,x,v,A,w,b,S,$,M=(0,c.c)(17),_=(0,r.useRef)(document.body),[j,E]=(0,r.useState)(!1);return(M[0]===Symbol.for("react.memo_cache_sentinel")?(e=()=>{setTimeout(()=>{E(!0)},1e3)},n=[],M[0]=e,M[1]=n):(e=M[0],n=M[1]),(0,r.useEffect)(e,n),j)?(M[2]===Symbol.for("react.memo_cache_sentinel")?(i={opacity:0},a={opacity:1},M[2]=i,M[3]=a):(i=M[2],a=M[3]),M[4]===Symbol.for("react.memo_cache_sentinel")?(o={width:210,height:150},M[4]=o):o=M[4],M[5]===Symbol.for("react.memo_cache_sentinel")?(l={scale:1.1},M[5]=l):l=M[5],M[6]===Symbol.for("react.memo_cache_sentinel")?(m={display:"none"},M[6]=m):m=M[6],M[7]===Symbol.for("react.memo_cache_sentinel")?(A=(0,t.jsx)("feImage",{href:d.src,x:"0",y:"0",width:210,height:150,result:"magnifying_displacement_map"}),w=(0,t.jsx)("feDisplacementMap",{in:"SourceGraphic",in2:"magnifying_displacement_map",scale:"24",xChannelSelector:"R",yChannelSelector:"G",result:"magnified_source"}),b=(0,t.jsx)("feGaussianBlur",{in:"magnified_source",stdDeviation:"0",result:"blurred_source"}),g=(0,t.jsx)("feImage",{href:f.src,x:"0",y:"0",width:210,height:150,result:"displacement_map"}),p=(0,t.jsx)("feDisplacementMap",{in:"blurred_source",in2:"displacement_map",scale:"80",xChannelSelector:"R",yChannelSelector:"G",result:"displaced"}),y=(0,t.jsx)("feColorMatrix",{in:"displaced",type:"saturate",result:"displaced_saturated",values:"9"}),x=(0,t.jsx)("feImage",{href:h.src,x:"0",y:"0",width:210,height:150,result:"specular_layer"}),v=(0,t.jsx)("feComposite",{in:"displaced_saturated",in2:"specular_layer",operator:"in",result:"specular_saturated"}),M[7]=g,M[8]=p,M[9]=y,M[10]=x,M[11]=v,M[12]=A,M[13]=w,M[14]=b):(g=M[7],p=M[8],y=M[9],x=M[10],v=M[11],A=M[12],w=M[13],b=M[14]),M[15]===Symbol.for("react.memo_cache_sentinel")?(S=(0,t.jsx)("svg",{colorInterpolationFilters:"sRGB",style:m,children:(0,t.jsx)("defs",{children:(0,t.jsxs)("filter",{id:"magnifying-glass-filter",children:[A,w,b,g,p,y,x,v,(0,t.jsx)("feComponentTransfer",{in:"specular_layer",result:"specular_faded",children:(0,t.jsx)("feFuncA",{type:"linear",slope:"0.5"})}),(0,t.jsx)("feBlend",{in:"specular_saturated",in2:"displaced",mode:"normal",result:"withSaturation"}),(0,t.jsx)("feBlend",{in:"specular_faded",in2:"withSaturation",mode:"normal"})]})})}),M[15]=S):S=M[15],M[16]===Symbol.for("react.memo_cache_sentinel")?($=(0,u.createPortal)((0,t.jsxs)(s.motion.div,{initial:i,animate:a,drag:!0,dragConstraints:_,style:o,className:"fixed top-16 right-1/2 z-90 select-none",whileTap:l,children:[S,(0,t.jsx)("div",{className:"absolute inset-0 rounded-full",style:{backdropFilter:"url(#magnifying-glass-filter)",boxShadow:"rgba(0, 0, 0, 0.05) 0px 4px 9px, rgba(0, 0, 0, 0.05) 0px 2px 24px inset, rgba(255, 255, 255, 0.2) 0px -2px 24px inset"}})]}),document.body),M[16]=$):$=M[16],$):null}function g(){let e=(0,n.useParams)(),c=Array.isArray(e?.id)?e.id[0]:e?.id||"",u=(0,n.useRouter)(),{markAsRead:d}=(0,l.useReadArticles)(),[f,h]=(0,r.useState)(null),[g,p]=(0,r.useState)(null),[y,x]=(0,r.useState)(!0);(0,r.useEffect)(()=>{let e=!1;return async function(){if(c)try{x(!0);let t=await (0,o.loadBlog)(c);e||(h(t),p(null),d(c))}catch(t){e||p(t?.message||"加载失败")}finally{e||x(!1)}}(),()=>{e=!0}},[c,d]);let v=(0,r.useMemo)(()=>f?.config.title?f.config.title:c,[f?.config.title,c]),A=(0,r.useMemo)(()=>(0,i.default)(f?.config.date).format("YYYY年 M月 D日"),[f?.config.date]),w=f?.config.tags||[];return c?y?(0,t.jsx)("div",{className:"text-secondary flex h-full items-center justify-center text-sm",children:"加载中..."}):g?(0,t.jsx)("div",{className:"flex h-full items-center justify-center text-sm text-red-500",children:g}):f?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(a.BlogPreview,{markdown:f.markdown,title:v,tags:w,date:A,summary:f.config.summary,cover:f.cover?`${origin}${f.cover}`:void 0,slug:c}),(0,t.jsx)(s.motion.button,{initial:{opacity:0,scale:.6},animate:{opacity:1,scale:1},whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{u.push(`/write/${c}`)},className:"absolute top-4 right-6 rounded-xl border bg-white/60 px-6 py-2 text-sm backdrop-blur-sm transition-colors hover:bg-white/80 max-sm:hidden",children:"编辑"}),"liquid-grass"===c&&(0,t.jsx)(m,{})]}):(0,t.jsx)("div",{className:"text-secondary flex h-full items-center justify-center text-sm",children:"文章不存在"}):(0,t.jsx)("div",{className:"text-secondary flex h-full items-center justify-center text-sm",children:"无效的链接"})}e.s(["default",()=>g],40313)}]);