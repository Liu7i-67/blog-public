(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,30315,57888,e=>{"use strict";var t=e.i(58190),a=e.i(52434);function s(e){let s,l,n=(0,a.c)(3),{stars:o}=e;return n[0]===Symbol.for("react.memo_cache_sentinel")?(s=[1,2,3,4,5],n[0]=s):s=n[0],n[1]!==o?(l=(0,t.jsx)("div",{className:"flex items-center gap-0.5",children:s.map(e=>(0,t.jsx)(r,{filled:e<=o},e))}),n[1]=o,n[2]=l):l=n[2],l}function r(e){let s,r,l=(0,a.c)(3),{filled:n}=e,o=n?"fill-yellow-400":"fill-gray-300";return l[0]===Symbol.for("react.memo_cache_sentinel")?(s=(0,t.jsx)("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"}),l[0]=s):s=l[0],l[1]!==o?(r=(0,t.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",className:o,children:s}),l[1]=o,l[2]=r):r=l[2],r}e.s(["default",()=>s],30315);var l=e.i(75157);function n(e){let s,r,n,i=(0,a.c)(8),{stars:c,editable:u,onChange:d}=e,m=void 0!==u&&u;i[0]!==m||i[1]!==d?(s=e=>{m&&d&&d(e)},i[0]=m,i[1]=d,i[2]=s):s=i[2];let p=s;return i[3]===Symbol.for("react.memo_cache_sentinel")?(r=[1,2,3,4,5],i[3]=r):r=i[3],i[4]!==m||i[5]!==p||i[6]!==c?(n=(0,t.jsx)("div",{className:"flex items-center gap-0.5",children:r.map(e=>{let a=e<=c;return(0,t.jsx)("div",{onClick:()=>p(e),className:(0,l.cn)(m&&"cursor-pointer"),children:(0,t.jsx)(o,{filled:a})},e)})}),i[4]=m,i[5]=p,i[6]=c,i[7]=n):n=i[7],n}function o(e){let s,r,n,o=(0,a.c)(5),{filled:i}=e,c=i?"fill-yellow-400":"fill-gray-300";return o[0]!==c?(s=(0,l.cn)(c),o[0]=c,o[1]=s):s=o[1],o[2]===Symbol.for("react.memo_cache_sentinel")?(r=(0,t.jsx)("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"}),o[2]=r):r=o[2],o[3]!==s?(n=(0,t.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",className:s,children:r}),o[3]=s,o[4]=n):n=o[4],n}e.s(["default",()=>n],57888)},40038,e=>{e.v(JSON.parse('[{"name":"阮一峰的网络日志","avatar":"/images/blogger/fe25259da8e3609b.png","url":"https://www.ruanyifeng.com/blog/archives.html","description":"经典必看，每周更新。无聊是看新闻、还是学习、还是拓展眼界，都是能其中获取到乐趣的。还有很多网友的每周留言。这就是 blog 的含金量。","stars":5},{"name":"Enji Kusnadi","url":"https://enji.dev/","avatar":"https://enji.dev/_next/image?url=%2Fassets%2Fimages%2Fme.png&w=1080&q=100","description":"第一个在设计样式上惊艳我的人，那时每逢推荐别人blog，我都会提这么一嘴。但这个不算她的blog 网站，只算它的线上简历，没有持续的内容，比较可惜。","stars":3},{"name":"Josh W. Comeau","url":"https://www.joshwcomeau.com/","avatar":"https://www.joshwcomeau.com/favicon.png","description":"John blog 更像是一个课程网站，每一篇文章都书写的很好，每次阅读都能吸收到新的东西。网站设计也恰到好处，工整、有趣。","stars":5},{"name":"nanda","url":"https://www.nan.fyi/","avatar":"https://www.nan.fyi/favicon.ico","description":"设计大师，nanda 。页面只用灰色加线条，都让我觉得叹为观止，内容不多，每篇都精雕细琢。跟 Josh 一样，属于技术网站，但它的教程引导更加出神入化，可称为程序艺术家。","stars":5},{"name":"Emil Kowalski","url":"https://emilkowal.ski/","avatar":"https://emilkowal.ski/favicon.ico","description":"Blog 就干脆\\"不设计\\"，无装饰。技术就比较轻松一些，它更强调动画/交互。Vercel 员工，他的组件很好用，也很 vercel。","stars":4},{"name":"Risingle","url":"https://www.imrising.cn/","avatar":"https://www.imrising.cn/images/logo/logo.webp","description":"网站样式很棒，虽然用的别人的模板，但是他用的很棒。是个初出茅庐的程序员。","stars":3},{"name":"無名小栈","url":"https://blog.imsyy.top/","avatar":"https://blog.imsyy.top/images/logo/logo.webp","description":"Risingle blog 的模板主人，或许是头像和网站风格不搭，显得没有 Risingle 的舒服。Github 热门项目还不少，一看就是爱折腾的人，就是不爱写 blog，没啥内容。01 年，挺年轻的，独立开发者？不知道经历了什么。","stars":2},{"name":"韩小韩博客","url":"https://www.vvhan.com/","avatar":"https://q1.qlogo.cn/g?b=qq&nk=1655466387&s=640","description":"网站很棒，内容多，头像也帅，不知道人帅不帅。就是这个错位滑动效果一直让我头疼，这个阻尼效果还写blog专业上了。。。一个插件导入的事情，啥时候他能把这个效果关掉就好了。挺想多看下他内容的，但是这个效果太头晕了。","stars":3},{"name":"Anthony Fu","url":"https://antfu.me/","avatar":"https://avatars.githubusercontent.com/u/11247099?v=4","description":"很厉害的一个人，好像还很年轻。经常在 b站活跃，开直播（看过）。我记得它几乎毕业就做了很多厉害的事情，vue 系列核心成员，似乎对他来说很轻松的事情。blog 多是英文，生活圈也是大神汇聚，真好。不怎么爱写blog，但相比来说已经算好的了。可以从他这窥探一些 vue \\"上流社会\\"","stars":4},{"name":"enpitsulin 铅笔","url":"https://enpitsulin.xyz/","avatar":"https://enpitsulin.xyz/favicon.svg","description":"很简洁的blog网站，像 nanda。只不过很久没内容了。他现在的头像一时让我想不起他是谁了，突然发现它过去可爱头像，我想起来这家伙了。","stars":2},{"name":"Innei 静かな森","url":"https://innei.in/","avatar":"https://cdn.jsdelivr.net/gh/Innei/static@master/avatar.png","description":"网站还行，是典型的那种某个时代的产物，我不太get。但是内容活跃，并且他好像很火？但我没找出他为什么火。项目还是挺多的。","stars":3},{"name":"秋夜灯雨","url":"https://blog.lierhua.top/","avatar":"https://blog.lierhua.top/images/web/yyqda3.svg","description":"看名字，就知道是过去的残党了。但是我挺喜欢他的设计的，页面清晰，一股书生气。虽然是老人，但能追溯的过去并不多。","stars":3},{"name":"BlogFinder","url":"https://bf.zzxworld.com/","avatar":"https://bf.zzxworld.com/images/favicon.png","description":"一个 blog 收集网站，可以查阅有哪些 blog，也可以直接看最近谁更新了什么","stars":3},{"name":"Tonsky","url":"https://tonsky.me/","avatar":"https://avatars.githubusercontent.com/u/285292?v=4","description":"一个过去的国外大神，忘了是什么时候发现它的，blog 依旧时不时更新。就是现在 blog 太刺眼了，不知道是不是故意的。","stars":3},{"name":"Cali","url":"https://cali.so/","avatar":"https://cali.so/_next/image?url=%2F_next%2Fstatic%2Fmedia%2FPortrait.8d12f14a.png&w=96&q=75","description":"设计师，网站设计不错，但是 blog 内容很少。但厉害的是他已经自己开公司了，给别人设计网站，影石 Insta360 是他们设计的。很好的 blog 参考。他的 zolplay 网站跟 nanda 风格很像，不知道谁抄的谁。","stars":4},{"name":"Chrome Blog","url":"https://web.dev/blog?hl=zh-cn","avatar":"/images/blogger/2fe46db88bd43683.svg","description":"技术团队 blog，咨询、动态、故事。我觉得页面感受还不错。","stars":4},{"name":"颜海镜","url":"https://yanhaijing.com/","avatar":"https://avatars.githubusercontent.com/u/3192087?v=4","description":"国内早期大神，知名的js教程一类。就是不怎么关心 blog。本人在网上还很活跃，人也看上去很年轻。","stars":3},{"name":"Huozhi","url":"https://huozhi.im/","avatar":"https://avatars.githubusercontent.com/u/4800338?v=4","description":"极简主义者，网站真的极简，但是感觉也不差。内容不多，当你觉得不知道怎么设计blog，或者设计的不好时，看看他。","stars":3},{"name":"Brian Lovin","url":"https://brianlovin.com/","avatar":"https://avatars.githubusercontent.com/u/1923260?v=4","description":"早期外国大神，在 Github,Facebook 工作过，现在在notion，资历老、项目多。blog 写成了 Dashboard 风格，蛮奇特的，但是 blog 并不多。","stars":4},{"name":"Cassie Evans\'s Blog","url":"https://www.cassie.codes/","avatar":"https://www.cassie.codes/images/avatar2.jpg","description":"彩色网站，真的很酷。并且还是位女士，真的很少见。GASP、SVG、动画很精美，但是没几篇内容，也算是高级 blog 的一种诅咒。在 Twitter 上也是名人。","stars":4},{"name":"Niracler 的博物志","url":"https://niracler.com/","avatar":"https://niracler.com/favicon.svg","description":"小透明，偶尔更新一篇blog。但是网站风格还是有特点的，可作为设计 blog 时的参考。","stars":2},{"name":"講評世界","url":"https://blog.moeyua.com/","avatar":"https://avatars.githubusercontent.com/u/45156493?v=4","description":"小透明，失踪人口。但 blog 网站样式有种字体的美，不知道怎么说。好像是影视飓风成员。","stars":2},{"name":"阿猫的博客","url":"https://ameow.xyz/","avatar":"https://ameow.xyz/upload/favicon.png","description":"可爱的网站，一直在更新他的猫鱼周刊。","stars":3},{"name":"pseudoyu","url":"https://www.pseudoyu.com/","avatar":"https://www.pseudoyu.com/avatar.webp","description":"区块链开发者，在 Monad 区块链倒腾了一段时间。网站长得跟 Anthony 一模一样。嘴上一直念叨着他的学姐老婆。应该也挺厉害的。","stars":3},{"name":"季节记忆","avatar":"https://www.seamory.com/api/storage/2024112814523200000001349b3aa3c2","url":"https://www.seamory.com/","description":"好像是为后端/嵌入式？2025 年初建立的 blog，无 UI 设计。但少有后端人显露 blog，应当勉励的。","stars":1},{"name":"Ivan Kapunac","avatar":"https://media.licdn.com/dms/image/v2/D4D03AQHD1EtuIeXxDQ/profile-displayphoto-scale_400_400/B4DZnI8lKCHsAg-/0/1760012950053?e=1764806400&v=beta&t=eDxdpmvMVG90RGvTHcDmcz44kWbx3LeiyUnTcHGi52c","url":"https://ivankapunac.com/","description":"3D 个人介绍网站，看上去会惊讶一下。但交互的还是缺失的。如果建模是自己原创的话，还是挺厉害的。","stars":3},{"name":"微尔微","avatar":"https://www.vio.vin/apple-touch-icon.png","url":"https://www.vio.vin/","description":"23 年新晋散修，如他所说，一天倒腾一些奇怪的东西。应该是以后端为主，喜欢完一些硬件。静森系 blog，25年 blog 稳定输出。","stars":2},{"name":"搬砖日记","avatar":"https://banzhuanriji.com/img/icon.ico","url":"https://banzhuanriji.com/","description":"白底黑字。但是打理得挺好的。应该是 Andriod 开发者，24 年开始分享各种探索。摸不清根底。","stars":2},{"name":"博客.cn","avatar":"https://xmind.design/favicon.ico","url":"https://loud-fear-11e.notion.site/eb29a49346a742989582723f950fcf0f?v=4b4f7b7d24274ba7853426c101a149d7","description":"好像是 XMind 的内部 blog notion，不确认，但里面的内容确实专业深刻，先收藏一波","stars":3},{"name":"KK","avatar":"https://avatars.githubusercontent.com/u/44634134?v=4","url":"https://kaiyi.cool/","description":"kk 是跟很厉害的人。突然看朋友圈想起他了，发现他是有 blog 的，虽然已经不维护了。但他的 blog 还残留一些好东西，或许对你有帮助。","stars":3},{"name":"猫普的精神世界","avatar":"https://maplezz.com/_astro/picture.DavLO-HP_1hhoaS.webp","url":"https://maplezz.com/","description":"通过 issue 发现的另外一个开源的，也是这几天开源的，好巧。液态玻璃感设计，是有这种感觉，挺好的，就是有的花。我还是挺喜欢的。内容从 25年开始。","stars":3},{"name":"手里有只毛毛虫","avatar":"https://www.krjojo.com/wp-content/uploads/2024/05/avatar.avif","url":"https://www.krjojo.com/","description":"网站很舒服，一位六边形战士的独立开发者。文章目录能一眼看完就好了，想翻点想看的比较不容易。","stars":4},{"name":"Honesty","avatar":"https://cdn.jsdelivr.net/gh/listener-He/images@default/202309111525908.jpeg","url":"https://blog.hehouhui.cn/","description":"折腾 blog 的后端，是个后端学习的榜样，折腾了这么多年。网站弄得还挺好的，就是加载内容有点慢。","stars":3},{"name":"ElysiumStack","avatar":"https://www.elysium-stack.cn/upload/b4136969-e1a1-44b9-833f-36e54392f018.png","url":"https://www.elysium-stack.cn/","description":"UI 设计师 blogger，少见，blog 设计的很棒。一股游戏感铺面而来，25 年开始的内容。","stars":3},{"name":"十玖八柒","avatar":"https://ahzoo.cn/img/avatar.webp","url":"https://blog.ahzoo.cn/","description":"Z次元，后端开发，记录了很多后端研究。但折腾前端和 blog 还不少。把 blog 打理得有自己独特得舒适，实属难得","stars":3}]'))},88596,e=>{"use strict";var t=e.i(58190),a=e.i(35311),s=e.i(7281),r=e.i(95403),l=e.i(52434),n=e.i(30315),o=e.i(99151),i=e.i(75157),c=e.i(57888),u=e.i(52186),d=e.i(72412);function m(e){let s,n,o,i,c,m,p,h,g,x,b,v,f,w,y,j,N,C=(0,l.c)(36),{currentAvatar:_,onClose:k,onSubmit:S}=e,[I,U]=(0,a.useState)(_||""),[G,B]=(0,a.useState)(null),O=(0,a.useRef)(null);C[0]===Symbol.for("react.memo_cache_sentinel")?(s=e=>{let t=e.target.files?.[0];if(!t)return;if(!t.type.startsWith("image/"))return void r.toast.error("请选择图片文件");let a=URL.createObjectURL(t);B({file:t,previewUrl:a}),U("")},C[0]=s):s=C[0];let T=s;C[1]!==_||C[2]!==k||C[3]!==S||C[4]!==G||C[5]!==I?(n=e=>{if(e.preventDefault(),G)S({type:"file",file:G.file,previewUrl:G.previewUrl});else{if(!I.trim())return void r.toast.error("请上传图片或输入 URL");S({type:"url",url:I.trim()})}B(null),U(_||""),k()},C[1]=_,C[2]=k,C[3]=S,C[4]=G,C[5]=I,C[6]=n):n=C[6];let F=n;C[7]!==_||C[8]!==k||C[9]!==G?(o=()=>{G&&URL.revokeObjectURL(G.previewUrl),B(null),U(_||""),k()},C[7]=_,C[8]=k,C[9]=G,C[10]=o):o=C[10];let R=o;return C[11]===Symbol.for("react.memo_cache_sentinel")?(i=(0,t.jsx)("h2",{className:"mb-4 text-xl font-bold",children:"选择头像"}),C[11]=i):i=C[11],C[12]===Symbol.for("react.memo_cache_sentinel")?(c=(0,t.jsx)("label",{className:"text-secondary mb-2 block text-sm font-medium",children:"上传图片"}),m=(0,t.jsx)("input",{ref:O,type:"file",accept:"image/*",className:"hidden",onChange:T}),p=()=>O.current?.click(),C[12]=c,C[13]=m,C[14]=p):(c=C[12],m=C[13],p=C[14]),C[15]!==G?(h=(0,t.jsxs)("div",{children:[c,m,(0,t.jsx)("div",{onClick:p,className:"mx-auto flex h-32 w-32 cursor-pointer items-center justify-center rounded-full border border-gray-300 bg-secondary/10 transition-colors hover:bg-gray-200",children:G?(0,t.jsx)("img",{src:G.previewUrl,alt:"preview",className:"h-full w-full rounded-lg object-cover"}):(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(u.Plus,{className:"text-secondary mx-auto mb-1 h-8 w-8"}),(0,t.jsx)("p",{className:"text-secondary text-xs",children:"点击上传图片"})]})})]}),C[15]=G,C[16]=h):h=C[16],C[17]===Symbol.for("react.memo_cache_sentinel")?(g=(0,t.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,t.jsx)("div",{className:"w-full border-t border-gray-300"})}),C[17]=g):g=C[17],C[18]===Symbol.for("react.memo_cache_sentinel")?(x=(0,t.jsxs)("div",{className:"relative",children:[g,(0,t.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,t.jsx)("span",{className:"text-secondary rounded-lg bg-white px-4 py-1",children:"或"})})]}),b=(0,t.jsx)("label",{className:"text-secondary mb-2 block text-sm font-medium",children:"图片 URL"}),C[18]=x,C[19]=b):(x=C[18],b=C[19]),C[20]!==G?(v=e=>{U(e.target.value),G&&(URL.revokeObjectURL(G.previewUrl),B(null))},C[20]=G,C[21]=v):v=C[21],C[22]!==v||C[23]!==I?(f=(0,t.jsxs)("div",{children:[b,(0,t.jsx)("input",{type:"url",value:I,onChange:v,placeholder:"https://example.com/avatar.png",className:"focus:ring-brand w-full rounded-lg border border-gray-300 bg-gray-200 px-4 py-2 focus:ring-2 focus:outline-none"})]}),C[22]=v,C[23]=I,C[24]=f):f=C[24],C[25]===Symbol.for("react.memo_cache_sentinel")?(w=(0,t.jsx)("button",{type:"submit",className:"brand-btn flex-1 justify-center rounded-lg px-6 py-2.5",children:"确认"}),C[25]=w):w=C[25],C[26]!==R?(y=(0,t.jsxs)("div",{className:"flex gap-3 pt-2",children:[w,(0,t.jsx)("button",{type:"button",onClick:R,className:"flex-1 rounded-lg border border-gray-300 bg-white px-6 py-2.5 transition-colors hover:bg-gray-50",children:"取消"})]}),C[26]=R,C[27]=y):y=C[27],C[28]!==F||C[29]!==f||C[30]!==y||C[31]!==h?(j=(0,t.jsxs)("form",{onSubmit:F,className:"space-y-4",children:[h,x,f,y]}),C[28]=F,C[29]=f,C[30]=y,C[31]=h,C[32]=j):j=C[32],C[33]!==R||C[34]!==j?(N=(0,t.jsxs)(d.DialogModal,{open:!0,onClose:R,className:"card w-md",children:[i,j]}),C[33]=R,C[34]=j,C[35]=N):N=C[35],N}function p(e){let r,u,d,p,h,g,x,b,v,f,w,y,j,N,C,_,k,S,I,U,G,B,O,T,F,R=(0,l.c)(84),{blogger:E,isEditMode:H,onUpdate:z,onDelete:L}=e,D=void 0!==H&&H,[M,A]=(0,a.useState)(!1),[P,W]=(0,a.useState)(!1),{maxSM:K}=(0,o.useSize)(),[$,q]=(0,a.useState)(E),[J,V]=(0,a.useState)(!1),[Q,X]=(0,a.useState)(null);R[0]!==Q||R[1]!==E||R[2]!==$||R[3]!==z?(r=(e,t)=>{let a={...$,[e]:t};q(a),z?.(a,E,Q||void 0)},R[0]=Q,R[1]=E,R[2]=$,R[3]=z,R[4]=r):r=R[4];let Z=r;R[5]!==E||R[6]!==$||R[7]!==z?(u=e=>{X(e);let t="url"===e.type?e.url:e.previewUrl,a={...$,avatar:t};q(a),z?.(a,E,e)},R[5]=E,R[6]=$,R[7]=z,R[8]=u):u=R[8];let Y=u;R[9]!==E?(d=()=>{q(E),W(!1),X(null)},R[9]=E,R[10]=d):d=R[10];let ee=d,et=D&&P;R[11]===Symbol.for("react.memo_cache_sentinel")?(p={opacity:0,scale:.6},R[11]=p):p=R[11],R[12]!==K?(h=K?{animate:{opacity:1,scale:1}}:{whileInView:{opacity:1,scale:1}},R[12]=K,R[13]=h):h=R[13],R[14]!==ee||R[15]!==D||R[16]!==P||R[17]!==L?(g=D&&(0,t.jsx)("div",{className:"absolute top-3 right-3 z-10 flex gap-2",children:P?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("button",{onClick:ee,className:"rounded-lg px-2 py-1.5 text-xs text-gray-400 transition-colors hover:text-gray-600",children:"取消"}),(0,t.jsx)("button",{onClick:()=>W(!1),className:"rounded-lg px-2 py-1.5 text-xs text-blue-400 transition-colors hover:text-blue-600",children:"完成"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("button",{onClick:()=>W(!0),className:"rounded-lg px-2 py-1.5 text-xs text-blue-400 transition-colors hover:text-blue-600",children:"编辑"}),(0,t.jsx)("button",{onClick:L,className:"rounded-lg px-2 py-1.5 text-xs text-red-400 transition-colors hover:text-red-600",children:"删除"})]})}),R[14]=ee,R[15]=D,R[16]=P,R[17]=L,R[18]=g):g=R[18];let ea=$.avatar,es=$.name,er=et&&"cursor-pointer";R[19]!==er?(x=(0,i.cn)("h-16 w-16 rounded-full object-cover",er),R[19]=er,R[20]=x):x=R[20],R[21]!==et?(b=()=>et&&V(!0),R[21]=et,R[22]=b):b=R[22],R[23]!==$.avatar||R[24]!==$.name||R[25]!==x||R[26]!==b?(v=(0,t.jsx)("img",{src:ea,alt:es,className:x,onClick:b}),R[23]=$.avatar,R[24]=$.name,R[25]=x,R[26]=b,R[27]=v):v=R[27],R[28]!==et?(f=et&&(0,t.jsx)("div",{className:"ev pointer-events-none absolute inset-0 flex items-center justify-center rounded-full bg-black/40 opacity-0 transition-opacity group-hover:opacity-100",children:(0,t.jsx)("span",{className:"text-xs text-white",children:"更换"})}),R[28]=et,R[29]=f):f=R[29],R[30]!==v||R[31]!==f?(w=(0,t.jsxs)("div",{className:"group relative",children:[v,f]}),R[30]=v,R[31]=f,R[32]=w):w=R[32],R[33]!==Z?(y=e=>Z("name",e.currentTarget.textContent||""),R[33]=Z,R[34]=y):y=R[34];let el=et&&"cursor-text";R[35]!==el?(j=(0,i.cn)("group-hover:text-brand text-lg font-bold transition-colors focus:outline-none",el),R[35]=el,R[36]=j):j=R[36],R[37]!==et||R[38]!==$.name||R[39]!==y||R[40]!==j?(N=(0,t.jsx)("h3",{contentEditable:et,suppressContentEditableWarning:!0,onBlur:y,className:j,children:$.name}),R[37]=et,R[38]=$.name,R[39]=y,R[40]=j,R[41]=N):N=R[41],R[42]!==et||R[43]!==Z||R[44]!==$.url?(C=et?(0,t.jsx)("div",{contentEditable:!0,suppressContentEditableWarning:!0,onBlur:e=>Z("url",e.currentTarget.textContent||""),className:"text-secondary mt-1 block max-w-[200px] cursor-text truncate text-xs focus:outline-none",children:$.url}):(0,t.jsx)("a",{href:$.url,target:"_blank",rel:"noopener noreferrer",className:"text-secondary hover:text-brand mt-1 block max-w-[200px] truncate text-xs hover:underline",children:$.url}),R[42]=et,R[43]=Z,R[44]=$.url,R[45]=C):C=R[45],R[46]!==N||R[47]!==C?(_=(0,t.jsxs)("div",{className:"flex-1",children:[N,C]}),R[46]=N,R[47]=C,R[48]=_):_=R[48],R[49]!==w||R[50]!==_?(k=(0,t.jsxs)("div",{className:"mb-4 flex items-center gap-4",children:[w,_]}),R[49]=w,R[50]=_,R[51]=k):k=R[51],R[52]!==et||R[53]!==Z||R[54]!==$.stars?(S=et?(0,t.jsx)(c.default,{stars:$.stars,editable:!0,onChange:e=>Z("stars",e)}):(0,t.jsx)(n.default,{stars:$.stars}),R[52]=et,R[53]=Z,R[54]=$.stars,R[55]=S):S=R[55],R[56]!==Z?(I=e=>Z("description",e.currentTarget.textContent||""),R[56]=Z,R[57]=I):I=R[57],R[58]!==et||R[59]!==M?(U=e=>{et||(e.preventDefault(),A(!M))},R[58]=et,R[59]=M,R[60]=U):U=R[60];let en=et?"cursor-text":"cursor-pointer",eo=!et&&(M?"line-clamp-none":"line-clamp-3");return R[61]!==en||R[62]!==eo?(G=(0,i.cn)("mt-3 text-sm leading-relaxed text-gray-600 transition-all duration-300 focus:outline-none",en,eo),R[61]=en,R[62]=eo,R[63]=G):G=R[63],R[64]!==et||R[65]!==$.description||R[66]!==I||R[67]!==U||R[68]!==G?(B=(0,t.jsx)("p",{contentEditable:et,suppressContentEditableWarning:!0,onBlur:I,onClick:U,className:G,children:$.description}),R[64]=et,R[65]=$.description,R[66]=I,R[67]=U,R[68]=G,R[69]=B):B=R[69],R[70]!==k||R[71]!==S||R[72]!==B?(O=(0,t.jsxs)("div",{children:[k,S,B]}),R[70]=k,R[71]=S,R[72]=B,R[73]=O):O=R[73],R[74]!==et||R[75]!==Y||R[76]!==$.avatar||R[77]!==J?(T=et&&J&&(0,t.jsx)(m,{currentAvatar:$.avatar,onClose:()=>V(!1),onSubmit:Y}),R[74]=et,R[75]=Y,R[76]=$.avatar,R[77]=J,R[78]=T):T=R[78],R[79]!==O||R[80]!==T||R[81]!==h||R[82]!==g?(F=(0,t.jsxs)(s.motion.div,{initial:p,...h,className:"card relative block overflow-hidden",children:[g,O,T]}),R[79]=O,R[80]=T,R[81]=h,R[82]=g,R[83]=F):F=R[83],F}function h(e){let s,r,n,o,i,c,u,d,m=(0,l.c)(29),{bloggers:h,isEditMode:g,onUpdate:x,onDelete:b}=e,v=void 0!==g&&g,[f,w]=(0,a.useState)("");if(m[0]!==h||m[1]!==v||m[2]!==b||m[3]!==x||m[4]!==f){let e,a,l;m[10]!==f?(e=e=>e.name.toLowerCase().includes(f.toLowerCase())||e.description.toLowerCase().includes(f.toLowerCase()),m[10]=f,m[11]=e):e=m[11],s=h.filter(e),o="mx-auto w-full max-w-7xl px-6 pt-24 pb-12",m[12]===Symbol.for("react.memo_cache_sentinel")?(a=e=>w(e.target.value),m[12]=a):a=m[12],m[13]!==f?(i=(0,t.jsx)("div",{className:"mb-8",children:(0,t.jsx)("input",{type:"text",placeholder:"搜索博主...",value:f,onChange:a,className:"focus:ring-brand mx-auto block w-full max-w-md rounded-lg border border-gray-300 px-4 py-2 focus:ring-2 focus:outline-none"})}),m[13]=f,m[14]=i):i=m[14],r="grid grid-cols-1 gap-8 md:grid-cols-2 lg:grid-cols-3",m[15]!==v||m[16]!==b||m[17]!==x?(l=e=>(0,t.jsx)(p,{blogger:e,isEditMode:v,onUpdate:x,onDelete:()=>b?.(e)},e.url),m[15]=v,m[16]=b,m[17]=x,m[18]=l):l=m[18],n=s.map(l),m[0]=h,m[1]=v,m[2]=b,m[3]=x,m[4]=f,m[5]=s,m[6]=r,m[7]=n,m[8]=o,m[9]=i}else s=m[5],r=m[6],n=m[7],o=m[8],i=m[9];return m[19]!==r||m[20]!==n?(c=(0,t.jsx)("div",{className:r,children:n}),m[19]=r,m[20]=n,m[21]=c):c=m[21],m[22]!==s.length?(u=0===s.length&&(0,t.jsx)("div",{className:"mt-12 text-center text-gray-500",children:(0,t.jsx)("p",{children:"没有找到相关博主"})}),m[22]=s.length,m[23]=u):u=m[23],m[24]!==o||m[25]!==i||m[26]!==c||m[27]!==u?(d=(0,t.jsxs)("div",{className:o,children:[i,c,u]}),m[24]=o,m[25]=i,m[26]=c,m[27]=u,m[28]=d):d=m[28],d}function g(e){let s,n,o,i,c,p,h,g,x,b,v,f,w,y,j,N,C,_,k,S,I,U,G,B=(0,l.c)(60),{blogger:O,onClose:T,onSave:F}=e;B[0]===Symbol.for("react.memo_cache_sentinel")?(s={name:"",avatar:"",url:"",description:"",stars:3},B[0]=s):s=B[0];let[R,E]=(0,a.useState)(s),[H,z]=(0,a.useState)(!1);B[1]!==O?(n=()=>{O?E(O):E({name:"",avatar:"",url:"",description:"",stars:3})},o=[O],B[1]=O,B[2]=n,B[3]=o):(n=B[2],o=B[3]),(0,a.useEffect)(n,o),B[4]!==R?(i=e=>{let t="url"===e.type?e.url:e.previewUrl;E({...R,avatar:t})},B[4]=R,B[5]=i):i=B[5];let L=i;B[6]!==O||B[7]!==R||B[8]!==T||B[9]!==F?(c=()=>{R.name.trim()&&R.avatar.trim()&&R.url.trim()&&R.description.trim()?(F(R),T(),r.toast.success(O?"更新成功":"添加成功")):r.toast.error("请填写所有必填项")},B[6]=O,B[7]=R,B[8]=T,B[9]=F,B[10]=c):c=B[10];let D=c;B[11]===Symbol.for("react.memo_cache_sentinel")?(p=()=>z(!0),B[11]=p):p=B[11],B[12]!==R.avatar||B[13]!==R.name?(h=(0,t.jsx)("div",{className:"group relative cursor-pointer",onClick:p,children:R.avatar?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("img",{src:R.avatar,alt:R.name,className:"h-16 w-16 rounded-full object-cover"}),(0,t.jsx)("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center rounded-full bg-black/40 opacity-0 transition-opacity group-hover:opacity-100",children:(0,t.jsx)("span",{className:"text-xs text-white",children:"更换"})})]}):(0,t.jsx)("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-gray-200",children:(0,t.jsx)(u.Plus,{className:"h-6 w-6 text-gray-500"})})}),B[12]=R.avatar,B[13]=R.name,B[14]=h):h=B[14],B[15]!==R?(g=e=>E({...R,name:e.target.value}),B[15]=R,B[16]=g):g=B[16],B[17]!==R.name||B[18]!==g?(x=(0,t.jsx)("input",{type:"text",value:R.name,onChange:g,placeholder:"博主名称",className:"w-full text-lg font-bold focus:outline-none"}),B[17]=R.name,B[18]=g,B[19]=x):x=B[19],B[20]!==R?(b=e=>E({...R,url:e.target.value}),B[20]=R,B[21]=b):b=B[21],B[22]!==R.url||B[23]!==b?(v=(0,t.jsx)("input",{type:"url",value:R.url,onChange:b,placeholder:"https://example.com",className:"text-secondary mt-1 w-full truncate text-xs focus:outline-none"}),B[22]=R.url,B[23]=b,B[24]=v):v=B[24],B[25]!==v||B[26]!==x?(f=(0,t.jsxs)("div",{className:"flex-1",children:[x,v]}),B[25]=v,B[26]=x,B[27]=f):f=B[27],B[28]!==f||B[29]!==h?(w=(0,t.jsxs)("div",{className:"mb-4 flex items-center gap-4",children:[h,f]}),B[28]=f,B[29]=h,B[30]=w):w=B[30],B[31]===Symbol.for("react.memo_cache_sentinel")?(y=[1,2,3,4,5],B[31]=y):y=B[31],B[32]!==R?(j=(0,t.jsx)("div",{className:"flex items-center gap-0.5",children:y.map(e=>(0,t.jsx)("div",{onClick:()=>E({...R,stars:e}),className:"cursor-pointer",children:(0,t.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",className:e<=R.stars?"fill-yellow-400":"fill-gray-300",children:(0,t.jsx)("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})})},e))}),B[32]=R,B[33]=j):j=B[33],B[34]!==R?(N=e=>E({...R,description:e.target.value}),B[34]=R,B[35]=N):N=B[35],B[36]!==R.description||B[37]!==N?(C=(0,t.jsx)("textarea",{value:R.description,onChange:N,placeholder:"博主介绍...",className:"mt-3 w-full resize-none text-sm leading-relaxed focus:outline-none",rows:4}),B[36]=R.description,B[37]=N,B[38]=C):C=B[38],B[39]!==w||B[40]!==j||B[41]!==C?(_=(0,t.jsxs)("div",{children:[w,j,C]}),B[39]=w,B[40]=j,B[41]=C,B[42]=_):_=B[42],B[43]!==T?(k=(0,t.jsx)("button",{onClick:T,className:"flex-1 rounded-lg border border-gray-300 bg-white px-4 py-2 text-sm transition-colors hover:bg-gray-50",children:"取消"}),B[43]=T,B[44]=k):k=B[44];let M=O?"保存":"添加";return B[45]!==D||B[46]!==M?(S=(0,t.jsx)("button",{onClick:D,className:"brand-btn flex-1 justify-center px-4",children:M}),B[45]=D,B[46]=M,B[47]=S):S=B[47],B[48]!==k||B[49]!==S?(I=(0,t.jsxs)("div",{className:"mt-6 flex gap-3",children:[k,S]}),B[48]=k,B[49]=S,B[50]=I):I=B[50],B[51]!==R.avatar||B[52]!==L||B[53]!==H?(U=H&&(0,t.jsx)(m,{currentAvatar:R.avatar,onClose:()=>z(!1),onSubmit:L}),B[51]=R.avatar,B[52]=L,B[53]=H,B[54]=U):U=B[54],B[55]!==T||B[56]!==_||B[57]!==I||B[58]!==U?(G=(0,t.jsxs)(d.DialogModal,{open:!0,onClose:T,className:"card w-sm",children:[_,I,U]}),B[55]=T,B[56]=_,B[57]=I,B[58]=U,B[59]=G):G=B[59],G}var x=e.i(37572),b=e.i(97005),v=e.i(86909),f=e.i(63580);async function w(e){let{bloggers:t,avatarItems:a}=e,s=await (0,v.getAuthToken)();r.toast.info("正在获取分支信息...");let l=(await (0,x.getRef)(s,f.GITHUB_CONFIG.OWNER,f.GITHUB_CONFIG.REPO,`heads/${f.GITHUB_CONFIG.BRANCH}`)).sha,n=`更新博主列表`;r.toast.info("正在准备文件...");let o=[],c=new Set,u=[...t];if(a&&a.size>0){for(let[e,t]of(r.toast.info("正在上传头像..."),a.entries()))if("file"===t.type){let a=t.hash||await (0,b.hashFileSHA256)(t.file),r=(0,i.getFileExt)(t.file.name),l=`${a}${r}`,n=`/images/blogger/${l}`;if(!c.has(a)){let e=`public/images/blogger/${l}`,r=await (0,b.fileToBase64NoPrefix)(t.file),n=await (0,x.createBlob)(s,f.GITHUB_CONFIG.OWNER,f.GITHUB_CONFIG.REPO,r,"base64");o.push({path:e,mode:"100644",type:"blob",sha:n.sha}),c.add(a)}u=u.map(t=>t.url===e?{...t,avatar:n}:t)}}let d=JSON.stringify(u,null,"	"),m=await (0,x.createBlob)(s,f.GITHUB_CONFIG.OWNER,f.GITHUB_CONFIG.REPO,(0,x.toBase64Utf8)(d),"base64");o.push({path:"src/app/bloggers/list.json",mode:"100644",type:"blob",sha:m.sha}),r.toast.info("正在创建文件树...");let p=await (0,x.createTree)(s,f.GITHUB_CONFIG.OWNER,f.GITHUB_CONFIG.REPO,o,l);r.toast.info("正在创建提交...");let h=await (0,x.createCommit)(s,f.GITHUB_CONFIG.OWNER,f.GITHUB_CONFIG.REPO,n,p.sha,[l]);r.toast.info("正在更新分支..."),await (0,x.updateRef)(s,f.GITHUB_CONFIG.OWNER,f.GITHUB_CONFIG.REPO,`heads/${f.GITHUB_CONFIG.BRANCH}`,h.sha),r.toast.success("发布成功！")}var y=e.i(71436),j=e.i(40038);function N(){let[e,l]=(0,a.useState)(j.default),[n,o]=(0,a.useState)(j.default),[i,c]=(0,a.useState)(!1),[u,d]=(0,a.useState)(!1),[m,p]=(0,a.useState)(null),[x,b]=(0,a.useState)(!1),[v,f]=(0,a.useState)(new Map),N=(0,a.useRef)(null),{isAuth:C,setPrivateKey:_}=(0,y.useAuthStore)(),k=async e=>{try{let t=await e.text();_(t),await S()}catch(e){console.error("Failed to read private key:",e),r.toast.error("读取密钥文件失败")}},S=async()=>{d(!0);try{await w({bloggers:e,avatarItems:v}),o(e),f(new Map),c(!1),r.toast.success("保存成功！")}catch(e){console.error("Failed to save:",e),r.toast.error(`保存失败: ${e?.message||"未知错误"}`)}finally{d(!1)}};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("input",{ref:N,type:"file",accept:".pem",className:"hidden",onChange:async e=>{let t=e.target.files?.[0];t&&await k(t),e.currentTarget&&(e.currentTarget.value="")}}),(0,t.jsx)(h,{bloggers:e,isEditMode:i,onUpdate:(e,t,a)=>{l(a=>a.map(a=>a.url===t.url?e:a)),a&&f(t=>{let s=new Map(t);return s.set(e.url,a),s})},onDelete:t=>{confirm(`确定要删除 ${t.name} 吗？`)&&l(e.filter(e=>e.url!==t.url))}}),(0,t.jsx)(s.motion.div,{initial:{opacity:0,scale:.6},animate:{opacity:1,scale:1},className:"absolute top-4 right-6 flex gap-3 max-sm:hidden",children:i?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.motion.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{l(n),f(new Map),c(!1)},disabled:u,className:"rounded-xl border bg-white/60 px-6 py-2 text-sm",children:"取消"}),(0,t.jsx)(s.motion.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{p(null),b(!0)},className:"rounded-xl border bg-white/60 px-6 py-2 text-sm",children:"添加"}),(0,t.jsx)(s.motion.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{C?S():N.current?.click()},disabled:u,className:"brand-btn px-6",children:u?"保存中...":C?"保存":"导入密钥"})]}):(0,t.jsx)(s.motion.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>c(!0),className:"rounded-xl border bg-white/60 px-6 py-2 text-sm backdrop-blur-sm transition-colors hover:bg-white/80",children:"编辑"})}),x&&(0,t.jsx)(g,{blogger:m,onClose:()=>b(!1),onSave:t=>{m?l(e.map(e=>e.url===m.url?t:e)):l([...e,t])}})]})}e.s(["default",()=>N],88596)}]);